(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var om={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function mA(){if(c0)return wc;c0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return wc.Fragment=e,wc.jsx=n,wc.jsxs=n,wc}var h0;function gA(){return h0||(h0=1,om.exports=mA()),om.exports}var M=gA(),lm={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function yA(){if(f0)return pt;f0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),x=Symbol.iterator;function R(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,re={};function ee(F,ce,_e){this.props=F,this.context=ce,this.refs=re,this.updater=_e||K}ee.prototype.isReactComponent={},ee.prototype.setState=function(F,ce){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ce,"setState")},ee.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function le(){}le.prototype=ee.prototype;function be(F,ce,_e){this.props=F,this.context=ce,this.refs=re,this.updater=_e||K}var je=be.prototype=new le;je.constructor=be,se(je,ee.prototype),je.isPureReactComponent=!0;var we=Array.isArray;function Me(){}var V={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function k(F,ce,_e){var Se=_e.ref;return{$$typeof:r,type:F,key:ce,ref:Se!==void 0?Se:null,props:_e}}function z(F,ce){return k(F.type,ce,F.props)}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function U(F){var ce={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(_e){return ce[_e]})}var D=/\/+/g;function G(F,ce){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):ce.toString(36)}function te(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Me,Me):(F.status="pending",F.then(function(ce){F.status==="pending"&&(F.status="fulfilled",F.value=ce)},function(ce){F.status==="pending"&&(F.status="rejected",F.reason=ce)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Y(F,ce,_e,Se,Ue){var Pe=typeof F;(Pe==="undefined"||Pe==="boolean")&&(F=null);var Ke=!1;if(F===null)Ke=!0;else switch(Pe){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(F.$$typeof){case r:case e:Ke=!0;break;case A:return Ke=F._init,Y(Ke(F._payload),ce,_e,Se,Ue)}}if(Ke)return Ue=Ue(F),Ke=Se===""?"."+G(F,0):Se,we(Ue)?(_e="",Ke!=null&&(_e=Ke.replace(D,"$&/")+"/"),Y(Ue,ce,_e,"",function(Jt){return Jt})):Ue!=null&&(I(Ue)&&(Ue=z(Ue,_e+(Ue.key==null||F&&F.key===Ue.key?"":(""+Ue.key).replace(D,"$&/")+"/")+Ke)),ce.push(Ue)),1;Ke=0;var st=Se===""?".":Se+":";if(we(F))for(var gt=0;gt<F.length;gt++)Se=F[gt],Pe=st+G(Se,gt),Ke+=Y(Se,ce,_e,Pe,Ue);else if(gt=R(F),typeof gt=="function")for(F=gt.call(F),gt=0;!(Se=F.next()).done;)Se=Se.value,Pe=st+G(Se,gt++),Ke+=Y(Se,ce,_e,Pe,Ue);else if(Pe==="object"){if(typeof F.then=="function")return Y(te(F),ce,_e,Se,Ue);throw ce=String(F),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function Z(F,ce,_e){if(F==null)return F;var Se=[],Ue=0;return Y(F,Se,"","",function(Pe){return ce.call(_e,Pe,Ue++)}),Se}function Ae(F){if(F._status===-1){var ce=F._result;ce=ce(),ce.then(function(_e){(F._status===0||F._status===-1)&&(F._status=1,F._result=_e)},function(_e){(F._status===0||F._status===-1)&&(F._status=2,F._result=_e)}),F._status===-1&&(F._status=0,F._result=ce)}if(F._status===1)return F._result.default;throw F._result}var pe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ne={map:Z,forEach:function(F,ce,_e){Z(F,function(){ce.apply(this,arguments)},_e)},count:function(F){var ce=0;return Z(F,function(){ce++}),ce},toArray:function(F){return Z(F,function(ce){return ce})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return pt.Activity=N,pt.Children=Ne,pt.Component=ee,pt.Fragment=n,pt.Profiler=o,pt.PureComponent=be,pt.StrictMode=s,pt.Suspense=_,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,pt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},pt.cache=function(F){return function(){return F.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(F,ce,_e){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Se=se({},F.props),Ue=F.key;if(ce!=null)for(Pe in ce.key!==void 0&&(Ue=""+ce.key),ce)!q.call(ce,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ce.ref===void 0||(Se[Pe]=ce[Pe]);var Pe=arguments.length-2;if(Pe===1)Se.children=_e;else if(1<Pe){for(var Ke=Array(Pe),st=0;st<Pe;st++)Ke[st]=arguments[st+2];Se.children=Ke}return k(F.type,Ue,Se)},pt.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},pt.createElement=function(F,ce,_e){var Se,Ue={},Pe=null;if(ce!=null)for(Se in ce.key!==void 0&&(Pe=""+ce.key),ce)q.call(ce,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ue[Se]=ce[Se]);var Ke=arguments.length-2;if(Ke===1)Ue.children=_e;else if(1<Ke){for(var st=Array(Ke),gt=0;gt<Ke;gt++)st[gt]=arguments[gt+2];Ue.children=st}if(F&&F.defaultProps)for(Se in Ke=F.defaultProps,Ke)Ue[Se]===void 0&&(Ue[Se]=Ke[Se]);return k(F,Pe,Ue)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(F){return{$$typeof:y,render:F}},pt.isValidElement=I,pt.lazy=function(F){return{$$typeof:A,_payload:{_status:-1,_result:F},_init:Ae}},pt.memo=function(F,ce){return{$$typeof:v,type:F,compare:ce===void 0?null:ce}},pt.startTransition=function(F){var ce=V.T,_e={};V.T=_e;try{var Se=F(),Ue=V.S;Ue!==null&&Ue(_e,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(Me,pe)}catch(Pe){pe(Pe)}finally{ce!==null&&_e.types!==null&&(ce.types=_e.types),V.T=ce}},pt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},pt.use=function(F){return V.H.use(F)},pt.useActionState=function(F,ce,_e){return V.H.useActionState(F,ce,_e)},pt.useCallback=function(F,ce){return V.H.useCallback(F,ce)},pt.useContext=function(F){return V.H.useContext(F)},pt.useDebugValue=function(){},pt.useDeferredValue=function(F,ce){return V.H.useDeferredValue(F,ce)},pt.useEffect=function(F,ce){return V.H.useEffect(F,ce)},pt.useEffectEvent=function(F){return V.H.useEffectEvent(F)},pt.useId=function(){return V.H.useId()},pt.useImperativeHandle=function(F,ce,_e){return V.H.useImperativeHandle(F,ce,_e)},pt.useInsertionEffect=function(F,ce){return V.H.useInsertionEffect(F,ce)},pt.useLayoutEffect=function(F,ce){return V.H.useLayoutEffect(F,ce)},pt.useMemo=function(F,ce){return V.H.useMemo(F,ce)},pt.useOptimistic=function(F,ce){return V.H.useOptimistic(F,ce)},pt.useReducer=function(F,ce,_e){return V.H.useReducer(F,ce,_e)},pt.useRef=function(F){return V.H.useRef(F)},pt.useState=function(F){return V.H.useState(F)},pt.useSyncExternalStore=function(F,ce,_e){return V.H.useSyncExternalStore(F,ce,_e)},pt.useTransition=function(){return V.H.useTransition()},pt.version="19.2.0",pt}var d0;function Xf(){return d0||(d0=1,lm.exports=yA()),lm.exports}var X=Xf(),um={exports:{}},Ec={},cm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function vA(){return p0||(p0=1,(function(r){function e(Y,Z){var Ae=Y.length;Y.push(Z);e:for(;0<Ae;){var pe=Ae-1>>>1,Ne=Y[pe];if(0<o(Ne,Z))Y[pe]=Z,Y[Ae]=Ne,Ae=pe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var Z=Y[0],Ae=Y.pop();if(Ae!==Z){Y[0]=Ae;e:for(var pe=0,Ne=Y.length,F=Ne>>>1;pe<F;){var ce=2*(pe+1)-1,_e=Y[ce],Se=ce+1,Ue=Y[Se];if(0>o(_e,Ae))Se<Ne&&0>o(Ue,_e)?(Y[pe]=Ue,Y[Se]=Ae,pe=Se):(Y[pe]=_e,Y[ce]=Ae,pe=ce);else if(Se<Ne&&0>o(Ue,Ae))Y[pe]=Ue,Y[Se]=Ae,pe=Se;else break e}}return Z}function o(Y,Z){var Ae=Y.sortIndex-Z.sortIndex;return Ae!==0?Ae:Y.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,y=h.now();r.unstable_now=function(){return h.now()-y}}var _=[],v=[],A=1,N=null,x=3,R=!1,K=!1,se=!1,re=!1,ee=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function je(Y){for(var Z=n(v);Z!==null;){if(Z.callback===null)s(v);else if(Z.startTime<=Y)s(v),Z.sortIndex=Z.expirationTime,e(_,Z);else break;Z=n(v)}}function we(Y){if(se=!1,je(Y),!K)if(n(_)!==null)K=!0,Me||(Me=!0,U());else{var Z=n(v);Z!==null&&te(we,Z.startTime-Y)}}var Me=!1,V=-1,q=5,k=-1;function z(){return re?!0:!(r.unstable_now()-k<q)}function I(){if(re=!1,Me){var Y=r.unstable_now();k=Y;var Z=!0;try{e:{K=!1,se&&(se=!1,le(V),V=-1),R=!0;var Ae=x;try{t:{for(je(Y),N=n(_);N!==null&&!(N.expirationTime>Y&&z());){var pe=N.callback;if(typeof pe=="function"){N.callback=null,x=N.priorityLevel;var Ne=pe(N.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ne=="function"){N.callback=Ne,je(Y),Z=!0;break t}N===n(_)&&s(_),je(Y)}else s(_);N=n(_)}if(N!==null)Z=!0;else{var F=n(v);F!==null&&te(we,F.startTime-Y),Z=!1}}break e}finally{N=null,x=Ae,R=!1}Z=void 0}}finally{Z?U():Me=!1}}}var U;if(typeof be=="function")U=function(){be(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=I,U=function(){G.postMessage(null)}}else U=function(){ee(I,0)};function te(Y,Z){V=ee(function(){Y(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var Ae=x;x=Z;try{return Y()}finally{x=Ae}},r.unstable_requestPaint=function(){re=!0},r.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Ae=x;x=Y;try{return Z()}finally{x=Ae}},r.unstable_scheduleCallback=function(Y,Z,Ae){var pe=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?pe+Ae:pe):Ae=pe,Y){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=Ae+Ne,Y={id:A++,callback:Z,priorityLevel:Y,startTime:Ae,expirationTime:Ne,sortIndex:-1},Ae>pe?(Y.sortIndex=Ae,e(v,Y),n(_)===null&&Y===n(v)&&(se?(le(V),V=-1):se=!0,te(we,Ae-pe))):(Y.sortIndex=Ne,e(_,Y),K||R||(K=!0,Me||(Me=!0,U()))),Y},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(Y){var Z=x;return function(){var Ae=x;x=Z;try{return Y.apply(this,arguments)}finally{x=Ae}}}})(hm)),hm}var m0;function _A(){return m0||(m0=1,cm.exports=vA()),cm.exports}var fm={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function wA(){if(g0)return Mi;g0=1;var r=Xf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Mi.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(_,v,null,A)},Mi.flushSync=function(_){var v=h.T,A=s.p;try{if(h.T=null,s.p=2,_)return _()}finally{h.T=v,s.p=A,s.d.f()}},Mi.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Mi.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Mi.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=y(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:x,fetchPriority:R}):A==="script"&&s.d.X(_,{crossOrigin:N,integrity:x,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Mi.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=y(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Mi.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=y(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Mi.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=y(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Mi.requestFormReset=function(_){s.d.r(_)},Mi.unstable_batchedUpdates=function(_,v){return _(v)},Mi.useFormState=function(_,v,A){return h.H.useFormState(_,v,A)},Mi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mi.version="19.2.0",Mi}var y0;function EA(){if(y0)return fm.exports;y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=wA(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function bA(){if(v0)return Ec;v0=1;var r=_A(),e=Xf(),n=EA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function v(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return _(f),t;if(p===l)return _(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var T=!1,P=f.child;P;){if(P===a){T=!0,a=f,l=p;break}if(P===l){T=!0,l=f,a=p;break}P=P.sibling}if(!T){for(P=p.child;P;){if(P===a){T=!0,a=p,l=f;break}if(P===l){T=!0,l=p,a=f;break}P=P.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function A(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=A(t),i!==null)return i;t=t.sibling}return null}var N=Object.assign,x=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),be=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function G(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ee:return"Profiler";case re:return"StrictMode";case we:return"Suspense";case Me:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case be:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case je:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:G(t.type)||"Memo";case q:i=t._payload,t=t._init;try{return G(t(i))}catch{}}return null}var te=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},pe=[],Ne=-1;function F(t){return{current:t}}function ce(t){0>Ne||(t.current=pe[Ne],pe[Ne]=null,Ne--)}function _e(t,i){Ne++,pe[Ne]=t.current,t.current=i}var Se=F(null),Ue=F(null),Pe=F(null),Ke=F(null);function st(t,i){switch(_e(Pe,i),_e(Ue,t),_e(Se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=D_(i),t=P_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(Se),_e(Se,t)}function gt(){ce(Se),ce(Ue),ce(Pe)}function Jt(t){t.memoizedState!==null&&_e(Ke,t);var i=Se.current,a=P_(i,t.type);i!==a&&(_e(Ue,t),_e(Se,a))}function nn(t){Ue.current===t&&(ce(Se),ce(Ue)),Ke.current===t&&(ce(Ke),gc._currentValue=Ae)}var Je,yt;function zt(t){if(Je===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Je=i&&i[1]||"",yt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+t+yt}var Ft=!1;function ci(t,i){if(!t||Ft)return"";Ft=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ge){var de=ge}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ge){de=ge}t.call(Ce.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],P=p[1];if(T&&P){var $=T.split(`
`),fe=P.split(`
`);for(f=l=0;l<$.length&&!$[l].includes("DetermineComponentFrameRoot");)l++;for(;f<fe.length&&!fe[f].includes("DetermineComponentFrameRoot");)f++;if(l===$.length||f===fe.length)for(l=$.length-1,f=fe.length-1;1<=l&&0<=f&&$[l]!==fe[f];)f--;for(;1<=l&&0<=f;l--,f--)if($[l]!==fe[f]){if(l!==1||f!==1)do if(l--,f--,0>f||$[l]!==fe[f]){var Ee=`
`+$[l].replace(" at new "," at ");return t.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",t.displayName)),Ee}while(1<=l&&0<=f);break}}}finally{Ft=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?zt(a):""}function hi(t,i){switch(t.tag){case 26:case 27:case 5:return zt(t.type);case 16:return zt("Lazy");case 13:return t.child!==i&&i!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return ci(t.type,!1);case 11:return ci(t.type.render,!1);case 1:return ci(t.type,!0);case 31:return zt("Activity");default:return""}}function Br(t){try{var i="",a=null;do i+=hi(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,pn=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,Zs=r.unstable_shouldYield,Ci=r.unstable_requestPaint,O=r.unstable_now,g=r.unstable_getCurrentPriorityLevel,b=r.unstable_ImmediatePriority,B=r.unstable_UserBlockingPriority,J=r.unstable_NormalPriority,ye=r.unstable_LowPriority,Oe=r.unstable_IdlePriority,nt=r.log,at=r.unstable_setDisableYieldValue,qe=null,Ze=null;function ft(t){if(typeof nt=="function"&&at(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(qe,t)}catch{}}var Tt=Math.clz32?Math.clz32:fi,rn=Math.log,ni=Math.LN2;function fi(t){return t>>>=0,t===0?32:31-(rn(t)/ni|0)|0}var _n=256,On=262144,Ht=4194304;function Jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~p,l!==0?f=Jn(l):(T&=P,T!==0?f=Jn(T):a||(a=P&~t,a!==0&&(f=Jn(a))))):(P=l&~p,P!==0?f=Jn(P):T!==0?f=Jn(T):a||(a=l&~t,a!==0&&(f=Jn(a)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:f}function xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function it(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var t=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),t}function Vn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ja(t,i,a,l,f,p){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var P=t.entanglements,$=t.expirationTimes,fe=t.hiddenUpdates;for(a=T&~a;0<a;){var Ee=31-Tt(a),Ce=1<<Ee;P[Ee]=0,$[Ee]=-1;var de=fe[Ee];if(de!==null)for(fe[Ee]=null,Ee=0;Ee<de.length;Ee++){var ge=de[Ee];ge!==null&&(ge.lane&=-536870913)}a&=~Ce}l!==0&&ea(t,l,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~i))}function ea(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Tt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ss(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Tt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Ua(t,i){var a=i&-i;return a=(a&42)!==0?1:He(a),(a&(t.suspendedLanes|i))!==0?0:a}function He(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zr(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:i0(t.type))}function Qi(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var Xi=Math.random().toString(36).slice(2),wn="__reactFiber$"+Xi,Ln="__reactProps$"+Xi,Er="__reactContainer$"+Xi,as="__reactEvents$"+Xi,Al="__reactListeners$"+Xi,Sl="__reactHandles$"+Xi,br="__reactResources$"+Xi,Tr="__reactMarker$"+Xi;function Ba(t){delete t[wn],delete t[Ln],delete t[as],delete t[Al],delete t[Sl]}function Ji(t){var i=t[wn];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Er]||a[wn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[wn])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function ji(t){if(t=t[wn]||t[Er]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ui(t){var i=t[br];return i||(i=t[br]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Cn(t){t[Tr]=!0}var Fo=new Set,Cs={};function Ar(t,i){Sr(t,i),Sr(t+"Capture",i)}function Sr(t,i){for(Cs[t]=i,t=0;t<i.length;t++)Fo.add(i[t])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),os={},ta={};function Fr(t){return bt.call(ta,t)?!0:bt.call(os,t)?!1:za.test(t)?ta[t]=!0:(os[t]=!0,!1)}function Hr(t,i,a){if(Fr(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ii(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function mn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rs(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,p.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $t(t){if(!t._valueTracker){var i=ls(t)?"checked":"value";t._valueTracker=Rs(t,i,""+t[i])}}function Hn(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ls(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ot=/[\n"\\]/g;function gn(t){return t.replace(ot,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ri(t,i,a,l,f,p,T,P){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Fa(t,T,on(i)):a!=null?Fa(t,T,on(a)):l!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+on(P):t.removeAttribute("name")}function Ho(t,i,a,l,f,p,T,P){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){$t(t);return}a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,P||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),$t(t)}function Fa(t,i,a){i==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function us(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function hn(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function Zi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$t(t)}function si(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bi(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Is.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function na(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Bi(t,f,l)}else for(var p in i)i.hasOwnProperty(p)&&Bi(t,p,i[p])}function er(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(t){return tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zi(){}var Ha=null;function Fi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hs=null,qr=null;function Ns(t){var i=ji(t);if(i&&(t=i.stateNode)){var a=t[Ln]||null;e:switch(t=i.stateNode,i.type){case"input":if(ri(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ln]||null;if(!f)throw Error(s(90));ri(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Hn(l)}break e;case"textarea":hn(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&us(t,!!a.multiple,i,!1)}}}var fs=!1;function Cr(t,i,a){if(fs)return t(i,a);fs=!0;try{var l=t(i);return l}finally{if(fs=!1,(hs!==null||qr!==null)&&(Bh(),hs&&(i=hs,t=qr,qr=hs=null,Ns(i),t)))for(i=0;i<t.length;i++)Ns(t[i])}}function ai(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ln]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(pi)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Rr=!1}var mi=null,Ms=null,kn=null;function Os(){if(kn)return kn;var t,i=Ms,a=i.length,l,f="value"in mi?mi.value:mi.textContent,p=f.length;for(t=0;t<a&&i[t]===f[t];t++);var T=a-t;for(l=1;l<=T&&i[a-l]===f[p-l];l++);return kn=f.slice(t,1<l?1-l:void 0)}function ia(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qn(){return!0}function Hi(){return!1}function yn(t){function i(a,l,f,p,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(a=t[P],this[P]=a?a(p):p[P]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?qn:Hi,this.isPropagationStopped=Hi,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),i}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=yn(Ir),xs=N({},Ir,{view:0,detail:0}),Ds=yn(xs),Ps,qa,Gr,Ri=N({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(Ps=t.screenX-Gr.screenX,qa=t.screenY-Gr.screenY):qa=Ps=0,Gr=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),Ga=yn(Ri),$r=N({},Ri,{dataTransfer:0}),Go=yn($r),Cl=N({},xs,{relatedTarget:0}),Rn=yn(Cl),$a=N({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),ir=yn($a),ds=N({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ra=yn(ds),$o=N({},Ir,{data:0}),rr=yn($o),Rl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Il[t])?!!i[t]:!1}function ps(){return Nl}var gi=N({},xs,{key:function(t){if(t.key){var i=Rl[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ya[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ml=yn(gi),Ol=N({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ms=yn(Ol),c=N({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),E=yn(c),S=N({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=yn(S),oe=N({},Ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),me=yn(oe),ke=N({},Ir,{newState:0,oldState:0}),ct=yn(ke),bn=[9,13,27,32],kt=pi&&"CompositionEvent"in window,fn=null;pi&&"documentMode"in document&&(fn=document.documentMode);var Ii=pi&&"TextEvent"in window&&!fn,qi=pi&&(!kt||fn&&8<fn&&11>=fn),sr=" ",ar=!1;function sa(t,i){switch(t){case"keyup":return bn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function xl(t,i){switch(t){case"compositionend":return aa(i);case"keypress":return i.which!==32?null:(ar=!0,sr);case"textInput":return t=i.data,t===sr&&ar?null:t;default:return null}}function lh(t,i){if(oa)return t==="compositionend"||!kt&&sa(t,i)?(t=Os(),kn=Ms=mi=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qi&&i.locale!=="ko"?null:i.data;default:return null}}var gs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!gs[t.type]:i==="textarea"}function Uu(t,i,a,l){hs?qr?qr.push(l):qr=[l]:hs=l,i=Yh(i,"onChange"),0<i.length&&(a=new nr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wa=null,Ka=null;function uh(t){R_(t,0)}function Yo(t){var i=En(t);if(Hn(i))return t}function Wo(t,i){if(t==="change")return i}var Bu=!1;if(pi){var d;if(pi){var m="oninput"in document;if(!m){var w=document.createElement("div");w.setAttribute("oninput","return;"),m=typeof w.oninput=="function"}d=m}else d=!1;Bu=d&&(!document.documentMode||9<document.documentMode)}function C(){Wa&&(Wa.detachEvent("onpropertychange",L),Ka=Wa=null)}function L(t){if(t.propertyName==="value"&&Yo(Ka)){var i=[];Uu(i,Ka,t,Fi(t)),Cr(uh,i)}}function H(t,i,a){t==="focusin"?(C(),Wa=i,Ka=a,Wa.attachEvent("onpropertychange",L)):t==="focusout"&&C()}function Q(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yo(Ka)}function ue(t,i){if(t==="click")return Yo(i)}function ve(t,i){if(t==="input"||t==="change")return Yo(i)}function ae(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var De=typeof Object.is=="function"?Object.is:ae;function Le(t,i){if(De(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(i,f)||!De(t[f],i[f]))return!1}return!0}function Ge(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ne(t,i){var a=Ge(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ge(a)}}function Ve(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ve(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Qe(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=di(t.document)}return i}function Be(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var qt=pi&&"documentMode"in document&&11>=document.documentMode,Fe=null,Ot=null,Yt=null,or=!1;function Vs(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;or||Fe==null||Fe!==di(l)||(l=Fe,"selectionStart"in l&&Be(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yt&&Le(Yt,l)||(Yt=l,l=Yh(Ot,"onSelect"),0<l.length&&(i=new nr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Fe)))}function vt(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var yi={animationend:vt("Animation","AnimationEnd"),animationiteration:vt("Animation","AnimationIteration"),animationstart:vt("Animation","AnimationStart"),transitionrun:vt("Transition","TransitionRun"),transitionstart:vt("Transition","TransitionStart"),transitioncancel:vt("Transition","TransitionCancel"),transitionend:vt("Transition","TransitionEnd")},zu={},xe={};pi&&(xe=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function ze(t){if(zu[t])return zu[t];if(!yi[t])return t;var i=yi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xe)return zu[t]=i[a];return t}var St=ze("animationend"),Rt=ze("animationiteration"),dt=ze("animationstart"),It=ze("transitionrun"),Gt=ze("transitionstart"),Wt=ze("transitioncancel"),lr=ze("transitionend"),jn=new Map,Ni="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ni.push("scrollEnd");function en(t,i){jn.set(t,i),Ar(i,[t])}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gi=[],Yr=0,la=0;function Wr(){for(var t=Yr,i=la=Yr=0;i<t;){var a=Gi[i];Gi[i++]=null;var l=Gi[i];Gi[i++]=null;var f=Gi[i];Gi[i++]=null;var p=Gi[i];if(Gi[i++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&ua(a,f,p)}}function Kr(t,i,a,l){Gi[Yr++]=t,Gi[Yr++]=i,Gi[Yr++]=a,Gi[Yr++]=l,la|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pl(t,i,a,l){return Kr(t,i,a,l),Vl(t)}function Ls(t,i){return Kr(t,null,null,i),Vl(t)}function ua(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=t.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&i!==null&&(f=31-Tt(a),t=p.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),p):null}function Vl(t){if(50<uc)throw uc=0,Op=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ca={};function JT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,i,a,l){return new JT(t,i,a,l)}function Td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ha(t,i){var a=t.alternate;return a===null?(a=Nr(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function uy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ch(t,i,a,l,f,p){var T=0;if(l=t,typeof t=="function")Td(t)&&(T=1);else if(typeof t=="string")T=iA(t,a,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Nr(31,a,i,f),t.elementType=k,t.lanes=p,t;case se:return Qo(a.children,f,p,i);case re:T=8,f|=24;break;case ee:return t=Nr(12,a,i,f|2),t.elementType=ee,t.lanes=p,t;case we:return t=Nr(13,a,i,f),t.elementType=we,t.lanes=p,t;case Me:return t=Nr(19,a,i,f),t.elementType=Me,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:T=10;break e;case le:T=9;break e;case je:T=11;break e;case V:T=14;break e;case q:T=16,l=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Nr(T,a,i,f),i.elementType=t,i.type=l,i.lanes=p,i}function Qo(t,i,a,l){return t=Nr(7,t,l,i),t.lanes=a,t}function Ad(t,i,a){return t=Nr(6,t,null,i),t.lanes=a,t}function cy(t){var i=Nr(18,null,null,0);return i.stateNode=t,i}function Sd(t,i,a){return i=Nr(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hy=new WeakMap;function Qr(t,i){if(typeof t=="object"&&t!==null){var a=hy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Br(i)},hy.set(t,i),i)}return{value:t,source:i,stack:Br(i)}}var Ll=[],kl=0,hh=null,Fu=0,Xr=[],Jr=0,Qa=null,ks=1,js="";function fa(t,i){Ll[kl++]=Fu,Ll[kl++]=hh,hh=t,Fu=i}function fy(t,i,a){Xr[Jr++]=ks,Xr[Jr++]=js,Xr[Jr++]=Qa,Qa=t;var l=ks;t=js;var f=32-Tt(l)-1;l&=~(1<<f),a+=1;var p=32-Tt(i)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,ks=1<<32-Tt(i)+f|a<<f|l,js=p+t}else ks=1<<p|a<<f|l,js=t}function Cd(t){t.return!==null&&(fa(t,1),fy(t,1,0))}function Rd(t){for(;t===hh;)hh=Ll[--kl],Ll[kl]=null,Fu=Ll[--kl],Ll[kl]=null;for(;t===Qa;)Qa=Xr[--Jr],Xr[Jr]=null,js=Xr[--Jr],Xr[Jr]=null,ks=Xr[--Jr],Xr[Jr]=null}function dy(t,i){Xr[Jr++]=ks,Xr[Jr++]=js,Xr[Jr++]=Qa,ks=i.id,js=i.overflow,Qa=t}var vi=null,Tn=null,jt=!1,Xa=null,Zr=!1,Id=Error(s(519));function Ja(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hu(Qr(i,t)),Id}function py(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wn]=t,i[Ln]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<hc.length;a++)Mt(hc[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Ho(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Zi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=zi),i=!0):i=!1,i||Ja(t,!0)}function my(t){for(vi=t.return;vi;)switch(vi.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:vi=vi.return}}function jl(t){if(t!==vi)return!1;if(!jt)return my(t),jt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$p(t.type,t.memoizedProps)),a=!a),a&&Tn&&Ja(t),my(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Tn=B_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Tn=B_(t)}else i===27?(i=Tn,fo(t.type)?(t=Xp,Xp=null,Tn=t):Tn=i):Tn=vi?ts(t.stateNode.nextSibling):null;return!0}function Xo(){Tn=vi=null,jt=!1}function Nd(){var t=Xa;return t!==null&&(fr===null?fr=t:fr.push.apply(fr,t),Xa=null),t}function Hu(t){Xa===null?Xa=[t]:Xa.push(t)}var Md=F(null),Jo=null,da=null;function Za(t,i,a){_e(Md,i._currentValue),i._currentValue=a}function pa(t){t._currentValue=Md.current,ce(Md)}function Od(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function xd(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var P=p;p=f;for(var $=0;$<i.length;$++)if(P.context===i[$]){p.lanes|=a,P=p.alternate,P!==null&&(P.lanes|=a),Od(p.return,a,t),l||(T=null);break e}p=P.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),Od(T,a,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ul(t,i,a,l){t=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var P=f.type;De(f.pendingProps.value,T.value)||(t!==null?t.push(P):t=[P])}}else if(f===Ke.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(gc):t=[gc])}f=f.return}t!==null&&xd(i,t,a,l),i.flags|=262144}function fh(t){for(t=t.firstContext;t!==null;){if(!De(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zo(t){Jo=t,da=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _i(t){return gy(Jo,t)}function dh(t,i){return Jo===null&&Zo(t),gy(t,i)}function gy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},da===null){if(t===null)throw Error(s(308));da=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else da=da.next=i;return a}var ZT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},e1=r.unstable_scheduleCallback,t1=r.unstable_NormalPriority,Gn={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new ZT,data:new Map,refCount:0}}function qu(t){t.refCount--,t.refCount===0&&e1(t1,function(){t.controller.abort()})}var Gu=null,Pd=0,Bl=0,zl=null;function n1(t,i){if(Gu===null){var a=Gu=[];Pd=0,Bl=kp(),zl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pd++,i.then(yy,yy),i}function yy(){if(--Pd===0&&Gu!==null){zl!==null&&(zl.status="fulfilled");var t=Gu;Gu=null,Bl=0,zl=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function i1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var vy=Y.S;Y.S=function(t,i){t_=O(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&n1(t,i),vy!==null&&vy(t,i)};var el=F(null);function Vd(){var t=el.current;return t!==null?t:dn.pooledCache}function ph(t,i){i===null?_e(el,el.current):_e(el,i.pool)}function _y(){var t=Vd();return t===null?null:{parent:Gn._currentValue,pool:t}}var Fl=Error(s(460)),Ld=Error(s(474)),mh=Error(s(542)),gh={then:function(){}};function wy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ey(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zi,zi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ty(t),t;default:if(typeof i.status=="string")i.then(zi,zi);else{if(t=dn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ty(t),t}throw nl=i,Fl}}function tl(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(nl=a,Fl):a}}var nl=null;function by(){if(nl===null)throw Error(s(459));var t=nl;return nl=null,t}function Ty(t){if(t===Fl||t===mh)throw Error(s(483))}var Hl=null,$u=0;function yh(t){var i=$u;return $u+=1,Hl===null&&(Hl=[]),Ey(Hl,t,i)}function Yu(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function vh(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ay(t){function i(ie,W){if(t){var he=ie.deletions;he===null?(ie.deletions=[W],ie.flags|=16):he.push(W)}}function a(ie,W){if(!t)return null;for(;W!==null;)i(ie,W),W=W.sibling;return null}function l(ie){for(var W=new Map;ie!==null;)ie.key!==null?W.set(ie.key,ie):W.set(ie.index,ie),ie=ie.sibling;return W}function f(ie,W){return ie=ha(ie,W),ie.index=0,ie.sibling=null,ie}function p(ie,W,he){return ie.index=he,t?(he=ie.alternate,he!==null?(he=he.index,he<W?(ie.flags|=67108866,W):he):(ie.flags|=67108866,W)):(ie.flags|=1048576,W)}function T(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function P(ie,W,he,Te){return W===null||W.tag!==6?(W=Ad(he,ie.mode,Te),W.return=ie,W):(W=f(W,he),W.return=ie,W)}function $(ie,W,he,Te){var et=he.type;return et===se?Ee(ie,W,he.props.children,Te,he.key):W!==null&&(W.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===q&&tl(et)===W.type)?(W=f(W,he.props),Yu(W,he),W.return=ie,W):(W=ch(he.type,he.key,he.props,null,ie.mode,Te),Yu(W,he),W.return=ie,W)}function fe(ie,W,he,Te){return W===null||W.tag!==4||W.stateNode.containerInfo!==he.containerInfo||W.stateNode.implementation!==he.implementation?(W=Sd(he,ie.mode,Te),W.return=ie,W):(W=f(W,he.children||[]),W.return=ie,W)}function Ee(ie,W,he,Te,et){return W===null||W.tag!==7?(W=Qo(he,ie.mode,Te,et),W.return=ie,W):(W=f(W,he),W.return=ie,W)}function Ce(ie,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Ad(""+W,ie.mode,he),W.return=ie,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return he=ch(W.type,W.key,W.props,null,ie.mode,he),Yu(he,W),he.return=ie,he;case K:return W=Sd(W,ie.mode,he),W.return=ie,W;case q:return W=tl(W),Ce(ie,W,he)}if(te(W)||U(W))return W=Qo(W,ie.mode,he,null),W.return=ie,W;if(typeof W.then=="function")return Ce(ie,yh(W),he);if(W.$$typeof===be)return Ce(ie,dh(ie,W),he);vh(ie,W)}return null}function de(ie,W,he,Te){var et=W!==null?W.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return et!==null?null:P(ie,W,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case R:return he.key===et?$(ie,W,he,Te):null;case K:return he.key===et?fe(ie,W,he,Te):null;case q:return he=tl(he),de(ie,W,he,Te)}if(te(he)||U(he))return et!==null?null:Ee(ie,W,he,Te,null);if(typeof he.then=="function")return de(ie,W,yh(he),Te);if(he.$$typeof===be)return de(ie,W,dh(ie,he),Te);vh(ie,he)}return null}function ge(ie,W,he,Te,et){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ie=ie.get(he)||null,P(W,ie,""+Te,et);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case R:return ie=ie.get(Te.key===null?he:Te.key)||null,$(W,ie,Te,et);case K:return ie=ie.get(Te.key===null?he:Te.key)||null,fe(W,ie,Te,et);case q:return Te=tl(Te),ge(ie,W,he,Te,et)}if(te(Te)||U(Te))return ie=ie.get(he)||null,Ee(W,ie,Te,et,null);if(typeof Te.then=="function")return ge(ie,W,he,yh(Te),et);if(Te.$$typeof===be)return ge(ie,W,he,dh(W,Te),et);vh(W,Te)}return null}function We(ie,W,he,Te){for(var et=null,Kt=null,Xe=W,Et=W=0,Dt=null;Xe!==null&&Et<he.length;Et++){Xe.index>Et?(Dt=Xe,Xe=null):Dt=Xe.sibling;var Qt=de(ie,Xe,he[Et],Te);if(Qt===null){Xe===null&&(Xe=Dt);break}t&&Xe&&Qt.alternate===null&&i(ie,Xe),W=p(Qt,W,Et),Kt===null?et=Qt:Kt.sibling=Qt,Kt=Qt,Xe=Dt}if(Et===he.length)return a(ie,Xe),jt&&fa(ie,Et),et;if(Xe===null){for(;Et<he.length;Et++)Xe=Ce(ie,he[Et],Te),Xe!==null&&(W=p(Xe,W,Et),Kt===null?et=Xe:Kt.sibling=Xe,Kt=Xe);return jt&&fa(ie,Et),et}for(Xe=l(Xe);Et<he.length;Et++)Dt=ge(Xe,ie,Et,he[Et],Te),Dt!==null&&(t&&Dt.alternate!==null&&Xe.delete(Dt.key===null?Et:Dt.key),W=p(Dt,W,Et),Kt===null?et=Dt:Kt.sibling=Dt,Kt=Dt);return t&&Xe.forEach(function(vo){return i(ie,vo)}),jt&&fa(ie,Et),et}function rt(ie,W,he,Te){if(he==null)throw Error(s(151));for(var et=null,Kt=null,Xe=W,Et=W=0,Dt=null,Qt=he.next();Xe!==null&&!Qt.done;Et++,Qt=he.next()){Xe.index>Et?(Dt=Xe,Xe=null):Dt=Xe.sibling;var vo=de(ie,Xe,Qt.value,Te);if(vo===null){Xe===null&&(Xe=Dt);break}t&&Xe&&vo.alternate===null&&i(ie,Xe),W=p(vo,W,Et),Kt===null?et=vo:Kt.sibling=vo,Kt=vo,Xe=Dt}if(Qt.done)return a(ie,Xe),jt&&fa(ie,Et),et;if(Xe===null){for(;!Qt.done;Et++,Qt=he.next())Qt=Ce(ie,Qt.value,Te),Qt!==null&&(W=p(Qt,W,Et),Kt===null?et=Qt:Kt.sibling=Qt,Kt=Qt);return jt&&fa(ie,Et),et}for(Xe=l(Xe);!Qt.done;Et++,Qt=he.next())Qt=ge(Xe,ie,Et,Qt.value,Te),Qt!==null&&(t&&Qt.alternate!==null&&Xe.delete(Qt.key===null?Et:Qt.key),W=p(Qt,W,Et),Kt===null?et=Qt:Kt.sibling=Qt,Kt=Qt);return t&&Xe.forEach(function(pA){return i(ie,pA)}),jt&&fa(ie,Et),et}function cn(ie,W,he,Te){if(typeof he=="object"&&he!==null&&he.type===se&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case R:e:{for(var et=he.key;W!==null;){if(W.key===et){if(et=he.type,et===se){if(W.tag===7){a(ie,W.sibling),Te=f(W,he.props.children),Te.return=ie,ie=Te;break e}}else if(W.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===q&&tl(et)===W.type){a(ie,W.sibling),Te=f(W,he.props),Yu(Te,he),Te.return=ie,ie=Te;break e}a(ie,W);break}else i(ie,W);W=W.sibling}he.type===se?(Te=Qo(he.props.children,ie.mode,Te,he.key),Te.return=ie,ie=Te):(Te=ch(he.type,he.key,he.props,null,ie.mode,Te),Yu(Te,he),Te.return=ie,ie=Te)}return T(ie);case K:e:{for(et=he.key;W!==null;){if(W.key===et)if(W.tag===4&&W.stateNode.containerInfo===he.containerInfo&&W.stateNode.implementation===he.implementation){a(ie,W.sibling),Te=f(W,he.children||[]),Te.return=ie,ie=Te;break e}else{a(ie,W);break}else i(ie,W);W=W.sibling}Te=Sd(he,ie.mode,Te),Te.return=ie,ie=Te}return T(ie);case q:return he=tl(he),cn(ie,W,he,Te)}if(te(he))return We(ie,W,he,Te);if(U(he)){if(et=U(he),typeof et!="function")throw Error(s(150));return he=et.call(he),rt(ie,W,he,Te)}if(typeof he.then=="function")return cn(ie,W,yh(he),Te);if(he.$$typeof===be)return cn(ie,W,dh(ie,he),Te);vh(ie,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,W!==null&&W.tag===6?(a(ie,W.sibling),Te=f(W,he),Te.return=ie,ie=Te):(a(ie,W),Te=Ad(he,ie.mode,Te),Te.return=ie,ie=Te),T(ie)):a(ie,W)}return function(ie,W,he,Te){try{$u=0;var et=cn(ie,W,he,Te);return Hl=null,et}catch(Xe){if(Xe===Fl||Xe===mh)throw Xe;var Kt=Nr(29,Xe,null,ie.mode);return Kt.lanes=Te,Kt.return=ie,Kt}finally{}}}var il=Ay(!0),Sy=Ay(!1),eo=!1;function kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function to(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function no(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Vl(t),ua(t,null,a),i}return Kr(t,l,i,a),Vl(t)}function Wu(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ss(t,a)}}function Ud(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Bd=!1;function Ku(){if(Bd){var t=zl;if(t!==null)throw t}}function Qu(t,i,a,l){Bd=!1;var f=t.updateQueue;eo=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var $=P,fe=$.next;$.next=null,T===null?p=fe:T.next=fe,T=$;var Ee=t.alternate;Ee!==null&&(Ee=Ee.updateQueue,P=Ee.lastBaseUpdate,P!==T&&(P===null?Ee.firstBaseUpdate=fe:P.next=fe,Ee.lastBaseUpdate=$))}if(p!==null){var Ce=f.baseState;T=0,Ee=fe=$=null,P=p;do{var de=P.lane&-536870913,ge=de!==P.lane;if(ge?(xt&de)===de:(l&de)===de){de!==0&&de===Bl&&(Bd=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var We=t,rt=P;de=i;var cn=a;switch(rt.tag){case 1:if(We=rt.payload,typeof We=="function"){Ce=We.call(cn,Ce,de);break e}Ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=rt.payload,de=typeof We=="function"?We.call(cn,Ce,de):We,de==null)break e;Ce=N({},Ce,de);break e;case 2:eo=!0}}de=P.callback,de!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=f.callbacks,ge===null?f.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ee===null?(fe=Ee=ge,$=Ce):Ee=Ee.next=ge,T|=de;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;ge=P,P=ge.next,ge.next=null,f.lastBaseUpdate=ge,f.shared.pending=null}}while(!0);Ee===null&&($=Ce),f.baseState=$,f.firstBaseUpdate=fe,f.lastBaseUpdate=Ee,p===null&&(f.shared.lanes=0),oo|=T,t.lanes=T,t.memoizedState=Ce}}function Cy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cy(a[t],i)}var ql=F(null),_h=F(0);function Iy(t,i){t=Ta,_e(_h,t),_e(ql,i),Ta=t|i.baseLanes}function zd(){_e(_h,Ta),_e(ql,ql.current)}function Fd(){Ta=_h.current,ce(ql),ce(_h)}var Mr=F(null),es=null;function io(t){var i=t.alternate;_e(Un,Un.current&1),_e(Mr,t),es===null&&(i===null||ql.current!==null||i.memoizedState!==null)&&(es=t)}function Hd(t){_e(Un,Un.current),_e(Mr,t),es===null&&(es=t)}function Ny(t){t.tag===22?(_e(Un,Un.current),_e(Mr,t),es===null&&(es=t)):ro()}function ro(){_e(Un,Un.current),_e(Mr,Mr.current)}function Or(t){ce(Mr),es===t&&(es=null),ce(Un)}var Un=F(0);function wh(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kp(a)||Qp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ma=0,_t=null,ln=null,$n=null,Eh=!1,Gl=!1,rl=!1,bh=0,Xu=0,$l=null,r1=0;function Dn(){throw Error(s(321))}function qd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!De(t[a],i[a]))return!1;return!0}function Gd(t,i,a,l,f,p){return ma=p,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?fv:ap,rl=!1,p=a(l,f),rl=!1,Gl&&(p=Oy(i,a,l,f)),My(t),p}function My(t){Y.H=ec;var i=ln!==null&&ln.next!==null;if(ma=0,$n=ln=_t=null,Eh=!1,Xu=0,$l=null,i)throw Error(s(300));t===null||Yn||(t=t.dependencies,t!==null&&fh(t)&&(Yn=!0))}function Oy(t,i,a,l){_t=t;var f=0;do{if(Gl&&($l=null),Xu=0,Gl=!1,25<=f)throw Error(s(301));if(f+=1,$n=ln=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=dv,p=i(a,l)}while(Gl);return p}function s1(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Ju(i):i,t=t.useState()[0],(ln!==null?ln.memoizedState:null)!==t&&(_t.flags|=1024),i}function $d(){var t=bh!==0;return bh=0,t}function Yd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wd(t){if(Eh){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Eh=!1}ma=0,$n=ln=_t=null,Gl=!1,Xu=bh=0,$l=null}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?_t.memoizedState=$n=t:$n=$n.next=t,$n}function Bn(){if(ln===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var i=$n===null?_t.memoizedState:$n.next;if(i!==null)$n=i,ln=t;else{if(t===null)throw _t.alternate===null?Error(s(467)):Error(s(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},$n===null?_t.memoizedState=$n=t:$n=$n.next=t}return $n}function Th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(t){var i=Xu;return Xu+=1,$l===null&&($l=[]),t=Ey($l,t,i),i=_t,($n===null?i.memoizedState:$n.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?fv:ap),t}function Ah(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ju(t);if(t.$$typeof===be)return _i(t)}throw Error(s(438,String(t)))}function Kd(t){var i=null,a=_t.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=_t.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Th(),_t.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=z;return i.index++,a}function ga(t,i){return typeof i=="function"?i(t):i}function Sh(t){var i=Bn();return Qd(i,ln,t)}function Qd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}i.baseQueue=f=p,l.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{i=f.next;var P=T=null,$=null,fe=i,Ee=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(xt&Ce)===Ce:(ma&Ce)===Ce){var de=fe.revertLane;if(de===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===Bl&&(Ee=!0);else if((ma&de)===de){fe=fe.next,de===Bl&&(Ee=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},$===null?(P=$=Ce,T=p):$=$.next=Ce,_t.lanes|=de,oo|=de;Ce=fe.action,rl&&a(p,Ce),p=fe.hasEagerState?fe.eagerState:a(p,Ce)}else de={lane:Ce,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},$===null?(P=$=de,T=p):$=$.next=de,_t.lanes|=Ce,oo|=Ce;fe=fe.next}while(fe!==null&&fe!==i);if($===null?T=p:$.next=P,!De(p,t.memoizedState)&&(Yn=!0,Ee&&(a=zl,a!==null)))throw a;t.memoizedState=p,t.baseState=T,t.baseQueue=$,l.lastRenderedState=p}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xd(t){var i=Bn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do p=t(p,T.action),T=T.next;while(T!==f);De(p,i.memoizedState)||(Yn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,l]}function xy(t,i,a){var l=_t,f=Bn(),p=jt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!De((ln||f).memoizedState,a);if(T&&(f.memoizedState=a,Yn=!0),f=f.queue,ep(Vy.bind(null,l,f,t),[t]),f.getSnapshot!==i||T||$n!==null&&$n.memoizedState.tag&1){if(l.flags|=2048,Yl(9,{destroy:void 0},Py.bind(null,l,f,a,i),null),dn===null)throw Error(s(349));p||(ma&127)!==0||Dy(l,i,a)}return a}function Dy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=_t.updateQueue,i===null?(i=Th(),_t.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Py(t,i,a,l){i.value=a,i.getSnapshot=l,Ly(i)&&ky(t)}function Vy(t,i,a){return a(function(){Ly(i)&&ky(t)})}function Ly(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!De(t,a)}catch{return!0}}function ky(t){var i=Ls(t,2);i!==null&&dr(i,t,2)}function Jd(t){var i=$i();if(typeof t=="function"){var a=t;if(t=a(),rl){ft(!0);try{a()}finally{ft(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},i}function jy(t,i,a,l){return t.baseState=a,Qd(t,ln,typeof l=="function"?l:ga)}function a1(t,i,a,l,f){if(Ih(t))throw Error(s(485));if(t=i.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Y.T!==null?a(!0):p.isTransition=!1,l(p),a=i.pending,a===null?(p.next=i.pending=p,Uy(i,p)):(p.next=a.next,i.pending=a.next=p)}}function Uy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var p=Y.T,T={};Y.T=T;try{var P=a(f,l),$=Y.S;$!==null&&$(T,P),By(t,i,P)}catch(fe){Zd(t,i,fe)}finally{p!==null&&T.types!==null&&(p.types=T.types),Y.T=p}}else try{p=a(f,l),By(t,i,p)}catch(fe){Zd(t,i,fe)}}function By(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(t,i,l)},function(l){return Zd(t,i,l)}):zy(t,i,a)}function zy(t,i,a){i.status="fulfilled",i.value=a,Fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Uy(t,a)))}function Zd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fy(i),i=i.next;while(i!==l)}t.action=null}function Fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hy(t,i){return i}function qy(t,i){if(jt){var a=dn.formState;if(a!==null){e:{var l=_t;if(jt){if(Tn){t:{for(var f=Tn,p=Zr;f.nodeType!==8;){if(!p){f=null;break t}if(f=ts(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Tn=ts(f.nextSibling),l=f.data==="F!";break e}}Ja(l)}l=!1}l&&(i=a[0])}}return a=$i(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:i},a.queue=l,a=uv.bind(null,_t,l),l.dispatch=a,l=Jd(!1),p=sp.bind(null,_t,!1,l.queue),l=$i(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=a1.bind(null,_t,f,p,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Gy(t){var i=Bn();return $y(i,ln,t)}function $y(t,i,a){if(i=Qd(t,i,Hy)[0],t=Sh(ga)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ju(i)}catch(T){throw T===Fl?mh:T}else l=i;i=Bn();var f=i.queue,p=f.dispatch;return a!==i.memoizedState&&(_t.flags|=2048,Yl(9,{destroy:void 0},o1.bind(null,f,a),null)),[l,p,t]}function o1(t,i){t.action=i}function Yy(t){var i=Bn(),a=ln;if(a!==null)return $y(i,a,t);Bn(),i=i.memoizedState,a=Bn();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Yl(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=_t.updateQueue,i===null&&(i=Th(),_t.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Wy(){return Bn().memoizedState}function Ch(t,i,a,l){var f=$i();_t.flags|=t,f.memoizedState=Yl(1|i,{destroy:void 0},a,l===void 0?null:l)}function Rh(t,i,a,l){var f=Bn();l=l===void 0?null:l;var p=f.memoizedState.inst;ln!==null&&l!==null&&qd(l,ln.memoizedState.deps)?f.memoizedState=Yl(i,p,a,l):(_t.flags|=t,f.memoizedState=Yl(1|i,p,a,l))}function Ky(t,i){Ch(8390656,8,t,i)}function ep(t,i){Rh(2048,8,t,i)}function l1(t){_t.flags|=4;var i=_t.updateQueue;if(i===null)i=Th(),_t.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Qy(t){var i=Bn().memoizedState;return l1({ref:i,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Xy(t,i){return Rh(4,2,t,i)}function Jy(t,i){return Rh(4,4,t,i)}function Zy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ev(t,i,a){a=a!=null?a.concat([t]):null,Rh(4,4,Zy.bind(null,i,t),a)}function tp(){}function tv(t,i){var a=Bn();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&qd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function nv(t,i){var a=Bn();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&qd(i,l[1]))return l[0];if(l=t(),rl){ft(!0);try{t()}finally{ft(!1)}}return a.memoizedState=[l,i],l}function np(t,i,a){return a===void 0||(ma&1073741824)!==0&&(xt&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=i_(),_t.lanes|=t,oo|=t,a)}function iv(t,i,a,l){return De(a,i)?a:ql.current!==null?(t=np(t,a,l),De(t,i)||(Yn=!0),t):(ma&42)===0||(ma&1073741824)!==0&&(xt&261930)===0?(Yn=!0,t.memoizedState=a):(t=i_(),_t.lanes|=t,oo|=t,i)}function rv(t,i,a,l,f){var p=Z.p;Z.p=p!==0&&8>p?p:8;var T=Y.T,P={};Y.T=P,sp(t,!1,i,a);try{var $=f(),fe=Y.S;if(fe!==null&&fe(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Ee=i1($,l);Zu(t,i,Ee,Pr(t))}else Zu(t,i,l,Pr(t))}catch(Ce){Zu(t,i,{then:function(){},status:"rejected",reason:Ce},Pr())}finally{Z.p=p,T!==null&&P.types!==null&&(T.types=P.types),Y.T=T}}function u1(){}function ip(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=sv(t).queue;rv(t,f,i,Ae,a===null?u1:function(){return av(t),a(l)})}function sv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:Ae},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function av(t){var i=sv(t);i.next===null&&(i=t.alternate.memoizedState),Zu(t,i.next.queue,{},Pr())}function rp(){return _i(gc)}function ov(){return Bn().memoizedState}function lv(){return Bn().memoizedState}function c1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pr();t=to(a);var l=no(i,t,a);l!==null&&(dr(l,i,a),Wu(l,i,a)),i={cache:Dd()},t.payload=i;return}i=i.return}}function h1(t,i,a){var l=Pr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ih(t)?cv(i,a):(a=Pl(t,i,a,l),a!==null&&(dr(a,t,l),hv(a,i,l)))}function uv(t,i,a){var l=Pr();Zu(t,i,a,l)}function Zu(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))cv(i,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,P=p(T,a);if(f.hasEagerState=!0,f.eagerState=P,De(P,T))return Kr(t,i,f,0),dn===null&&Wr(),!1}catch{}finally{}if(a=Pl(t,i,f,l),a!==null)return dr(a,t,l),hv(a,i,l),!0}return!1}function sp(t,i,a,l){if(l={lane:2,revertLane:kp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ih(t)){if(i)throw Error(s(479))}else i=Pl(t,a,l,2),i!==null&&dr(i,t,2)}function Ih(t){var i=t.alternate;return t===_t||i!==null&&i===_t}function cv(t,i){Gl=Eh=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function hv(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ss(t,a)}}var ec={readContext:_i,use:Ah,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useInsertionEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useSyncExternalStore:Dn,useId:Dn,useHostTransitionStatus:Dn,useFormState:Dn,useActionState:Dn,useOptimistic:Dn,useMemoCache:Dn,useCacheRefresh:Dn};ec.useEffectEvent=Dn;var fv={readContext:_i,use:Ah,useCallback:function(t,i){return $i().memoizedState=[t,i===void 0?null:i],t},useContext:_i,useEffect:Ky,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ch(4194308,4,Zy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ch(4194308,4,t,i)},useInsertionEffect:function(t,i){Ch(4,2,t,i)},useMemo:function(t,i){var a=$i();i=i===void 0?null:i;var l=t();if(rl){ft(!0);try{t()}finally{ft(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=$i();if(a!==void 0){var f=a(i);if(rl){ft(!0);try{a(i)}finally{ft(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=h1.bind(null,_t,t),[l.memoizedState,t]},useRef:function(t){var i=$i();return t={current:t},i.memoizedState=t},useState:function(t){t=Jd(t);var i=t.queue,a=uv.bind(null,_t,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:tp,useDeferredValue:function(t,i){var a=$i();return np(a,t,i)},useTransition:function(){var t=Jd(!1);return t=rv.bind(null,_t,t.queue,!0,!1),$i().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=_t,f=$i();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),dn===null)throw Error(s(349));(xt&127)!==0||Dy(l,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,Ky(Vy.bind(null,l,p,t),[t]),l.flags|=2048,Yl(9,{destroy:void 0},Py.bind(null,l,p,a,i),null),a},useId:function(){var t=$i(),i=dn.identifierPrefix;if(jt){var a=js,l=ks;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=bh++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=r1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rp,useFormState:qy,useActionState:qy,useOptimistic:function(t){var i=$i();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sp.bind(null,_t,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kd,useCacheRefresh:function(){return $i().memoizedState=c1.bind(null,_t)},useEffectEvent:function(t){var i=$i(),a={impl:t};return i.memoizedState=a,function(){if((Zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ap={readContext:_i,use:Ah,useCallback:tv,useContext:_i,useEffect:ep,useImperativeHandle:ev,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:nv,useReducer:Sh,useRef:Wy,useState:function(){return Sh(ga)},useDebugValue:tp,useDeferredValue:function(t,i){var a=Bn();return iv(a,ln.memoizedState,t,i)},useTransition:function(){var t=Sh(ga)[0],i=Bn().memoizedState;return[typeof t=="boolean"?t:Ju(t),i]},useSyncExternalStore:xy,useId:ov,useHostTransitionStatus:rp,useFormState:Gy,useActionState:Gy,useOptimistic:function(t,i){var a=Bn();return jy(a,ln,t,i)},useMemoCache:Kd,useCacheRefresh:lv};ap.useEffectEvent=Qy;var dv={readContext:_i,use:Ah,useCallback:tv,useContext:_i,useEffect:ep,useImperativeHandle:ev,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:nv,useReducer:Xd,useRef:Wy,useState:function(){return Xd(ga)},useDebugValue:tp,useDeferredValue:function(t,i){var a=Bn();return ln===null?np(a,t,i):iv(a,ln.memoizedState,t,i)},useTransition:function(){var t=Xd(ga)[0],i=Bn().memoizedState;return[typeof t=="boolean"?t:Ju(t),i]},useSyncExternalStore:xy,useId:ov,useHostTransitionStatus:rp,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,i){var a=Bn();return ln!==null?jy(a,ln,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:lv};dv.useEffectEvent=Qy;function op(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lp={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Pr(),f=to(l);f.payload=i,a!=null&&(f.callback=a),i=no(t,f,l),i!==null&&(dr(i,t,l),Wu(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Pr(),f=to(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=no(t,f,l),i!==null&&(dr(i,t,l),Wu(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pr(),l=to(a);l.tag=2,i!=null&&(l.callback=i),i=no(t,l,a),i!==null&&(dr(i,t,a),Wu(i,t,a))}};function pv(t,i,a,l,f,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,T):i.prototype&&i.prototype.isPureReactComponent?!Le(a,l)||!Le(f,p):!0}function mv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&lp.enqueueReplaceState(i,i.state,null)}function sl(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=N({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function gv(t){Ko(t)}function yv(t){console.error(t)}function vv(t){Ko(t)}function Nh(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _v(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function up(t,i,a){return a=to(a),a.tag=3,a.payload={element:null},a.callback=function(){Nh(t,i)},a}function wv(t){return t=to(t),t.tag=3,t}function Ev(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;t.payload=function(){return f(p)},t.callback=function(){_v(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){_v(i,a,l),typeof f!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function f1(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ul(i,a,f,!0),a=Mr.current,a!==null){switch(a.tag){case 31:case 13:return es===null?zh():a.alternate===null&&Pn===0&&(Pn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===gh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Pp(t,l,f)),!1;case 22:return a.flags|=65536,l===gh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Pp(t,l,f)),!1}throw Error(s(435,a.tag))}return Pp(t,l,f),zh(),!1}if(jt)return i=Mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Id&&(t=Error(s(422),{cause:l}),Hu(Qr(t,a)))):(l!==Id&&(i=Error(s(423),{cause:l}),Hu(Qr(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Qr(l,a),f=up(t.stateNode,l,f),Ud(t,f),Pn!==4&&(Pn=2)),!1;var p=Error(s(520),{cause:l});if(p=Qr(p,a),lc===null?lc=[p]:lc.push(p),Pn!==4&&(Pn=2),i===null)return!0;l=Qr(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=up(a.stateNode,l,t),Ud(a,t),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lo===null||!lo.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=wv(f),Ev(f,t,a,l),Ud(a,f),!1}a=a.return}while(a!==null);return!1}var cp=Error(s(461)),Yn=!1;function wi(t,i,a,l){i.child=t===null?Sy(i,null,a,l):il(i,t.child,a,l)}function bv(t,i,a,l,f){a=a.render;var p=i.ref;if("ref"in l){var T={};for(var P in l)P!=="ref"&&(T[P]=l[P])}else T=l;return Zo(i),l=Gd(t,i,a,T,p,f),P=$d(),t!==null&&!Yn?(Yd(t,i,f),ya(t,i,f)):(jt&&P&&Cd(i),i.flags|=1,wi(t,i,l,f),i.child)}function Tv(t,i,a,l,f){if(t===null){var p=a.type;return typeof p=="function"&&!Td(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,Av(t,i,p,l,f)):(t=ch(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!vp(t,f)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:Le,a(T,l)&&t.ref===i.ref)return ya(t,i,f)}return i.flags|=1,t=ha(p,l),t.ref=i.ref,t.return=i,i.child=t}function Av(t,i,a,l,f){if(t!==null){var p=t.memoizedProps;if(Le(p,l)&&t.ref===i.ref)if(Yn=!1,i.pendingProps=l=p,vp(t,f))(t.flags&131072)!==0&&(Yn=!0);else return i.lanes=t.lanes,ya(t,i,f)}return hp(t,i,a,l,f)}function Sv(t,i,a,l){var f=l.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,i.child=null;return Cv(t,i,p,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ph(i,p!==null?p.cachePool:null),p!==null?Iy(i,p):zd(),Ny(i);else return l=i.lanes=536870912,Cv(t,i,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(ph(i,p.cachePool),Iy(i,p),ro(),i.memoizedState=null):(t!==null&&ph(i,null),zd(),ro());return wi(t,i,f,a),i.child}function tc(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cv(t,i,a,l,f){var p=Vd();return p=p===null?null:{parent:Gn._currentValue,pool:p},i.memoizedState={baseLanes:a,cachePool:p},t!==null&&ph(i,null),zd(),Ny(i),t!==null&&Ul(t,i,l,!0),i.childLanes=f,null}function Mh(t,i){return i=xh({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Rv(t,i,a){return il(i,t.child,null,a),t=Mh(i,i.pendingProps),t.flags|=2,Or(i),i.memoizedState=null,t}function d1(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(jt){if(l.mode==="hidden")return t=Mh(i,l),i.lanes=536870912,tc(null,t);if(Hd(i),(t=Tn)?(t=U_(t,Zr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Qa!==null?{id:ks,overflow:js}:null,retryLane:536870912,hydrationErrors:null},a=cy(t),a.return=i,i.child=a,vi=i,Tn=null)):t=null,t===null)throw Ja(i);return i.lanes=536870912,null}return Mh(i,l)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if(Hd(i),f)if(i.flags&256)i.flags&=-257,i=Rv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Yn||Ul(t,i,a,!1),f=(a&t.childLanes)!==0,Yn||f){if(l=dn,l!==null&&(T=Ua(l,a),T!==0&&T!==p.retryLane))throw p.retryLane=T,Ls(t,T),dr(l,t,T),cp;zh(),i=Rv(t,i,a)}else t=p.treeContext,Tn=ts(T.nextSibling),vi=i,jt=!0,Xa=null,Zr=!1,t!==null&&dy(i,t),i=Mh(i,l),i.flags|=4096;return i}return t=ha(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Oh(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hp(t,i,a,l,f){return Zo(i),a=Gd(t,i,a,l,void 0,f),l=$d(),t!==null&&!Yn?(Yd(t,i,f),ya(t,i,f)):(jt&&l&&Cd(i),i.flags|=1,wi(t,i,a,f),i.child)}function Iv(t,i,a,l,f,p){return Zo(i),i.updateQueue=null,a=Oy(i,l,a,f),My(t),l=$d(),t!==null&&!Yn?(Yd(t,i,p),ya(t,i,p)):(jt&&l&&Cd(i),i.flags|=1,wi(t,i,a,p),i.child)}function Nv(t,i,a,l,f){if(Zo(i),i.stateNode===null){var p=ca,T=a.contextType;typeof T=="object"&&T!==null&&(p=_i(T)),p=new a(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=lp,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},kd(i),T=a.contextType,p.context=typeof T=="object"&&T!==null?_i(T):ca,p.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(op(i,a,T,l),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&lp.enqueueReplaceState(p,p.state,null),Qu(i,l,p,f),Ku(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var P=i.memoizedProps,$=sl(a,P);p.props=$;var fe=p.context,Ee=a.contextType;T=ca,typeof Ee=="object"&&Ee!==null&&(T=_i(Ee));var Ce=a.getDerivedStateFromProps;Ee=typeof Ce=="function"||typeof p.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,Ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(P||fe!==T)&&mv(i,p,l,T),eo=!1;var de=i.memoizedState;p.state=de,Qu(i,l,p,f),Ku(),fe=i.memoizedState,P||de!==fe||eo?(typeof Ce=="function"&&(op(i,a,Ce,l),fe=i.memoizedState),($=eo||pv(i,a,$,l,de,fe,T))?(Ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=fe),p.props=l,p.state=fe,p.context=T,l=$):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,jd(t,i),T=i.memoizedProps,Ee=sl(a,T),p.props=Ee,Ce=i.pendingProps,de=p.context,fe=a.contextType,$=ca,typeof fe=="object"&&fe!==null&&($=_i(fe)),P=a.getDerivedStateFromProps,(fe=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==Ce||de!==$)&&mv(i,p,l,$),eo=!1,de=i.memoizedState,p.state=de,Qu(i,l,p,f),Ku();var ge=i.memoizedState;T!==Ce||de!==ge||eo||t!==null&&t.dependencies!==null&&fh(t.dependencies)?(typeof P=="function"&&(op(i,a,P,l),ge=i.memoizedState),(Ee=eo||pv(i,a,Ee,l,de,ge,$)||t!==null&&t.dependencies!==null&&fh(t.dependencies))?(fe||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,ge,$),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,ge,$)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ge),p.props=l,p.state=ge,p.context=$,l=Ee):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,Oh(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=il(i,t.child,null,f),i.child=il(i,null,a,f)):wi(t,i,a,f),i.memoizedState=p.state,t=i.child):t=ya(t,i,f),t}function Mv(t,i,a,l){return Xo(),i.flags|=256,wi(t,i,a,l),i.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(t){return{baseLanes:t,cachePool:_y()}}function pp(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dr),t}function Ov(t,i,a){var l=i.pendingProps,f=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(Un.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(jt){if(f?io(i):ro(),(t=Tn)?(t=U_(t,Zr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Qa!==null?{id:ks,overflow:js}:null,retryLane:536870912,hydrationErrors:null},a=cy(t),a.return=i,i.child=a,vi=i,Tn=null)):t=null,t===null)throw Ja(i);return Qp(t)?i.lanes=32:i.lanes=536870912,null}var P=l.children;return l=l.fallback,f?(ro(),f=i.mode,P=xh({mode:"hidden",children:P},f),l=Qo(l,f,a,null),P.return=i,l.return=i,P.sibling=l,i.child=P,l=i.child,l.memoizedState=dp(a),l.childLanes=pp(t,T,a),i.memoizedState=fp,tc(null,l)):(io(i),mp(i,P))}var $=t.memoizedState;if($!==null&&(P=$.dehydrated,P!==null)){if(p)i.flags&256?(io(i),i.flags&=-257,i=gp(t,i,a)):i.memoizedState!==null?(ro(),i.child=t.child,i.flags|=128,i=null):(ro(),P=l.fallback,f=i.mode,l=xh({mode:"visible",children:l.children},f),P=Qo(P,f,a,null),P.flags|=2,l.return=i,P.return=i,l.sibling=P,i.child=l,il(i,t.child,null,a),l=i.child,l.memoizedState=dp(a),l.childLanes=pp(t,T,a),i.memoizedState=fp,i=tc(null,l));else if(io(i),Qp(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var fe=T.dgst;T=fe,l=Error(s(419)),l.stack="",l.digest=T,Hu({value:l,source:null,stack:null}),i=gp(t,i,a)}else if(Yn||Ul(t,i,a,!1),T=(a&t.childLanes)!==0,Yn||T){if(T=dn,T!==null&&(l=Ua(T,a),l!==0&&l!==$.retryLane))throw $.retryLane=l,Ls(t,l),dr(T,t,l),cp;Kp(P)||zh(),i=gp(t,i,a)}else Kp(P)?(i.flags|=192,i.child=t.child,i=null):(t=$.treeContext,Tn=ts(P.nextSibling),vi=i,jt=!0,Xa=null,Zr=!1,t!==null&&dy(i,t),i=mp(i,l.children),i.flags|=4096);return i}return f?(ro(),P=l.fallback,f=i.mode,$=t.child,fe=$.sibling,l=ha($,{mode:"hidden",children:l.children}),l.subtreeFlags=$.subtreeFlags&65011712,fe!==null?P=ha(fe,P):(P=Qo(P,f,a,null),P.flags|=2),P.return=i,l.return=i,l.sibling=P,i.child=l,tc(null,l),l=i.child,P=t.child.memoizedState,P===null?P=dp(a):(f=P.cachePool,f!==null?($=Gn._currentValue,f=f.parent!==$?{parent:$,pool:$}:f):f=_y(),P={baseLanes:P.baseLanes|a,cachePool:f}),l.memoizedState=P,l.childLanes=pp(t,T,a),i.memoizedState=fp,tc(t.child,l)):(io(i),a=t.child,t=a.sibling,a=ha(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function mp(t,i){return i=xh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xh(t,i){return t=Nr(22,t,null,i),t.lanes=0,t}function gp(t,i,a){return il(i,t.child,null,a),t=mp(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function xv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Od(t.return,i,a)}function yp(t,i,a,l,f,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=a,T.tailMode=f,T.treeForkCount=p)}function Dv(t,i,a){var l=i.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var T=Un.current,P=(T&2)!==0;if(P?(T=T&1|2,i.flags|=128):T&=1,_e(Un,T),wi(t,i,l,a),l=jt?Fu:0,!P&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,a,i);else if(t.tag===19)xv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&wh(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),yp(i,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&wh(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}yp(i,!0,a,null,p,l);break;case"together":yp(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ya(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),oo|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ul(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ha(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ha(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vp(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&fh(t)))}function p1(t,i,a){switch(i.tag){case 3:st(i,i.stateNode.containerInfo),Za(i,Gn,t.memoizedState.cache),Xo();break;case 27:case 5:Jt(i);break;case 4:st(i,i.stateNode.containerInfo);break;case 10:Za(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(io(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ov(t,i,a):(io(i),t=ya(t,i,a),t!==null?t.sibling:null);io(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ul(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Dv(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_e(Un,Un.current),l)break;return null;case 22:return i.lanes=0,Sv(t,i,a,i.pendingProps);case 24:Za(i,Gn,t.memoizedState.cache)}return ya(t,i,a)}function Pv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Yn=!0;else{if(!vp(t,a)&&(i.flags&128)===0)return Yn=!1,p1(t,i,a);Yn=(t.flags&131072)!==0}else Yn=!1,jt&&(i.flags&1048576)!==0&&fy(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=tl(i.elementType),i.type=t,typeof t=="function")Td(t)?(l=sl(t,l),i.tag=1,i=Nv(null,i,t,l,a)):(i.tag=0,i=hp(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===je){i.tag=11,i=bv(null,i,t,l,a);break e}else if(f===V){i.tag=14,i=Tv(null,i,t,l,a);break e}}throw i=G(t)||t,Error(s(306,i,""))}}return i;case 0:return hp(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=sl(l,i.pendingProps),Nv(t,i,l,f,a);case 3:e:{if(st(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;f=p.element,jd(t,i),Qu(i,l,null,a);var T=i.memoizedState;if(l=T.cache,Za(i,Gn,l),l!==p.cache&&xd(i,[Gn],a,!0),Ku(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Mv(t,i,l,a);break e}else if(l!==f){f=Qr(Error(s(424)),i),Hu(f),i=Mv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tn=ts(t.firstChild),vi=i,jt=!0,Xa=null,Zr=!0,a=Sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===f){i=ya(t,i,a);break e}wi(t,i,l,a)}i=i.child}return i;case 26:return Oh(t,i),t===null?(a=G_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,t=i.pendingProps,l=Wh(Pe.current).createElement(a),l[wn]=i,l[Ln]=t,Ei(l,a,t),Cn(l),i.stateNode=l):i.memoizedState=G_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Jt(i),t===null&&jt&&(l=i.stateNode=F_(i.type,i.pendingProps,Pe.current),vi=i,Zr=!0,f=Tn,fo(i.type)?(Xp=f,Tn=ts(l.firstChild)):Tn=f),wi(t,i,i.pendingProps.children,a),Oh(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&jt&&((f=l=Tn)&&(l=q1(l,i.type,i.pendingProps,Zr),l!==null?(i.stateNode=l,vi=i,Tn=ts(l.firstChild),Zr=!1,f=!0):f=!1),f||Ja(i)),Jt(i),f=i.type,p=i.pendingProps,T=t!==null?t.memoizedProps:null,l=p.children,$p(f,p)?l=null:T!==null&&$p(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Gd(t,i,s1,null,null,a),gc._currentValue=f),Oh(t,i),wi(t,i,l,a),i.child;case 6:return t===null&&jt&&((t=a=Tn)&&(a=G1(a,i.pendingProps,Zr),a!==null?(i.stateNode=a,vi=i,Tn=null,t=!0):t=!1),t||Ja(i)),null;case 13:return Ov(t,i,a);case 4:return st(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=il(i,null,l,a):wi(t,i,l,a),i.child;case 11:return bv(t,i,i.type,i.pendingProps,a);case 7:return wi(t,i,i.pendingProps,a),i.child;case 8:return wi(t,i,i.pendingProps.children,a),i.child;case 12:return wi(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Za(i,i.type,l.value),wi(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Zo(i),f=_i(f),l=l(f),i.flags|=1,wi(t,i,l,a),i.child;case 14:return Tv(t,i,i.type,i.pendingProps,a);case 15:return Av(t,i,i.type,i.pendingProps,a);case 19:return Dv(t,i,a);case 31:return d1(t,i,a);case 22:return Sv(t,i,a,i.pendingProps);case 24:return Zo(i),l=_i(Gn),t===null?(f=Vd(),f===null&&(f=dn,p=Dd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:l,cache:f},kd(i),Za(i,Gn,f)):((t.lanes&a)!==0&&(jd(t,i),Qu(i,null,null,a),Ku()),f=t.memoizedState,p=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Za(i,Gn,l)):(l=p.cache,Za(i,Gn,l),l!==f.cache&&xd(i,[Gn],a,!0))),wi(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function va(t){t.flags|=4}function _p(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(o_())t.flags|=8192;else throw nl=gh,Ld}else t.flags&=-16777217}function Vv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i))if(o_())t.flags|=8192;else throw nl=gh,Ld}function Dh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ct():536870912,t.lanes|=i,Xl|=i)}function nc(t,i){if(!jt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function An(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function m1(t,i,a){var l=i.pendingProps;switch(Rd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(i),null;case 1:return An(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),pa(Gn),gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(jl(i)?va(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nd())),An(i),null;case 26:var f=i.type,p=i.memoizedState;return t===null?(va(i),p!==null?(An(i),Vv(i,p)):(An(i),_p(i,f,null,l,a))):p?p!==t.memoizedState?(va(i),An(i),Vv(i,p)):(An(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&va(i),An(i),_p(i,f,t,l,a)),null;case 27:if(nn(i),a=Pe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&va(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return An(i),null}t=Se.current,jl(i)?py(i):(t=F_(f,l,a),i.stateNode=t,va(i))}return An(i),null;case 5:if(nn(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&va(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return An(i),null}if(p=Se.current,jl(i))py(i);else{var T=Wh(Pe.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(f,{is:l.is}):T.createElement(f)}}p[wn]=i,p[Ln]=l;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=p;e:switch(Ei(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&va(i)}}return An(i),_p(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&va(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Pe.current,jl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=vi,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wn]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(t.nodeValue,a)),t||Ja(i,!0)}else t=Wh(t).createTextNode(l),t[wn]=i,i.stateNode=t}return An(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=jl(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wn]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;An(i),t=!1}else a=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Or(i),i):(Or(i),null);if((i.flags&128)!==0)throw Error(s(558))}return An(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=jl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wn]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;An(i),f=!1}else f=Nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Or(i),i):(Or(i),null)}return Or(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Dh(i,i.updateQueue),An(i),null);case 4:return gt(),t===null&&zp(i.stateNode.containerInfo),An(i),null;case 10:return pa(i.type),An(i),null;case 19:if(ce(Un),l=i.memoizedState,l===null)return An(i),null;if(f=(i.flags&128)!==0,p=l.rendering,p===null)if(f)nc(l,!1);else{if(Pn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=wh(t),p!==null){for(i.flags|=128,nc(l,!1),t=p.updateQueue,i.updateQueue=t,Dh(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)uy(a,t),a=a.sibling;return _e(Un,Un.current&1|2),jt&&fa(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&O()>jh&&(i.flags|=128,f=!0,nc(l,!1),i.lanes=4194304)}else{if(!f)if(t=wh(p),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Dh(i,t),nc(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!jt)return An(i),null}else 2*O()-l.renderingStartTime>jh&&a!==536870912&&(i.flags|=128,f=!0,nc(l,!1),i.lanes=4194304);l.isBackwards?(p.sibling=i.child,i.child=p):(t=l.last,t!==null?t.sibling=p:i.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=O(),t.sibling=null,a=Un.current,_e(Un,f?a&1|2:a&1),jt&&fa(i,l.treeForkCount),t):(An(i),null);case 22:case 23:return Or(i),Fd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(An(i),i.subtreeFlags&6&&(i.flags|=8192)):An(i),a=i.updateQueue,a!==null&&Dh(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ce(el),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),pa(Gn),An(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function g1(t,i){switch(Rd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return pa(Gn),gt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return nn(i),null;case 31:if(i.memoizedState!==null){if(Or(i),i.alternate===null)throw Error(s(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Or(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ce(Un),null;case 4:return gt(),null;case 10:return pa(i.type),null;case 22:case 23:return Or(i),Fd(),t!==null&&ce(el),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return pa(Gn),null;case 25:return null;default:return null}}function Lv(t,i){switch(Rd(i),i.tag){case 3:pa(Gn),gt();break;case 26:case 27:case 5:nn(i);break;case 4:gt();break;case 31:i.memoizedState!==null&&Or(i);break;case 13:Or(i);break;case 19:ce(Un);break;case 10:pa(i.type);break;case 22:case 23:Or(i),Fd(),t!==null&&ce(el);break;case 24:pa(Gn)}}function ic(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var p=a.create,T=a.inst;l=p(),T.destroy=l}a=a.next}while(a!==f)}}catch(P){an(i,i.return,P)}}function so(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&t)===t){var T=l.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,f=i;var $=a,fe=P;try{fe()}catch(Ee){an(f,$,Ee)}}}l=l.next}while(l!==p)}}catch(Ee){an(i,i.return,Ee)}}function kv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ry(i,a)}catch(l){an(t,t.return,l)}}}function jv(t,i,a){a.props=sl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){an(t,i,l)}}function rc(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){an(t,i,f)}}function Us(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){an(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){an(t,i,f)}else a.current=null}function Uv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){an(t,t.return,f)}}function wp(t,i,a){try{var l=t.stateNode;j1(l,t.type,a,i),l[Ln]=i}catch(f){an(t,t.return,f)}}function Bv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fo(t.type)||t.tag===4}function Ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bp(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zi));else if(l!==4&&(l===27&&fo(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(bp(t,i,a),t=t.sibling;t!==null;)bp(t,i,a),t=t.sibling}function Ph(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&fo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ph(t,i,a),t=t.sibling;t!==null;)Ph(t,i,a),t=t.sibling}function zv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ei(i,l,a),i[wn]=t,i[Ln]=a}catch(p){an(t,t.return,p)}}var _a=!1,Wn=!1,Tp=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,oi=null;function y1(t,i){if(t=t.containerInfo,qp=tf,t=Qe(t),Be(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,P=-1,$=-1,fe=0,Ee=0,Ce=t,de=null;t:for(;;){for(var ge;Ce!==a||f!==0&&Ce.nodeType!==3||(P=T+f),Ce!==p||l!==0&&Ce.nodeType!==3||($=T+l),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ge=Ce.firstChild)!==null;)de=Ce,Ce=ge;for(;;){if(Ce===t)break t;if(de===a&&++fe===f&&(P=T),de===p&&++Ee===l&&($=T),(ge=Ce.nextSibling)!==null)break;Ce=de,de=Ce.parentNode}Ce=ge}a=P===-1||$===-1?null:{start:P,end:$}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gp={focusedElem:t,selectionRange:a},tf=!1,oi=i;oi!==null;)if(i=oi,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,oi=t;else for(;oi!==null;){switch(i=oi,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var We=sl(a.type,f);t=l.getSnapshotBeforeUpdate(We,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(rt){an(a,a.return,rt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,oi=t;break}oi=i.return}}function Hv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(t,a),l&4&&ic(5,a);break;case 1:if(Ea(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){an(a,a.return,T)}else{var f=sl(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){an(a,a.return,T)}}l&64&&kv(a),l&512&&rc(a,a.return);break;case 3:if(Ea(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ry(t,i)}catch(T){an(a,a.return,T)}}break;case 27:i===null&&l&4&&zv(a);case 26:case 5:Ea(t,a),i===null&&l&4&&Uv(a),l&512&&rc(a,a.return);break;case 12:Ea(t,a);break;case 31:Ea(t,a),l&4&&$v(t,a);break;case 13:Ea(t,a),l&4&&Yv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=C1.bind(null,a),$1(t,a))));break;case 22:if(l=a.memoizedState!==null||_a,!l){i=i!==null&&i.memoizedState!==null||Wn,f=_a;var p=Wn;_a=l,(Wn=i)&&!p?ba(t,a,(a.subtreeFlags&8772)!==0):Ea(t,a),_a=f,Wn=p}break;case 30:break;default:Ea(t,a)}}function qv(t){var i=t.alternate;i!==null&&(t.alternate=null,qv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var In=null,ur=!1;function wa(t,i,a){for(a=a.child;a!==null;)Gv(t,i,a),a=a.sibling}function Gv(t,i,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(qe,a)}catch{}switch(a.tag){case 26:Wn||Us(a,i),wa(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Wn||Us(a,i);var l=In,f=ur;fo(a.type)&&(In=a.stateNode,ur=!1),wa(t,i,a),dc(a.stateNode),In=l,ur=f;break;case 5:Wn||Us(a,i);case 6:if(l=In,f=ur,In=null,wa(t,i,a),In=l,ur=f,In!==null)if(ur)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(a.stateNode)}catch(p){an(a,i,p)}else try{In.removeChild(a.stateNode)}catch(p){an(a,i,p)}break;case 18:In!==null&&(ur?(t=In,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),su(t)):k_(In,a.stateNode));break;case 4:l=In,f=ur,In=a.stateNode.containerInfo,ur=!0,wa(t,i,a),In=l,ur=f;break;case 0:case 11:case 14:case 15:so(2,a,i),Wn||so(4,a,i),wa(t,i,a);break;case 1:Wn||(Us(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jv(a,i,l)),wa(t,i,a);break;case 21:wa(t,i,a);break;case 22:Wn=(l=Wn)||a.memoizedState!==null,wa(t,i,a),Wn=l;break;default:wa(t,i,a)}}function $v(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{su(t)}catch(a){an(i,i.return,a)}}}function Yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{su(t)}catch(a){an(i,i.return,a)}}function v1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Fv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Fv),i;default:throw Error(s(435,t.tag))}}function Vh(t,i){var a=v1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=R1.bind(null,t,l);l.then(f,f)}})}function cr(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=t,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(fo(P.type)){In=P.stateNode,ur=!1;break e}break;case 5:In=P.stateNode,ur=!1;break e;case 3:case 4:In=P.stateNode.containerInfo,ur=!0;break e}P=P.return}if(In===null)throw Error(s(160));Gv(p,T,f),In=null,ur=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Wv(i,t),i=i.sibling}var ys=null;function Wv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cr(i,t),hr(t),l&4&&(so(3,t,t.return),ic(3,t),so(5,t,t.return));break;case 1:cr(i,t),hr(t),l&512&&(Wn||a===null||Us(a,a.return)),l&64&&_a&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ys;if(cr(i,t),hr(t),l&512&&(Wn||a===null||Us(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Tr]||p[wn]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Ei(p,l,a),p[wn]=t,Cn(p),l=p;break e;case"link":var T=W_("link","href",f).get(l+(a.href||""));if(T){for(var P=0;P<T.length;P++)if(p=T[P],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(P,1);break t}}p=f.createElement(l),Ei(p,l,a),f.head.appendChild(p);break;case"meta":if(T=W_("meta","content",f).get(l+(a.content||""))){for(P=0;P<T.length;P++)if(p=T[P],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(P,1);break t}}p=f.createElement(l),Ei(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[wn]=t,Cn(p),l=p}t.stateNode=l}else K_(f,t.type,t.stateNode);else t.stateNode=Y_(f,l,t.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?K_(f,t.type,t.stateNode):Y_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wp(t,t.memoizedProps,a.memoizedProps)}break;case 27:cr(i,t),hr(t),l&512&&(Wn||a===null||Us(a,a.return)),a!==null&&l&4&&wp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cr(i,t),hr(t),l&512&&(Wn||a===null||Us(a,a.return)),t.flags&32){f=t.stateNode;try{si(f,"")}catch(We){an(t,t.return,We)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,wp(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Tp=!0);break;case 6:if(cr(i,t),hr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(We){an(t,t.return,We)}}break;case 3:if(Xh=null,f=ys,ys=Kh(i.containerInfo),cr(i,t),ys=f,hr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{su(i.containerInfo)}catch(We){an(t,t.return,We)}Tp&&(Tp=!1,Kv(t));break;case 4:l=ys,ys=Kh(t.stateNode.containerInfo),cr(i,t),hr(t),ys=l;break;case 12:cr(i,t),hr(t);break;case 31:cr(i,t),hr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 13:cr(i,t),hr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kh=O()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 22:f=t.memoizedState!==null;var $=a!==null&&a.memoizedState!==null,fe=_a,Ee=Wn;if(_a=fe||f,Wn=Ee||$,cr(i,t),Wn=Ee,_a=fe,hr(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||$||_a||Wn||al(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){$=a=i;try{if(p=$.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=$.stateNode;var Ce=$.memoizedProps.style,de=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;P.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(We){an($,$.return,We)}}}else if(i.tag===6){if(a===null){$=i;try{$.stateNode.nodeValue=f?"":$.memoizedProps}catch(We){an($,$.return,We)}}}else if(i.tag===18){if(a===null){$=i;try{var ge=$.stateNode;f?j_(ge,!0):j_($.stateNode,!1)}catch(We){an($,$.return,We)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vh(t,a))));break;case 19:cr(i,t),hr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vh(t,l)));break;case 30:break;case 21:break;default:cr(i,t),hr(t)}}function hr(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Bv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=Ep(t);Ph(t,p,f);break;case 5:var T=a.stateNode;a.flags&32&&(si(T,""),a.flags&=-33);var P=Ep(t);Ph(t,P,T);break;case 3:case 4:var $=a.stateNode.containerInfo,fe=Ep(t);bp(t,fe,$);break;default:throw Error(s(161))}}catch(Ee){an(t,t.return,Ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Kv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Kv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ea(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hv(t,i.alternate,i),i=i.sibling}function al(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:so(4,i,i.return),al(i);break;case 1:Us(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jv(i,i.return,a),al(i);break;case 27:dc(i.stateNode);case 26:case 5:Us(i,i.return),al(i);break;case 22:i.memoizedState===null&&al(i);break;case 30:al(i);break;default:al(i)}t=t.sibling}}function ba(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:ba(f,p,a),ic(4,p);break;case 1:if(ba(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(fe){an(l,l.return,fe)}if(l=p,f=l.updateQueue,f!==null){var P=l.stateNode;try{var $=f.shared.hiddenCallbacks;if($!==null)for(f.shared.hiddenCallbacks=null,f=0;f<$.length;f++)Cy($[f],P)}catch(fe){an(l,l.return,fe)}}a&&T&64&&kv(p),rc(p,p.return);break;case 27:zv(p);case 26:case 5:ba(f,p,a),a&&l===null&&T&4&&Uv(p),rc(p,p.return);break;case 12:ba(f,p,a);break;case 31:ba(f,p,a),a&&T&4&&$v(f,p);break;case 13:ba(f,p,a),a&&T&4&&Yv(f,p);break;case 22:p.memoizedState===null&&ba(f,p,a),rc(p,p.return);break;case 30:break;default:ba(f,p,a)}i=i.sibling}}function Ap(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&qu(a))}function Sp(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qu(t))}function vs(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qv(t,i,a,l),i=i.sibling}function Qv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:vs(t,i,a,l),f&2048&&ic(9,i);break;case 1:vs(t,i,a,l);break;case 3:vs(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&qu(t)));break;case 12:if(f&2048){vs(t,i,a,l),t=i.stateNode;try{var p=i.memoizedProps,T=p.id,P=p.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch($){an(i,i.return,$)}}else vs(t,i,a,l);break;case 31:vs(t,i,a,l);break;case 13:vs(t,i,a,l);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?vs(t,i,a,l):sc(t,i):p._visibility&2?vs(t,i,a,l):(p._visibility|=2,Wl(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ap(T,i);break;case 24:vs(t,i,a,l),f&2048&&Sp(i.alternate,i);break;default:vs(t,i,a,l)}}function Wl(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,T=i,P=a,$=l,fe=T.flags;switch(T.tag){case 0:case 11:case 15:Wl(p,T,P,$,f),ic(8,T);break;case 23:break;case 22:var Ee=T.stateNode;T.memoizedState!==null?Ee._visibility&2?Wl(p,T,P,$,f):sc(p,T):(Ee._visibility|=2,Wl(p,T,P,$,f)),f&&fe&2048&&Ap(T.alternate,T);break;case 24:Wl(p,T,P,$,f),f&&fe&2048&&Sp(T.alternate,T);break;default:Wl(p,T,P,$,f)}i=i.sibling}}function sc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:sc(a,l),f&2048&&Ap(l.alternate,l);break;case 24:sc(a,l),f&2048&&Sp(l.alternate,l);break;default:sc(a,l)}i=i.sibling}}var ac=8192;function Kl(t,i,a){if(t.subtreeFlags&ac)for(t=t.child;t!==null;)Xv(t,i,a),t=t.sibling}function Xv(t,i,a){switch(t.tag){case 26:Kl(t,i,a),t.flags&ac&&t.memoizedState!==null&&rA(a,ys,t.memoizedState,t.memoizedProps);break;case 5:Kl(t,i,a);break;case 3:case 4:var l=ys;ys=Kh(t.stateNode.containerInfo),Kl(t,i,a),ys=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ac,ac=16777216,Kl(t,i,a),ac=l):Kl(t,i,a));break;default:Kl(t,i,a)}}function Jv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];oi=l,e_(l,t)}Jv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zv(t),t=t.sibling}function Zv(t){switch(t.tag){case 0:case 11:case 15:oc(t),t.flags&2048&&so(9,t,t.return);break;case 3:oc(t);break;case 12:oc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Lh(t)):oc(t);break;default:oc(t)}}function Lh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];oi=l,e_(l,t)}Jv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:so(8,i,i.return),Lh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lh(i));break;default:Lh(i)}t=t.sibling}}function e_(t,i){for(;oi!==null;){var a=oi;switch(a.tag){case 0:case 11:case 15:so(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,oi=l;else e:for(a=t;oi!==null;){l=oi;var f=l.sibling,p=l.return;if(qv(l),l===a){oi=null;break e}if(f!==null){f.return=p,oi=f;break e}oi=p}}}var _1={getCacheForType:function(t){var i=_i(Gn),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return _i(Gn).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,Zt=0,dn=null,Nt=null,xt=0,sn=0,xr=null,ao=!1,Ql=!1,Cp=!1,Ta=0,Pn=0,oo=0,ol=0,Rp=0,Dr=0,Xl=0,lc=null,fr=null,Ip=!1,kh=0,t_=0,jh=1/0,Uh=null,lo=null,ei=0,uo=null,Jl=null,Aa=0,Np=0,Mp=null,n_=null,uc=0,Op=null;function Pr(){return(Zt&2)!==0&&xt!==0?xt&-xt:Y.T!==null?kp():zr()}function i_(){if(Dr===0)if((xt&536870912)===0||jt){var t=On;On<<=1,(On&3932160)===0&&(On=262144),Dr=t}else Dr=536870912;return t=Mr.current,t!==null&&(t.flags|=32),Dr}function dr(t,i,a){(t===dn&&(sn===2||sn===9)||t.cancelPendingCommit!==null)&&(Zl(t,0),co(t,xt,Dr,!1)),Ss(t,a),((Zt&2)===0||t!==dn)&&(t===dn&&((Zt&2)===0&&(ol|=a),Pn===4&&co(t,xt,Dr,!1)),Bs(t))}function r_(t,i,a){if((Zt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||xn(t,i),f=l?T1(t,i):Dp(t,i,!0),p=l;do{if(f===0){Ql&&!l&&co(t,i,0,!1);break}else{if(a=t.current.alternate,p&&!E1(a)){f=Dp(t,i,!1),p=!1;continue}if(f===2){if(p=i,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=t;f=lc;var $=P.current.memoizedState.isDehydrated;if($&&(Zl(P,T).flags|=256),T=Dp(P,T,!1),T!==2){if(Cp&&!$){P.errorRecoveryDisabledLanes|=p,ol|=p,f=4;break e}p=fr,fr=f,p!==null&&(fr===null?fr=p:fr.push.apply(fr,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Zl(t,0),co(t,i,0,!0);break}e:{switch(l=t,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:co(l,i,Dr,!ao);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=kh+300-O(),10<f)){if(co(l,i,Dr,!ao),Zn(l,0,!0)!==0)break e;Aa=i,l.timeoutHandle=V_(s_.bind(null,l,a,fr,Uh,Ip,i,Dr,ol,Xl,ao,p,"Throttled",-0,0),f);break e}s_(l,a,fr,Uh,Ip,i,Dr,ol,Xl,ao,p,null,-0,0)}}break}while(!0);Bs(t)}function s_(t,i,a,l,f,p,T,P,$,fe,Ee,Ce,de,ge){if(t.timeoutHandle=-1,Ce=i.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zi},Xv(i,p,Ce);var We=(p&62914560)===p?kh-O():(p&4194048)===p?t_-O():0;if(We=sA(Ce,We),We!==null){Aa=p,t.cancelPendingCommit=We(d_.bind(null,t,i,p,a,l,f,T,P,$,Ee,Ce,null,de,ge)),co(t,p,T,!fe);return}}d_(t,i,p,a,l,f,T,P,$)}function E1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!De(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function co(t,i,a,l){i&=~Rp,i&=~ol,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var p=31-Tt(f),T=1<<p;l[p]=-1,f&=~T}a!==0&&ea(t,a,i)}function Bh(){return(Zt&6)===0?(cc(0),!1):!0}function xp(){if(Nt!==null){if(sn===0)var t=Nt.return;else t=Nt,da=Jo=null,Wd(t),Hl=null,$u=0,t=Nt;for(;t!==null;)Lv(t.alternate,t),t=t.return;Nt=null}}function Zl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,z1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Aa=0,xp(),dn=t,Nt=a=ha(t.current,null),xt=i,sn=0,xr=null,ao=!1,Ql=xn(t,i),Cp=!1,Xl=Dr=Rp=ol=oo=Pn=0,fr=lc=null,Ip=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Tt(l),p=1<<f;i|=t[f],l&=~p}return Ta=i,Wr(),a}function a_(t,i){_t=null,Y.H=ec,i===Fl||i===mh?(i=by(),sn=3):i===Ld?(i=by(),sn=4):sn=i===cp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xr=i,Nt===null&&(Pn=1,Nh(t,Qr(i,t.current)))}function o_(){var t=Mr.current;return t===null?!0:(xt&4194048)===xt?es===null:(xt&62914560)===xt||(xt&536870912)!==0?t===es:!1}function l_(){var t=Y.H;return Y.H=ec,t===null?ec:t}function u_(){var t=Y.A;return Y.A=_1,t}function zh(){Pn=4,ao||(xt&4194048)!==xt&&Mr.current!==null||(Ql=!0),(oo&134217727)===0&&(ol&134217727)===0||dn===null||co(dn,xt,Dr,!1)}function Dp(t,i,a){var l=Zt;Zt|=2;var f=l_(),p=u_();(dn!==t||xt!==i)&&(Uh=null,Zl(t,i)),i=!1;var T=Pn;e:do try{if(sn!==0&&Nt!==null){var P=Nt,$=xr;switch(sn){case 8:xp(),T=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(i=!0);var fe=sn;if(sn=0,xr=null,eu(t,P,$,fe),a&&Ql){T=0;break e}break;default:fe=sn,sn=0,xr=null,eu(t,P,$,fe)}}b1(),T=Pn;break}catch(Ee){a_(t,Ee)}while(!0);return i&&t.shellSuspendCounter++,da=Jo=null,Zt=l,Y.H=f,Y.A=p,Nt===null&&(dn=null,xt=0,Wr()),T}function b1(){for(;Nt!==null;)c_(Nt)}function T1(t,i){var a=Zt;Zt|=2;var l=l_(),f=u_();dn!==t||xt!==i?(Uh=null,jh=O()+500,Zl(t,i)):Ql=xn(t,i);e:do try{if(sn!==0&&Nt!==null){i=Nt;var p=xr;t:switch(sn){case 1:sn=0,xr=null,eu(t,i,p,1);break;case 2:case 9:if(wy(p)){sn=0,xr=null,h_(i);break}i=function(){sn!==2&&sn!==9||dn!==t||(sn=7),Bs(t)},p.then(i,i);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:wy(p)?(sn=0,xr=null,h_(i)):(sn=0,xr=null,eu(t,i,p,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var P=Nt;if(T?Q_(T):P.stateNode.complete){sn=0,xr=null;var $=P.sibling;if($!==null)Nt=$;else{var fe=P.return;fe!==null?(Nt=fe,Fh(fe)):Nt=null}break t}}sn=0,xr=null,eu(t,i,p,5);break;case 6:sn=0,xr=null,eu(t,i,p,6);break;case 8:xp(),Pn=6;break e;default:throw Error(s(462))}}A1();break}catch(Ee){a_(t,Ee)}while(!0);return da=Jo=null,Y.H=l,Y.A=f,Zt=a,Nt!==null?0:(dn=null,xt=0,Wr(),Pn)}function A1(){for(;Nt!==null&&!Zs();)c_(Nt)}function c_(t){var i=Pv(t.alternate,t,Ta);t.memoizedProps=t.pendingProps,i===null?Fh(t):Nt=i}function h_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Iv(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Iv(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Wd(i);default:Lv(a,i),i=Nt=uy(i,Ta),i=Pv(a,i,Ta)}t.memoizedProps=t.pendingProps,i===null?Fh(t):Nt=i}function eu(t,i,a,l){da=Jo=null,Wd(i),Hl=null,$u=0;var f=i.return;try{if(f1(t,f,i,a,xt)){Pn=1,Nh(t,Qr(a,t.current)),Nt=null;return}}catch(p){if(f!==null)throw Nt=f,p;Pn=1,Nh(t,Qr(a,t.current)),Nt=null;return}i.flags&32768?(jt||l===1?t=!0:Ql||(xt&536870912)!==0?t=!1:(ao=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mr.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,t)):Fh(i)}function Fh(t){var i=t;do{if((i.flags&32768)!==0){f_(i,ao);return}t=i.return;var a=m1(i.alternate,i,Ta);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=t}while(i!==null);Pn===0&&(Pn=5)}function f_(t,i){do{var a=g1(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);Pn=6,Nt=null}function d_(t,i,a,l,f,p,T,P,$){t.cancelPendingCommit=null;do Hh();while(ei!==0);if((Zt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=la,ja(t,a,p,T,P,$),t===dn&&(Nt=dn=null,xt=0),Jl=i,uo=t,Aa=a,Np=p,Mp=f,n_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,I1(J,function(){return v_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=Z.p,Z.p=2,T=Zt,Zt|=4;try{y1(t,i,a)}finally{Zt=T,Z.p=f,Y.T=l}}ei=1,p_(),m_(),g_()}}function p_(){if(ei===1){ei=0;var t=uo,i=Jl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=Z.p;Z.p=2;var f=Zt;Zt|=4;try{Wv(i,t);var p=Gp,T=Qe(t.containerInfo),P=p.focusedElem,$=p.selectionRange;if(T!==P&&P&&P.ownerDocument&&Ve(P.ownerDocument.documentElement,P)){if($!==null&&Be(P)){var fe=$.start,Ee=$.end;if(Ee===void 0&&(Ee=fe),"selectionStart"in P)P.selectionStart=fe,P.selectionEnd=Math.min(Ee,P.value.length);else{var Ce=P.ownerDocument||document,de=Ce&&Ce.defaultView||window;if(de.getSelection){var ge=de.getSelection(),We=P.textContent.length,rt=Math.min($.start,We),cn=$.end===void 0?rt:Math.min($.end,We);!ge.extend&&rt>cn&&(T=cn,cn=rt,rt=T);var ie=ne(P,rt),W=ne(P,cn);if(ie&&W&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==W.node||ge.focusOffset!==W.offset)){var he=Ce.createRange();he.setStart(ie.node,ie.offset),ge.removeAllRanges(),rt>cn?(ge.addRange(he),ge.extend(W.node,W.offset)):(he.setEnd(W.node,W.offset),ge.addRange(he))}}}}for(Ce=[],ge=P;ge=ge.parentNode;)ge.nodeType===1&&Ce.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ce.length;P++){var Te=Ce[P];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}tf=!!qp,Gp=qp=null}finally{Zt=f,Z.p=l,Y.T=a}}t.current=i,ei=2}}function m_(){if(ei===2){ei=0;var t=uo,i=Jl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=Z.p;Z.p=2;var f=Zt;Zt|=4;try{Hv(t,i.alternate,i)}finally{Zt=f,Z.p=l,Y.T=a}}ei=3}}function g_(){if(ei===4||ei===3){ei=0,Ci();var t=uo,i=Jl,a=Aa,l=n_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ei=5:(ei=0,Jl=uo=null,y_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(lo=null),wr(a),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(qe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,f=Z.p,Z.p=2,Y.T=null;try{for(var p=t.onRecoverableError,T=0;T<l.length;T++){var P=l[T];p(P.value,{componentStack:P.stack})}}finally{Y.T=i,Z.p=f}}(Aa&3)!==0&&Hh(),Bs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Op?uc++:(uc=0,Op=t):uc=0,cc(0)}}function y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,qu(i)))}function Hh(){return p_(),m_(),g_(),v_()}function v_(){if(ei!==5)return!1;var t=uo,i=Np;Np=0;var a=wr(Aa),l=Y.T,f=Z.p;try{Z.p=32>a?32:a,Y.T=null,a=Mp,Mp=null;var p=uo,T=Aa;if(ei=0,Jl=uo=null,Aa=0,(Zt&6)!==0)throw Error(s(331));var P=Zt;if(Zt|=4,Zv(p.current),Qv(p,p.current,T,a),Zt=P,cc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(qe,p)}catch{}return!0}finally{Z.p=f,Y.T=l,y_(t,i)}}function __(t,i,a){i=Qr(a,i),i=up(t.stateNode,i,2),t=no(t,i,2),t!==null&&(Ss(t,2),Bs(t))}function an(t,i,a){if(t.tag===3)__(t,t,a);else for(;i!==null;){if(i.tag===3){__(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lo===null||!lo.has(l))){t=Qr(a,t),a=wv(2),l=no(i,a,2),l!==null&&(Ev(a,l,i,t),Ss(l,2),Bs(l));break}}i=i.return}}function Pp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new w1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Cp=!0,f.add(a),t=S1.bind(null,t,i,a),i.then(t,t))}function S1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,dn===t&&(xt&a)===a&&(Pn===4||Pn===3&&(xt&62914560)===xt&&300>O()-kh?(Zt&2)===0&&Zl(t,0):Rp|=a,Xl===xt&&(Xl=0)),Bs(t)}function w_(t,i){i===0&&(i=Ct()),t=Ls(t,i),t!==null&&(Ss(t,i),Bs(t))}function C1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(t,a)}function R1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(t,a)}function I1(t,i){return pn(t,i)}var qh=null,tu=null,Vp=!1,Gh=!1,Lp=!1,ho=0;function Bs(t){t!==tu&&t.next===null&&(tu===null?qh=tu=t:tu=tu.next=t),Gh=!0,Vp||(Vp=!0,M1())}function cc(t,i){if(!Lp&&Gh){Lp=!0;do for(var a=!1,l=qh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,P=l.pingedLanes;p=(1<<31-Tt(42|t)+1)-1,p&=f&~(T&~P),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,A_(l,p))}else p=xt,p=Zn(l,l===dn?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||xn(l,p)||(a=!0,A_(l,p));l=l.next}while(a);Lp=!1}}function N1(){E_()}function E_(){Gh=Vp=!1;var t=0;ho!==0&&B1()&&(t=ho);for(var i=O(),a=null,l=qh;l!==null;){var f=l.next,p=b_(l,i);p===0?(l.next=null,a===null?qh=f:a.next=f,f===null&&(tu=a)):(a=l,(t!==0||(p&3)!==0)&&(Gh=!0)),l=f}ei!==0&&ei!==5||cc(t),ho!==0&&(ho=0)}function b_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-Tt(p),P=1<<T,$=f[T];$===-1?((P&a)===0||(P&l)!==0)&&(f[T]=it(P,i)):$<=i&&(t.expiredLanes|=P),p&=~P}if(i=dn,a=xt,a=Zn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(sn===2||sn===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ki(l),wr(a)){case 2:case 8:a=B;break;case 32:a=J;break;case 268435456:a=Oe;break;default:a=J}return l=T_.bind(null,t),a=pn(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ki(l),t.callbackPriority=2,t.callbackNode=null,2}function T_(t,i){if(ei!==0&&ei!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hh()&&t.callbackNode!==a)return null;var l=xt;return l=Zn(t,t===dn?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(r_(t,l,i),b_(t,O()),t.callbackNode!=null&&t.callbackNode===a?T_.bind(null,t):null)}function A_(t,i){if(Hh())return null;r_(t,i,!0)}function M1(){F1(function(){(Zt&6)!==0?pn(b,N1):E_()})}function kp(){if(ho===0){var t=Bl;t===0&&(t=_n,_n<<=1,(_n&261888)===0&&(_n=256)),ho=t}return ho}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cs(""+t)}function C_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function O1(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var p=S_((f[Ln]||null).action),T=l.submitter;T&&(i=(i=T[Ln]||null)?S_(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var P=new nr("action","action",null,l,f);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ho!==0){var $=T?C_(f,T):new FormData(f);ip(a,{pending:!0,data:$,method:f.method,action:p},null,$)}}else typeof p=="function"&&(P.preventDefault(),$=T?C_(f,T):new FormData(f),ip(a,{pending:!0,data:$,method:f.method,action:p},p,$))},currentTarget:f}]})}}for(var jp=0;jp<Ni.length;jp++){var Up=Ni[jp],x1=Up.toLowerCase(),D1=Up[0].toUpperCase()+Up.slice(1);en(x1,"on"+D1)}en(St,"onAnimationEnd"),en(Rt,"onAnimationIteration"),en(dt,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(It,"onTransitionRun"),en(Gt,"onTransitionStart"),en(Wt,"onTransitionCancel"),en(lr,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function R_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var T=l.length-1;0<=T;T--){var P=l[T],$=P.instance,fe=P.currentTarget;if(P=P.listener,$!==p&&f.isPropagationStopped())break e;p=P,f.currentTarget=fe;try{p(f)}catch(Ee){Ko(Ee)}f.currentTarget=null,p=$}else for(T=0;T<l.length;T++){if(P=l[T],$=P.instance,fe=P.currentTarget,P=P.listener,$!==p&&f.isPropagationStopped())break e;p=P,f.currentTarget=fe;try{p(f)}catch(Ee){Ko(Ee)}f.currentTarget=null,p=$}}}}function Mt(t,i){var a=i[as];a===void 0&&(a=i[as]=new Set);var l=t+"__bubble";a.has(l)||(I_(i,t,2,!1),a.add(l))}function Bp(t,i,a){var l=0;i&&(l|=4),I_(a,t,l,i)}var $h="_reactListening"+Math.random().toString(36).slice(2);function zp(t){if(!t[$h]){t[$h]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(P1.has(a)||Bp(a,!1,t),Bp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[$h]||(i[$h]=!0,Bp("selectionchange",!1,i))}}function I_(t,i,a,l){switch(i0(i)){case 2:var f=lA;break;case 8:f=uA;break;default:f=nm}a=f.bind(null,i,a,t),f=void 0,!Rr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Fp(t,i,a,l,f){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var P=l.stateNode.containerInfo;if(P===f)break;if(T===4)for(T=l.return;T!==null;){var $=T.tag;if(($===3||$===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;P!==null;){if(T=Ji(P),T===null)return;if($=T.tag,$===5||$===6||$===26||$===27){l=p=T;continue e}P=P.parentNode}}l=l.return}Cr(function(){var fe=p,Ee=Fi(a),Ce=[];e:{var de=jn.get(t);if(de!==void 0){var ge=nr,We=t;switch(t){case"keypress":if(ia(a)===0)break e;case"keydown":case"keyup":ge=Ml;break;case"focusin":We="focus",ge=Rn;break;case"focusout":We="blur",ge=Rn;break;case"beforeblur":case"afterblur":ge=Rn;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Go;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=E;break;case St:case Rt:case dt:ge=ir;break;case lr:ge=j;break;case"scroll":case"scrollend":ge=Ds;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ms;break;case"toggle":case"beforetoggle":ge=ct}var rt=(i&4)!==0,cn=!rt&&(t==="scroll"||t==="scrollend"),ie=rt?de!==null?de+"Capture":null:de;rt=[];for(var W=fe,he;W!==null;){var Te=W;if(he=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||he===null||ie===null||(Te=ai(W,ie),Te!=null&&rt.push(fc(W,Te,he))),cn)break;W=W.return}0<rt.length&&(de=new ge(de,We,null,a,Ee),Ce.push({event:de,listeners:rt}))}}if((i&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",de&&a!==Ha&&(We=a.relatedTarget||a.fromElement)&&(Ji(We)||We[Er]))break e;if((ge||de)&&(de=Ee.window===Ee?Ee:(de=Ee.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(We=a.relatedTarget||a.toElement,ge=fe,We=We?Ji(We):null,We!==null&&(cn=u(We),rt=We.tag,We!==cn||rt!==5&&rt!==27&&rt!==6)&&(We=null)):(ge=null,We=fe),ge!==We)){if(rt=Ga,Te="onMouseLeave",ie="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(rt=ms,Te="onPointerLeave",ie="onPointerEnter",W="pointer"),cn=ge==null?de:En(ge),he=We==null?de:En(We),de=new rt(Te,W+"leave",ge,a,Ee),de.target=cn,de.relatedTarget=he,Te=null,Ji(Ee)===fe&&(rt=new rt(ie,W+"enter",We,a,Ee),rt.target=he,rt.relatedTarget=cn,Te=rt),cn=Te,ge&&We)t:{for(rt=V1,ie=ge,W=We,he=0,Te=ie;Te;Te=rt(Te))he++;Te=0;for(var et=W;et;et=rt(et))Te++;for(;0<he-Te;)ie=rt(ie),he--;for(;0<Te-he;)W=rt(W),Te--;for(;he--;){if(ie===W||W!==null&&ie===W.alternate){rt=ie;break t}ie=rt(ie),W=rt(W)}rt=null}else rt=null;ge!==null&&N_(Ce,de,ge,rt,!1),We!==null&&cn!==null&&N_(Ce,cn,We,rt,!0)}}e:{if(de=fe?En(fe):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var Kt=Wo;else if(Dl(de))if(Bu)Kt=ve;else{Kt=Q;var Xe=H}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&er(fe.elementType)&&(Kt=Wo):Kt=ue;if(Kt&&(Kt=Kt(t,fe))){Uu(Ce,Kt,a,Ee);break e}Xe&&Xe(t,de,fe),t==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&Fa(de,"number",de.value)}switch(Xe=fe?En(fe):window,t){case"focusin":(Dl(Xe)||Xe.contentEditable==="true")&&(Fe=Xe,Ot=fe,Yt=null);break;case"focusout":Yt=Ot=Fe=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,Vs(Ce,a,Ee);break;case"selectionchange":if(qt)break;case"keydown":case"keyup":Vs(Ce,a,Ee)}var Et;if(kt)e:{switch(t){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else oa?sa(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(qi&&a.locale!=="ko"&&(oa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&oa&&(Et=Os()):(mi=Ee,Ms="value"in mi?mi.value:mi.textContent,oa=!0)),Xe=Yh(fe,Dt),0<Xe.length&&(Dt=new rr(Dt,t,null,a,Ee),Ce.push({event:Dt,listeners:Xe}),Et?Dt.data=Et:(Et=aa(a),Et!==null&&(Dt.data=Et)))),(Et=Ii?xl(t,a):lh(t,a))&&(Dt=Yh(fe,"onBeforeInput"),0<Dt.length&&(Xe=new rr("onBeforeInput","beforeinput",null,a,Ee),Ce.push({event:Xe,listeners:Dt}),Xe.data=Et)),O1(Ce,t,fe,a,Ee)}R_(Ce,i)})}function fc(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Yh(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ai(t,a),f!=null&&l.unshift(fc(t,f,p)),f=ai(t,i),f!=null&&l.push(fc(t,f,p))),t.tag===3)return l;t=t.return}return[]}function V1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N_(t,i,a,l,f){for(var p=i._reactName,T=[];a!==null&&a!==l;){var P=a,$=P.alternate,fe=P.stateNode;if(P=P.tag,$!==null&&$===l)break;P!==5&&P!==26&&P!==27||fe===null||($=fe,f?(fe=ai(a,p),fe!=null&&T.unshift(fc(a,fe,$))):f||(fe=ai(a,p),fe!=null&&T.push(fc(a,fe,$)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var L1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function M_(t){return(typeof t=="string"?t:""+t).replace(L1,`
`).replace(k1,"")}function O_(t,i){return i=M_(i),M_(t)===i}function un(t,i,a,l,f,p){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||si(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&si(t,""+l);break;case"className":ii(t,"class",l);break;case"tabIndex":ii(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,a,l);break;case"style":na(t,l,p);break;case"data":if(i!=="object"){ii(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=cs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&un(t,i,"name",f.name,f,null),un(t,i,"formEncType",f.formEncType,f,null),un(t,i,"formMethod",f.formMethod,f,null),un(t,i,"formTarget",f.formTarget,f,null)):(un(t,i,"encType",f.encType,f,null),un(t,i,"method",f.method,f,null),un(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=cs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zi);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=cs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Hr(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qo.get(a)||a,Hr(t,a,l))}}function Hp(t,i,a,l,f,p){switch(a){case"style":na(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?si(t,l):(typeof l=="number"||typeof l=="bigint")&&si(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=t[Ln]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(i,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Hr(t,a,l)}}}function Ei(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:un(t,i,p,T,a,null)}}f&&un(t,i,"srcSet",a.srcSet,a,null),l&&un(t,i,"src",a.src,a,null);return;case"input":Mt("invalid",t);var P=p=T=f=null,$=null,fe=null;for(l in a)if(a.hasOwnProperty(l)){var Ee=a[l];if(Ee!=null)switch(l){case"name":f=Ee;break;case"type":T=Ee;break;case"checked":$=Ee;break;case"defaultChecked":fe=Ee;break;case"value":p=Ee;break;case"defaultValue":P=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(s(137,i));break;default:un(t,i,l,Ee,a,null)}}Ho(t,p,P,$,fe,T,f,!1);return;case"select":Mt("invalid",t),l=T=p=null;for(f in a)if(a.hasOwnProperty(f)&&(P=a[f],P!=null))switch(f){case"value":p=P;break;case"defaultValue":T=P;break;case"multiple":l=P;default:un(t,i,f,P,a,null)}i=p,a=T,t.multiple=!!l,i!=null?us(t,!!l,i,!1):a!=null&&us(t,!!l,a,!0);return;case"textarea":Mt("invalid",t),p=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(P=a[T],P!=null))switch(T){case"value":l=P;break;case"defaultValue":f=P;break;case"children":p=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(91));break;default:un(t,i,T,P,a,null)}Zi(t,l,f,p);return;case"option":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:un(t,i,$,l,a,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<hc.length;l++)Mt(hc[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in a)if(a.hasOwnProperty(fe)&&(l=a[fe],l!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:un(t,i,fe,l,a,null)}return;default:if(er(i)){for(Ee in a)a.hasOwnProperty(Ee)&&(l=a[Ee],l!==void 0&&Hp(t,i,Ee,l,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!=null&&un(t,i,P,l,a,null))}function j1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,P=null,$=null,fe=null,Ee=null;for(ge in a){var Ce=a[ge];if(a.hasOwnProperty(ge)&&Ce!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":$=Ce;default:l.hasOwnProperty(ge)||un(t,i,ge,null,l,Ce)}}for(var de in l){var ge=l[de];if(Ce=a[de],l.hasOwnProperty(de)&&(ge!=null||Ce!=null))switch(de){case"type":p=ge;break;case"name":f=ge;break;case"checked":fe=ge;break;case"defaultChecked":Ee=ge;break;case"value":T=ge;break;case"defaultValue":P=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,i));break;default:ge!==Ce&&un(t,i,de,ge,l,Ce)}}ri(t,T,P,$,fe,Ee,p,f);return;case"select":ge=T=P=de=null;for(p in a)if($=a[p],a.hasOwnProperty(p)&&$!=null)switch(p){case"value":break;case"multiple":ge=$;default:l.hasOwnProperty(p)||un(t,i,p,null,l,$)}for(f in l)if(p=l[f],$=a[f],l.hasOwnProperty(f)&&(p!=null||$!=null))switch(f){case"value":de=p;break;case"defaultValue":P=p;break;case"multiple":T=p;default:p!==$&&un(t,i,f,p,l,$)}i=P,a=T,l=ge,de!=null?us(t,!!a,de,!1):!!l!=!!a&&(i!=null?us(t,!!a,i,!0):us(t,!!a,a?[]:"",!1));return;case"textarea":ge=de=null;for(P in a)if(f=a[P],a.hasOwnProperty(P)&&f!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:un(t,i,P,null,l,f)}for(T in l)if(f=l[T],p=a[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":de=f;break;case"defaultValue":ge=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&un(t,i,T,f,l,p)}hn(t,de,ge);return;case"option":for(var We in a)if(de=a[We],a.hasOwnProperty(We)&&de!=null&&!l.hasOwnProperty(We))switch(We){case"selected":t.selected=!1;break;default:un(t,i,We,null,l,de)}for($ in l)if(de=l[$],ge=a[$],l.hasOwnProperty($)&&de!==ge&&(de!=null||ge!=null))switch($){case"selected":t.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:un(t,i,$,de,l,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)de=a[rt],a.hasOwnProperty(rt)&&de!=null&&!l.hasOwnProperty(rt)&&un(t,i,rt,null,l,de);for(fe in l)if(de=l[fe],ge=a[fe],l.hasOwnProperty(fe)&&de!==ge&&(de!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,i));break;default:un(t,i,fe,de,l,ge)}return;default:if(er(i)){for(var cn in a)de=a[cn],a.hasOwnProperty(cn)&&de!==void 0&&!l.hasOwnProperty(cn)&&Hp(t,i,cn,void 0,l,de);for(Ee in l)de=l[Ee],ge=a[Ee],!l.hasOwnProperty(Ee)||de===ge||de===void 0&&ge===void 0||Hp(t,i,Ee,de,l,ge);return}}for(var ie in a)de=a[ie],a.hasOwnProperty(ie)&&de!=null&&!l.hasOwnProperty(ie)&&un(t,i,ie,null,l,de);for(Ce in l)de=l[Ce],ge=a[Ce],!l.hasOwnProperty(Ce)||de===ge||de==null&&ge==null||un(t,i,Ce,de,l,ge)}function x_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,T=f.initiatorType,P=f.duration;if(p&&P&&x_(T)){for(T=0,P=f.responseEnd,l+=1;l<a.length;l++){var $=a[l],fe=$.startTime;if(fe>P)break;var Ee=$.transferSize,Ce=$.initiatorType;Ee&&x_(Ce)&&($=$.responseEnd,T+=Ee*($<P?1:(P-fe)/($-fe)))}if(--l,i+=8*(p+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qp=null,Gp=null;function Wh(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $p(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yp=null;function B1(){var t=window.event;return t&&t.type==="popstate"?t===Yp?!1:(Yp=t,!0):(Yp=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(H1)}:V_;function H1(t){setTimeout(function(){throw t})}function fo(t){return t==="head"}function k_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),su(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")dc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dc(a);for(var p=a.firstChild;p;){var T=p.nextSibling,P=p.nodeName;p[Tr]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=T}}else a==="body"&&dc(t.ownerDocument.body);a=f}while(a);su(i)}function j_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Wp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wp(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function q1(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ts(t.nextSibling),t===null)break}return null}function G1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ts(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ts(t.nextSibling),t===null))return null;return t}function Kp(t){return t.data==="$?"||t.data==="$~"}function Qp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ts(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Xp=null;function B_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ts(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function F_(t,i,a){switch(i=Wh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ba(t)}var ns=new Map,H_=new Set;function Kh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sa=Z.d;Z.d={f:Y1,r:W1,D:K1,C:Q1,L:X1,m:J1,X:eA,S:Z1,M:tA};function Y1(){var t=Sa.f(),i=Bh();return t||i}function W1(t){var i=ji(t);i!==null&&i.tag===5&&i.type==="form"?av(i):Sa.r(t)}var nu=typeof document>"u"?null:document;function q_(t,i,a){var l=nu;if(l&&typeof i=="string"&&i){var f=gn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Ei(i,"link",t),Cn(i),l.head.appendChild(i)))}}function K1(t){Sa.D(t),q_("dns-prefetch",t,null)}function Q1(t,i){Sa.C(t,i),q_("preconnect",t,i)}function X1(t,i,a){Sa.L(t,i,a);var l=nu;if(l&&t&&i){var f='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+gn(a.imageSizes)+'"]')):f+='[href="'+gn(t)+'"]';var p=f;switch(i){case"style":p=iu(t);break;case"script":p=ru(t)}ns.has(p)||(t=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ns.set(p,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(pc(p))||i==="script"&&l.querySelector(mc(p))||(i=l.createElement("link"),Ei(i,"link",t),Cn(i),l.head.appendChild(i)))}}function J1(t,i){Sa.m(t,i);var a=nu;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(t)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ru(t)}if(!ns.has(p)&&(t=N({rel:"modulepreload",href:t},i),ns.set(p,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mc(p)))return}l=a.createElement("link"),Ei(l,"link",t),Cn(l),a.head.appendChild(l)}}}function Z1(t,i,a){Sa.S(t,i,a);var l=nu;if(l&&t){var f=Ui(l).hoistableStyles,p=iu(t);i=i||"default";var T=f.get(p);if(!T){var P={loading:0,preload:null};if(T=l.querySelector(pc(p)))P.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ns.get(p))&&Jp(t,a);var $=T=l.createElement("link");Cn($),Ei($,"link",t),$._p=new Promise(function(fe,Ee){$.onload=fe,$.onerror=Ee}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Qh(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:P},f.set(p,T)}}}function eA(t,i){Sa.X(t,i);var a=nu;if(a&&t){var l=Ui(a).hoistableScripts,f=ru(t),p=l.get(f);p||(p=a.querySelector(mc(f)),p||(t=N({src:t,async:!0},i),(i=ns.get(f))&&Zp(t,i),p=a.createElement("script"),Cn(p),Ei(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function tA(t,i){Sa.M(t,i);var a=nu;if(a&&t){var l=Ui(a).hoistableScripts,f=ru(t),p=l.get(f);p||(p=a.querySelector(mc(f)),p||(t=N({src:t,async:!0,type:"module"},i),(i=ns.get(f))&&Zp(t,i),p=a.createElement("script"),Cn(p),Ei(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function G_(t,i,a,l){var f=(f=Pe.current)?Kh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=iu(a.href),a=Ui(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=iu(a.href);var p=Ui(f).hoistableStyles,T=p.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=f.querySelector(pc(t)))&&!p._p&&(T.instance=p,T.state.loading=5),ns.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ns.set(t,a),p||nA(f,t,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ru(a),a=Ui(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function iu(t){return'href="'+gn(t)+'"'}function pc(t){return'link[rel="stylesheet"]['+t+"]"}function $_(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function nA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ei(i,"link",a),Cn(i),t.head.appendChild(i))}function ru(t){return'[src="'+gn(t)+'"]'}function mc(t){return"script[async]"+t}function Y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return i.instance=l,Cn(l),l;var f=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Cn(l),Ei(l,"style",f),Qh(l,a.precedence,t),i.instance=l;case"stylesheet":f=iu(a.href);var p=t.querySelector(pc(f));if(p)return i.state.loading|=4,i.instance=p,Cn(p),p;l=$_(a),(f=ns.get(f))&&Jp(l,f),p=(t.ownerDocument||t).createElement("link"),Cn(p);var T=p;return T._p=new Promise(function(P,$){T.onload=P,T.onerror=$}),Ei(p,"link",l),i.state.loading|=4,Qh(p,a.precedence,t),i.instance=p;case"script":return p=ru(a.src),(f=t.querySelector(mc(p)))?(i.instance=f,Cn(f),f):(l=a,(f=ns.get(p))&&(l=N({},a),Zp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Cn(f),Ei(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qh(l,a.precedence,t));return i.instance}function Qh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var P=l[T];if(P.dataset.precedence===i)p=P;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xh=null;function W_(t,i,a){if(Xh===null){var l=new Map,f=Xh=new Map;f.set(a,l)}else f=Xh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var p=a[f];if(!(p[Tr]||p[wn]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=t+T;var P=l.get(T);P?P.push(p):l.set(T,[p])}}return l}function K_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=iu(l.href),p=i.querySelector(pc(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Jh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=p,Cn(p);return}p=i.ownerDocument||i,l=$_(l),(f=ns.get(f))&&Jp(l,f),p=p.createElement("link"),Cn(p);var T=p;T._p=new Promise(function(P,$){T.onload=P,T.onerror=$}),Ei(p,"link",l),a.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Jh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function sA(t,i){return t.stylesheets&&t.count===0&&ef(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ef(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*U1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ef(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zh=null;function ef(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zh=new Map,i.forEach(aA,t),Zh=null,Jh.call(t))}function aA(t,i){if(!(i.state.loading&4)){var a=Zh.get(t);if(a)var l=a.get(null);else{a=new Map,Zh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=i.instance,T=f.getAttribute("data-precedence"),p=a.get(T)||l,p===l&&a.set(null,f),a.set(T,f),this.count++,l=Jh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var gc={$$typeof:be,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function oA(t,i,a,l,f,p,T,P,$){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function X_(t,i,a,l,f,p,T,P,$,fe,Ee,Ce){return t=new oA(t,i,a,T,$,fe,Ee,Ce,P),i=1,p===!0&&(i|=24),p=Nr(3,null,null,i),t.current=p,p.stateNode=t,i=Dd(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:i},kd(p),t}function J_(t){return t?(t=ca,t):ca}function Z_(t,i,a,l,f,p){f=J_(f),l.context===null?l.context=f:l.pendingContext=f,l=to(i),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=no(t,l,i),a!==null&&(dr(a,t,i),Wu(a,t,i))}function e0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){e0(t,i),(t=t.alternate)&&e0(t,i)}function t0(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&dr(i,t,67108864),tm(t,67108864)}}function n0(t){if(t.tag===13||t.tag===31){var i=Pr();i=He(i);var a=Ls(t,i);a!==null&&dr(a,t,i),tm(t,i)}}var tf=!0;function lA(t,i,a,l){var f=Y.T;Y.T=null;var p=Z.p;try{Z.p=2,nm(t,i,a,l)}finally{Z.p=p,Y.T=f}}function uA(t,i,a,l){var f=Y.T;Y.T=null;var p=Z.p;try{Z.p=8,nm(t,i,a,l)}finally{Z.p=p,Y.T=f}}function nm(t,i,a,l){if(tf){var f=im(l);if(f===null)Fp(t,i,l,nf,a),r0(t,l);else if(hA(f,t,i,a,l))l.stopPropagation();else if(r0(t,l),i&4&&-1<cA.indexOf(t)){for(;f!==null;){var p=ji(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Jn(p.pendingLanes);if(T!==0){var P=p;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var $=1<<31-Tt(T);P.entanglements[1]|=$,T&=~$}Bs(p),(Zt&6)===0&&(jh=O()+500,cc(0))}}break;case 31:case 13:P=Ls(p,2),P!==null&&dr(P,p,2),Bh(),tm(p,2)}if(p=im(l),p===null&&Fp(t,i,l,nf,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Fp(t,i,l,null,a)}}function im(t){return t=Fi(t),rm(t)}var nf=null;function rm(t){if(nf=null,t=Ji(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=y(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return nf=t,null}function i0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(g()){case b:return 2;case B:return 8;case J:case ye:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var sm=!1,po=null,mo=null,go=null,yc=new Map,vc=new Map,yo=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(t,i){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":yc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(i.pointerId)}}function _c(t,i,a,l,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},i!==null&&(i=ji(i),i!==null&&t0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function hA(t,i,a,l,f){switch(i){case"focusin":return po=_c(po,t,i,a,l,f),!0;case"dragenter":return mo=_c(mo,t,i,a,l,f),!0;case"mouseover":return go=_c(go,t,i,a,l,f),!0;case"pointerover":var p=f.pointerId;return yc.set(p,_c(yc.get(p)||null,t,i,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,vc.set(p,_c(vc.get(p)||null,t,i,a,l,f)),!0}return!1}function s0(t){var i=Ji(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Qi(t.priority,function(){n0(a)});return}}else if(i===31){if(i=y(a),i!==null){t.blockedOn=i,Qi(t.priority,function(){n0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ha=l,a.target.dispatchEvent(l),Ha=null}else return i=ji(a),i!==null&&t0(i),t.blockedOn=a,!1;i.shift()}return!0}function a0(t,i,a){rf(t)&&a.delete(i)}function fA(){sm=!1,po!==null&&rf(po)&&(po=null),mo!==null&&rf(mo)&&(mo=null),go!==null&&rf(go)&&(go=null),yc.forEach(a0),vc.forEach(a0)}function sf(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fA)))}var af=null;function o0(t){af!==t&&(af=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){af===t&&(af=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var p=ji(a);p!==null&&(t.splice(i,3),i-=3,ip(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function su(t){function i($){return sf($,t)}po!==null&&sf(po,t),mo!==null&&sf(mo,t),go!==null&&sf(go,t),yc.forEach(i),vc.forEach(i);for(var a=0;a<yo.length;a++){var l=yo[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yo.length&&(a=yo[0],a.blockedOn===null);)s0(a),a.blockedOn===null&&yo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],T=f[Ln]||null;if(typeof p=="function")T||o0(a);else if(T){var P=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Ln]||null)P=T.formAction;else if(rm(f)!==null)continue}else P=T.action;typeof P=="function"?a[l+1]=P:(a.splice(l,3),l-=3),o0(a)}}}function l0(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function am(t){this._internalRoot=t}of.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Pr();Z_(a,l,t,i,null,null)},of.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Z_(t.current,2,null,t,null,null),Bh(),i[Er]=null}};function of(t){this._internalRoot=t}of.prototype.unstable_scheduleHydration=function(t){if(t){var i=zr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<yo.length&&i!==0&&i<yo[a].priority;a++);yo.splice(a,0,t),a===0&&s0(t)}};var u0=e.version;if(u0!=="19.2.0")throw Error(s(527,u0,"19.2.0"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(i),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var dA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{qe=lf.inject(dA),Ze=lf}catch{}}return Ec.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=gv,p=yv,T=vv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,l,null,f,p,T,l0),t[Er]=i.current,zp(t),new am(i)},Ec.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",p=gv,T=yv,P=vv,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.formState!==void 0&&($=a.formState)),i=X_(t,1,!0,i,a??null,l,f,$,p,T,P,l0),i.context=J_(null),a=i.current,l=Pr(),l=He(l),f=to(l),f.callback=null,no(a,f,l),a=l,i.current.lanes=a,Ss(i,a),Bs(i),t[Er]=i.current,zp(t),new of(i)},Ec.version="19.2.0",Ec}var _0;function TA(){if(_0)return um.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=bA(),um.exports}var AA=TA();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w0="popstate";function SA(r={}){function e(s,o){let{pathname:u,search:h,hash:y}=s.location;return Om("",{pathname:u,search:h,hash:y},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:kc(o)}return RA(e,n,null,r)}function Nn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Es(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function E0(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Cu(e):e,state:n,key:e&&e.key||s||CA()}}function kc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Cu(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function RA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,y="POP",_=null,v=A();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function A(){return(h.state||{idx:null}).idx}function N(){y="POP";let re=A(),ee=re==null?null:re-v;v=re,_&&_({action:y,location:se.location,delta:ee})}function x(re,ee){y="PUSH";let le=Om(se.location,re,ee);v=A()+1;let be=E0(le,v),je=se.createHref(le);try{h.pushState(be,"",je)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(je)}u&&_&&_({action:y,location:se.location,delta:1})}function R(re,ee){y="REPLACE";let le=Om(se.location,re,ee);v=A();let be=E0(le,v),je=se.createHref(le);h.replaceState(be,"",je),u&&_&&_({action:y,location:se.location,delta:0})}function K(re){return IA(re)}let se={get action(){return y},get location(){return r(o,h)},listen(re){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(w0,N),_=re,()=>{o.removeEventListener(w0,N),_=null}},createHref(re){return e(o,re)},createURL:K,encodeLocation(re){let ee=K(re);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:x,replace:R,go(re){return h.go(re)}};return se}function IA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nn(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:kc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function oE(r,e,n="/"){return NA(r,e,n,!1)}function NA(r,e,n,s){let o=typeof e=="string"?Cu(e):e,u=Oa(o.pathname||"/",n);if(u==null)return null;let h=lE(r);MA(h);let y=null;for(let _=0;y==null&&_<h.length;++_){let v=zA(u);y=UA(h[_],v,s)}return y}function lE(r,e=[],n=[],s="",o=!1){let u=(h,y,_=o,v)=>{let A={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:y,route:h};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&_)return;Nn(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let N=Ia([s,A.relativePath]),x=n.concat(A);h.children&&h.children.length>0&&(Nn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),lE(h.children,e,x,N,_)),!(h.path==null&&!h.index)&&e.push({path:N,score:kA(N,h.index),routesMeta:x})};return r.forEach((h,y)=>{if(h.path===""||!h.path?.includes("?"))u(h,y);else for(let _ of uE(h.path))u(h,y,!0,_)}),e}function uE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=uE(s.join("/")),y=[];return y.push(...h.map(_=>_===""?u:[u,_].join("/"))),o&&y.push(...h),y.map(_=>r.startsWith("/")&&_===""?"/":_)}function MA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:jA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,xA=3,DA=2,PA=1,VA=10,LA=-2,b0=r=>r==="*";function kA(r,e){let n=r.split("/"),s=n.length;return n.some(b0)&&(s+=LA),e&&(s+=DA),n.filter(o=>!b0(o)).reduce((o,u)=>o+(OA.test(u)?xA:u===""?PA:VA),s)}function jA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function UA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let y=0;y<s.length;++y){let _=s[y],v=y===s.length-1,A=u==="/"?e:e.slice(u.length)||"/",N=Mf({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},A),x=_.route;if(!N&&v&&n&&!s[s.length-1].route.index&&(N=Mf({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},A)),!N)return null;Object.assign(o,N.params),h.push({params:o,pathname:Ia([u,N.pathname]),pathnameBase:GA(Ia([u,N.pathnameBase])),route:x}),N.pathnameBase!=="/"&&(u=Ia([u,N.pathnameBase]))}return h}function Mf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=BA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:s.reduce((v,{paramName:A,isOptional:N},x)=>{if(A==="*"){let K=y[x]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const R=y[x];return N&&!R?v[A]=void 0:v[A]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:r}}function BA(r,e=!1,n=!0){Es(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,y,_)=>(s.push({paramName:y,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Es(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Oa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function FA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Cu(r):r;return{pathname:n?n.startsWith("/")?n:HA(n,e):e,search:$A(s),hash:YA(o)}}function HA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function og(r){let e=qA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lg(r,e,n,s=!1){let o;typeof r=="string"?o=Cu(r):(o={...r},Nn(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),Nn(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),Nn(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,y;if(h==null)y=n;else{let N=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),N-=1;o.pathname=x.join("/")}y=N>=0?e[N]:"/"}let _=FA(o,y),v=h&&h!=="/"&&h.endsWith("/"),A=(u||h===".")&&n.endsWith("/");return!_.pathname.endsWith("/")&&(v||A)&&(_.pathname+="/"),_}var Ia=r=>r.join("/").replace(/\/\/+/g,"/"),GA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function WA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cE=["POST","PUT","PATCH","DELETE"];new Set(cE);var KA=["GET",...cE];new Set(KA);var Ru=X.createContext(null);Ru.displayName="DataRouter";var Jf=X.createContext(null);Jf.displayName="DataRouterState";X.createContext(!1);var hE=X.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var QA=X.createContext(new Map);QA.displayName="Fetchers";var XA=X.createContext(null);XA.displayName="Await";var As=X.createContext(null);As.displayName="Navigation";var Gc=X.createContext(null);Gc.displayName="Location";var Js=X.createContext({outlet:null,matches:[],isDataRoute:!1});Js.displayName="Route";var ug=X.createContext(null);ug.displayName="RouteError";function JA(r,{relative:e}={}){Nn(Iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=X.useContext(As),{hash:o,pathname:u,search:h}=$c(r,{relative:e}),y=u;return n!=="/"&&(y=u==="/"?n:Ia([n,u])),s.createHref({pathname:y,search:h,hash:o})}function Iu(){return X.useContext(Gc)!=null}function Ur(){return Nn(Iu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Gc).location}var fE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dE(r){X.useContext(As).static||X.useLayoutEffect(r)}function Li(){let{isDataRoute:r}=X.useContext(Js);return r?hS():ZA()}function ZA(){Nn(Iu(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Ru),{basename:e,navigator:n}=X.useContext(As),{matches:s}=X.useContext(Js),{pathname:o}=Ur(),u=JSON.stringify(og(s)),h=X.useRef(!1);return dE(()=>{h.current=!0}),X.useCallback((_,v={})=>{if(Es(h.current,fE),!h.current)return;if(typeof _=="number"){n.go(_);return}let A=lg(_,JSON.parse(u),o,v.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Ia([e,A.pathname])),(v.replace?n.replace:n.push)(A,v.state,v)},[e,n,u,o,r])}X.createContext(null);function $c(r,{relative:e}={}){let{matches:n}=X.useContext(Js),{pathname:s}=Ur(),o=JSON.stringify(og(n));return X.useMemo(()=>lg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function eS(r,e){return pE(r,e)}function pE(r,e,n,s,o){Nn(Iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=X.useContext(As),{matches:h}=X.useContext(Js),y=h[h.length-1],_=y?y.params:{},v=y?y.pathname:"/",A=y?y.pathnameBase:"/",N=y&&y.route;{let le=N&&N.path||"";mE(v,!N||le.endsWith("*")||le.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${le}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${le}"> to <Route path="${le==="/"?"*":`${le}/*`}">.`)}let x=Ur(),R;if(e){let le=typeof e=="string"?Cu(e):e;Nn(A==="/"||le.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${le.pathname}" was given in the \`location\` prop.`),R=le}else R=x;let K=R.pathname||"/",se=K;if(A!=="/"){let le=A.replace(/^\//,"").split("/");se="/"+K.replace(/^\//,"").split("/").slice(le.length).join("/")}let re=oE(r,{pathname:se});Es(N||re!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Es(re==null||re[re.length-1].route.element!==void 0||re[re.length-1].route.Component!==void 0||re[re.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=sS(re&&re.map(le=>Object.assign({},le,{params:Object.assign({},_,le.params),pathname:Ia([A,u.encodeLocation?u.encodeLocation(le.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:le.pathname]),pathnameBase:le.pathnameBase==="/"?A:Ia([A,u.encodeLocation?u.encodeLocation(le.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:le.pathnameBase])})),h,n,s,o);return e&&ee?X.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},ee):ee}function tS(){let r=cS(),e=WA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,h)}var nS=X.createElement(tS,null),iS=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?X.createElement(Js.Provider,{value:this.props.routeContext},X.createElement(ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rS({routeContext:r,match:e,children:n}){let s=X.useContext(Ru);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Js.Provider,{value:r},n)}function sS(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let v=u.findIndex(A=>A.route.id&&h?.[A.route.id]!==void 0);Nn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let y=!1,_=-1;if(n)for(let v=0;v<u.length;v++){let A=u[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(_=v),A.route.id){let{loaderData:N,errors:x}=n,R=A.route.loader&&!N.hasOwnProperty(A.route.id)&&(!x||x[A.route.id]===void 0);if(A.route.lazy||R){y=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}return u.reduceRight((v,A,N)=>{let x,R=!1,K=null,se=null;n&&(x=h&&A.route.id?h[A.route.id]:void 0,K=A.route.errorElement||nS,y&&(_<0&&N===0?(mE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,se=null):_===N&&(R=!0,se=A.route.hydrateFallbackElement||null)));let re=e.concat(u.slice(0,N+1)),ee=()=>{let le;return x?le=K:R?le=se:A.route.Component?le=X.createElement(A.route.Component,null):A.route.element?le=A.route.element:le=v,X.createElement(rS,{match:A,routeContext:{outlet:v,matches:re,isDataRoute:n!=null},children:le})};return n&&(A.route.ErrorBoundary||A.route.errorElement||N===0)?X.createElement(iS,{location:n.location,revalidation:n.revalidation,component:K,error:x,children:ee(),routeContext:{outlet:null,matches:re,isDataRoute:!0},unstable_onError:s}):ee()},null)}function cg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(r){let e=X.useContext(Ru);return Nn(e,cg(r)),e}function oS(r){let e=X.useContext(Jf);return Nn(e,cg(r)),e}function lS(r){let e=X.useContext(Js);return Nn(e,cg(r)),e}function hg(r){let e=lS(r),n=e.matches[e.matches.length-1];return Nn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function uS(){return hg("useRouteId")}function cS(){let r=X.useContext(ug),e=oS("useRouteError"),n=hg("useRouteError");return r!==void 0?r:e.errors?.[n]}function hS(){let{router:r}=aS("useNavigate"),e=hg("useNavigate"),n=X.useRef(!1);return dE(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{Es(n.current,fE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var T0={};function mE(r,e,n){!e&&!T0[r]&&(T0[r]=!0,Es(!1,n))}X.memo(fS);function fS({routes:r,future:e,state:n,unstable_onError:s}){return pE(r,void 0,n,s,e)}function dS({to:r,replace:e,state:n,relative:s}){Nn(Iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=X.useContext(As);Es(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=X.useContext(Js),{pathname:h}=Ur(),y=Li(),_=lg(r,og(u),h,s==="path"),v=JSON.stringify(_);return X.useEffect(()=>{y(JSON.parse(v),{replace:e,state:n,relative:s})},[y,v,s,e,n]),null}function Lr(r){Nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Nn(!Iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),y=X.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Cu(n));let{pathname:_="/",search:v="",hash:A="",state:N=null,key:x="default"}=n,R=X.useMemo(()=>{let K=Oa(_,h);return K==null?null:{location:{pathname:K,search:v,hash:A,state:N,key:x},navigationType:s}},[h,_,v,A,N,x,s]);return Es(R!=null,`<Router basename="${h}"> is not able to match the URL "${_}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:X.createElement(As.Provider,{value:y},X.createElement(Gc.Provider,{children:e,value:R}))}function mS({children:r,location:e}){return eS(xm(r),e)}function xm(r,e=[]){let n=[];return X.Children.forEach(r,(s,o)=>{if(!X.isValidElement(s))return;let u=[...e,o];if(s.type===X.Fragment){n.push.apply(n,xm(s.props.children,u));return}Nn(s.type===Lr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=xm(s.props.children,u)),n.push(h)}),n}var yf="get",vf="application/x-www-form-urlencoded";function Zf(r){return r!=null&&typeof r.tagName=="string"}function gS(r){return Zf(r)&&r.tagName.toLowerCase()==="button"}function yS(r){return Zf(r)&&r.tagName.toLowerCase()==="form"}function vS(r){return Zf(r)&&r.tagName.toLowerCase()==="input"}function _S(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wS(r,e){return r.button===0&&(!e||e==="_self")&&!_S(r)}var uf=null;function ES(){if(uf===null)try{new FormData(document.createElement("form"),0),uf=!1}catch{uf=!0}return uf}var bS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(r){return r!=null&&!bS.has(r)?(Es(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):r}function TS(r,e){let n,s,o,u,h;if(yS(r)){let y=r.getAttribute("action");s=y?Oa(y,e):null,n=r.getAttribute("method")||yf,o=pm(r.getAttribute("enctype"))||vf,u=new FormData(r)}else if(gS(r)||vS(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=r.getAttribute("formaction")||y.getAttribute("action");if(s=_?Oa(_,e):null,n=r.getAttribute("formmethod")||y.getAttribute("method")||yf,o=pm(r.getAttribute("formenctype"))||pm(y.getAttribute("enctype"))||vf,u=new FormData(y,r),!ES()){let{name:v,type:A,value:N}=r;if(A==="image"){let x=v?`${v}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else v&&u.append(v,N)}}else{if(Zf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yf,s=null,o=vf,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function AS(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Oa(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function SS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await SS(u,n);return h.links?h.links():[]}return[]}));return OS(s.flat(1).filter(CS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A0(r,e,n,s,o,u){let h=(_,v)=>n[v]?_.route.id!==n[v].route.id:!0,y=(_,v)=>n[v].pathname!==_.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==_.params["*"];return u==="assets"?e.filter((_,v)=>h(_,v)||y(_,v)):u==="data"?e.filter((_,v)=>{let A=s.routes[_.route.id];if(!A||!A.hasLoader)return!1;if(h(_,v)||y(_,v))return!0;if(_.route.shouldRevalidate){let N=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function IS(r,e,{includeHydrateFallback:n}={}){return NS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NS(r){return[...new Set(r)]}function MS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function OS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(MS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function gE(){let r=X.useContext(Ru);return fg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xS(){let r=X.useContext(Jf);return fg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dg=X.createContext(void 0);dg.displayName="FrameworkContext";function yE(){let r=X.useContext(dg);return fg(r,"You must render this element inside a <HydratedRouter> element"),r}function DS(r,e){let n=X.useContext(dg),[s,o]=X.useState(!1),[u,h]=X.useState(!1),{onFocus:y,onBlur:_,onMouseEnter:v,onMouseLeave:A,onTouchStart:N}=e,x=X.useRef(null);X.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let se=ee=>{ee.forEach(le=>{h(le.isIntersecting)})},re=new IntersectionObserver(se,{threshold:.5});return x.current&&re.observe(x.current),()=>{re.disconnect()}}},[r]),X.useEffect(()=>{if(s){let se=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(se)}}},[s]);let R=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:bc(y,R),onBlur:bc(_,K),onMouseEnter:bc(v,R),onMouseLeave:bc(A,K),onTouchStart:bc(N,R)}]:[!1,x,{}]}function bc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function PS({page:r,...e}){let{router:n}=gE(),s=X.useMemo(()=>oE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?X.createElement(LS,{page:r,matches:s,...e}):null}function VS(r){let{manifest:e,routeModules:n}=yE(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return RS(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function LS({page:r,matches:e,...n}){let s=Ur(),{manifest:o,routeModules:u}=yE(),{basename:h}=gE(),{loaderData:y,matches:_}=xS(),v=X.useMemo(()=>A0(r,e,_,o,s,"data"),[r,e,_,o,s]),A=X.useMemo(()=>A0(r,e,_,o,s,"assets"),[r,e,_,o,s]),N=X.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,se=!1;if(e.forEach(ee=>{let le=o.routes[ee.route.id];!le||!le.hasLoader||(!v.some(be=>be.route.id===ee.route.id)&&ee.route.id in y&&u[ee.route.id]?.shouldRevalidate||le.hasClientLoader?se=!0:K.add(ee.route.id))}),K.size===0)return[];let re=AS(r,h,"data");return se&&K.size>0&&re.searchParams.set("_routes",e.filter(ee=>K.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[re.pathname+re.search]},[h,y,s,o,v,e,r,u]),x=X.useMemo(()=>IS(A,o),[A,o]),R=VS(A);return X.createElement(X.Fragment,null,N.map(K=>X.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),x.map(K=>X.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),R.map(({key:K,link:se})=>X.createElement("link",{key:K,nonce:n.nonce,...se})))}function kS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.9.4")}catch{}function jS({basename:r,children:e,window:n}){let s=X.useRef();s.current==null&&(s.current=SA({window:n,v5Compat:!0}));let o=s.current,[u,h]=X.useState({action:o.action,location:o.location}),y=X.useCallback(_=>{X.startTransition(()=>h(_))},[h]);return X.useLayoutEffect(()=>o.listen(y),[o,y]),X.createElement(pS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wE=X.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:y,target:_,to:v,preventScrollReset:A,viewTransition:N,...x},R){let{basename:K}=X.useContext(As),se=typeof v=="string"&&_E.test(v),re,ee=!1;if(typeof v=="string"&&se&&(re=v,vE))try{let k=new URL(window.location.href),z=v.startsWith("//")?new URL(k.protocol+v):new URL(v),I=Oa(z.pathname,K);z.origin===k.origin&&I!=null?v=I+z.search+z.hash:ee=!0}catch{Es(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=JA(v,{relative:o}),[be,je,we]=DS(s,x),Me=FS(v,{replace:h,state:y,target:_,preventScrollReset:A,relative:o,viewTransition:N});function V(k){e&&e(k),k.defaultPrevented||Me(k)}let q=X.createElement("a",{...x,...we,href:re||le,onClick:ee||u?e:V,ref:kS(R,je),target:_,"data-discover":!se&&n==="render"?"true":void 0});return be&&!se?X.createElement(X.Fragment,null,q,X.createElement(PS,{page:le})):q});wE.displayName="Link";var US=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:y,children:_,...v},A){let N=$c(h,{relative:v.relative}),x=Ur(),R=X.useContext(Jf),{navigator:K,basename:se}=X.useContext(As),re=R!=null&&YS(N)&&y===!0,ee=K.encodeLocation?K.encodeLocation(N).pathname:N.pathname,le=x.pathname,be=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(le=le.toLowerCase(),be=be?be.toLowerCase():null,ee=ee.toLowerCase()),be&&se&&(be=Oa(be,se)||be);const je=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let we=le===ee||!o&&le.startsWith(ee)&&le.charAt(je)==="/",Me=be!=null&&(be===ee||!o&&be.startsWith(ee)&&be.charAt(ee.length)==="/"),V={isActive:we,isPending:Me,isTransitioning:re},q=we?e:void 0,k;typeof s=="function"?k=s(V):k=[s,we?"active":null,Me?"pending":null,re?"transitioning":null].filter(Boolean).join(" ");let z=typeof u=="function"?u(V):u;return X.createElement(wE,{...v,"aria-current":q,className:k,ref:A,style:z,to:h,viewTransition:y},typeof _=="function"?_(V):_)});US.displayName="NavLink";var BS=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=yf,action:y,onSubmit:_,relative:v,preventScrollReset:A,viewTransition:N,...x},R)=>{let K=GS(),se=$S(y,{relative:v}),re=h.toLowerCase()==="get"?"get":"post",ee=typeof y=="string"&&_E.test(y),le=be=>{if(_&&_(be),be.defaultPrevented)return;be.preventDefault();let je=be.nativeEvent.submitter,we=je?.getAttribute("formmethod")||h;K(je||be.currentTarget,{fetcherKey:e,method:we,navigate:n,replace:o,state:u,relative:v,preventScrollReset:A,viewTransition:N})};return X.createElement("form",{ref:R,method:re,action:se,onSubmit:s?_:le,...x,"data-discover":!ee&&r==="render"?"true":void 0})});BS.displayName="Form";function zS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EE(r){let e=X.useContext(Ru);return Nn(e,zS(r)),e}function FS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let y=Li(),_=Ur(),v=$c(r,{relative:u});return X.useCallback(A=>{if(wS(A,e)){A.preventDefault();let N=n!==void 0?n:kc(_)===kc(v);y(r,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[_,y,v,n,s,e,r,o,u,h])}var HS=0,qS=()=>`__${String(++HS)}__`;function GS(){let{router:r}=EE("useSubmit"),{basename:e}=X.useContext(As),n=uS();return X.useCallback(async(s,o={})=>{let{action:u,method:h,encType:y,formData:_,body:v}=TS(s,e);if(o.navigate===!1){let A=o.fetcherKey||qS();await r.fetch(A,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:v,formMethod:o.method||h,formEncType:o.encType||y,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:_,body:v,formMethod:o.method||h,formEncType:o.encType||y,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function $S(r,{relative:e}={}){let{basename:n}=X.useContext(As),s=X.useContext(Js);Nn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...$c(r||".",{relative:e})},h=Ur();if(r==null){u.search=h.search;let y=new URLSearchParams(u.search),_=y.getAll("index");if(_.some(A=>A==="")){y.delete("index"),_.filter(N=>N).forEach(N=>y.append("index",N));let A=y.toString();u.search=A?`?${A}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ia([n,u.pathname])),kc(u)}function YS(r,{relative:e}={}){let n=X.useContext(hE);Nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=EE("useViewTransitionState"),o=$c(r,{relative:e});if(!n.isTransitioning)return!1;let u=Oa(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Oa(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mf(o.pathname,h)!=null||Mf(o.pathname,u)!=null}var mm={},_f={exports:{}},WS=_f.exports,S0;function KS(){return S0||(S0=1,(function(r,e){(function(s,o){r.exports=o()})(WS,()=>(()=>{var n=[,((h,y,_)=>{_.r(y),_.d(y,{default:()=>A});var v=(()=>{var N=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return(function(x={}){var R=x,K,se;R.ready=new Promise((d,m)=>{K=d,se=m});function re(){function d(Q){const ue=C;w=m=0,C=new Map,ue.forEach(ve=>{try{ve(Q)}catch(ae){console.error(ae)}}),this.pb(),L&&L.Tb()}let m=0,w=0,C=new Map,L=null,H=null;this.requestAnimationFrame=function(Q){m||(m=requestAnimationFrame(d.bind(this)));const ue=++w;return C.set(ue,Q),ue},this.cancelAnimationFrame=function(Q){C.delete(Q),m&&C.size==0&&(cancelAnimationFrame(m),m=0)},this.Rb=function(Q){H&&(document.body.remove(H),H=null),Q||(H=document.createElement("div"),H.style.backgroundColor="black",H.style.position="fixed",H.style.right=0,H.style.top=0,H.style.color="white",H.style.padding="4px",H.innerHTML="RIVE FPS",Q=function(ue){H.innerHTML="RIVE FPS "+ue.toFixed(1)},document.body.appendChild(H)),L=new function(){let ue=0,ve=0;this.Tb=function(){var ae=performance.now();ve?(++ue,ae-=ve,1e3<ae&&(Q(1e3*ue/ae),ue=ve=0)):(ve=ae,ue=0)}}},this.Ob=function(){H&&(document.body.remove(H),H=null),L=null},this.pb=function(){}}function ee(d){console.assert(!0);const m=new Map;let w=-1/0;this.push=function(C){return C=C+((1<<d)-1)>>d,m.has(C)&&clearTimeout(m.get(C)),m.set(C,setTimeout(function(){m.delete(C),m.length==0?w=-1/0:C==w&&(w=Math.max(...m.keys()),console.assert(w<C))},1e3)),w=Math.max(C,w),w<<d}}const le=R.onRuntimeInitialized;R.onRuntimeInitialized=function(){le&&le();let d=R.decodeAudio;R.decodeAudio=function(L,H){L=d(L),H(L)};let m=R.decodeFont;R.decodeFont=function(L,H){L=m(L),H(L)};const w=R.FileAssetLoader;R.ptrToAsset=L=>{let H=R.ptrToFileAsset(L);return H.isImage?R.ptrToImageAsset(L):H.isFont?R.ptrToFontAsset(L):H.isAudio?R.ptrToAudioAsset(L):H},R.CustomFileAssetLoader=w.extend("CustomFileAssetLoader",{__construct:function({loadContents:L}){this.__parent.__construct.call(this),this.Gb=L},loadContents:function(L,H){return L=R.ptrToAsset(L),this.Gb(L,H)}}),R.CDNFileAssetLoader=w.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(L){let H=R.ptrToAsset(L);return L=H.cdnUuid,L===""?!1:((function(Q,ue){var ve=new XMLHttpRequest;ve.responseType="arraybuffer",ve.onreadystatechange=function(){ve.readyState==4&&ve.status==200&&ue(ve)},ve.open("GET",Q,!0),ve.send(null)})(H.cdnBaseUrl+"/"+L,Q=>{H.decode(new Uint8Array(Q.response))}),!0)}}),R.FallbackFileAssetLoader=w.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.lb=[]},addLoader:function(L){this.lb.push(L)},loadContents:function(L,H){for(let Q of this.lb)if(Q.loadContents(L,H))return!0;return!1}});let C=R.computeAlignment;R.computeAlignment=function(L,H,Q,ue,ve=1){return C.call(this,L,H,Q,ue,ve)}};const be="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),je=new function(){function d(){if(!m){let qt=function(Fe,Ot,Yt){if(Ot=Be.createShader(Ot),Be.shaderSource(Ot,Yt),Be.compileShader(Ot),Yt=Be.getShaderInfoLog(Ot),0<(Yt||"").length)throw Yt;Be.attachShader(Fe,Ot)};var Qe=qt,ne=document.createElement("canvas"),Ve={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Be;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Be=ne.getContext("webgl",Ve),w=1,!Be)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Be=ne.getContext("webgl2",Ve))w=2;else if(Be=ne.getContext("webgl",Ve))w=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Be=new Proxy(Be,{get(Fe,Ot){if(Fe.isContextLost()){if(ve||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ot),ve=!0),typeof Fe[Ot]=="function")return function(){}}else return typeof Fe[Ot]=="function"?function(...Yt){return Fe[Ot].apply(Fe,Yt)}:Fe[Ot]},set(Fe,Ot,Yt){if(Fe.isContextLost())ve||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ot),ve=!0);else return Fe[Ot]=Yt,!0}}),C=Math.min(Be.getParameter(Be.MAX_RENDERBUFFER_SIZE),Be.getParameter(Be.MAX_TEXTURE_SIZE)),ne=Be.createProgram(),qt(ne,Be.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),qt(ne,Be.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Be.bindAttribLocation(ne,0,"vertex"),Be.bindAttribLocation(ne,1,"uv"),Be.linkProgram(ne),Ve=Be.getProgramInfoLog(ne),0<(Ve||"").trim().length)throw Ve;L=Be.getUniformLocation(ne,"mat"),H=Be.getUniformLocation(ne,"translate"),Be.useProgram(ne),Be.bindBuffer(Be.ARRAY_BUFFER,Be.createBuffer()),Be.enableVertexAttribArray(0),Be.enableVertexAttribArray(1),Be.bindBuffer(Be.ELEMENT_ARRAY_BUFFER,Be.createBuffer()),Be.uniform1i(Be.getUniformLocation(ne,"image"),0),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),m=Be}return!0}let m=null,w=0,C=0,L=null,H=null,Q=0,ue=0,ve=!1;d(),this.hc=function(){return d(),C},this.Mb=function(ne){m.deleteTexture&&m.deleteTexture(ne)},this.Lb=function(ne){if(!d())return null;const Ve=m.createTexture();return Ve?(m.bindTexture(m.TEXTURE_2D,Ve),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,ne),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),w==2?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),Ve):null};const ae=new ee(8),De=new ee(8),Le=new ee(10),Ge=new ee(10);this.Qb=function(ne,Ve,Qe,Be,qt){if(d()){var Fe=ae.push(ne),Ot=De.push(Ve);if(m.canvas){(m.canvas.width!=Fe||m.canvas.height!=Ot)&&(m.canvas.width=Fe,m.canvas.height=Ot),m.viewport(0,Ot-Ve,ne,Ve),m.disable(m.SCISSOR_TEST),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.enable(m.SCISSOR_TEST),Qe.sort((vt,yi)=>yi.xb-vt.xb),Fe=Le.push(Be),Q!=Fe&&(m.bufferData(m.ARRAY_BUFFER,8*Fe,m.DYNAMIC_DRAW),Q=Fe),Fe=0;for(var Yt of Qe)m.bufferSubData(m.ARRAY_BUFFER,Fe,Yt.Ua),Fe+=4*Yt.Ua.length;console.assert(Fe==4*Be);for(var or of Qe)m.bufferSubData(m.ARRAY_BUFFER,Fe,or.Db),Fe+=4*or.Db.length;console.assert(Fe==8*Be),Fe=Ge.push(qt),ue!=Fe&&(m.bufferData(m.ELEMENT_ARRAY_BUFFER,2*Fe,m.DYNAMIC_DRAW),ue=Fe),Yt=0;for(var Vs of Qe)m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,Yt,Vs.indices),Yt+=2*Vs.indices.length;console.assert(Yt==2*qt),Vs=0,or=!0,Fe=Yt=0;for(const vt of Qe){vt.image.Ka!=Vs&&(m.bindTexture(m.TEXTURE_2D,vt.image.Ja||null),Vs=vt.image.Ka),vt.mc?(m.scissor(vt.Za,Ot-vt.$a-vt.kb,vt.Ac,vt.kb),or=!0):or&&(m.scissor(0,Ot-Ve,ne,Ve),or=!1),Qe=2/ne;const yi=-2/Ve;m.uniform4f(L,vt.ha[0]*Qe*vt.Ba,vt.ha[1]*yi*vt.Ca,vt.ha[2]*Qe*vt.Ba,vt.ha[3]*yi*vt.Ca),m.uniform2f(H,vt.ha[4]*Qe*vt.Ba+Qe*(vt.Za-vt.ic*vt.Ba)-1,vt.ha[5]*yi*vt.Ca+yi*(vt.$a-vt.jc*vt.Ca)+1),m.vertexAttribPointer(0,2,m.FLOAT,!1,0,Fe),m.vertexAttribPointer(1,2,m.FLOAT,!1,0,Fe+4*Be),m.drawElements(m.TRIANGLES,vt.indices.length,m.UNSIGNED_SHORT,Yt),Fe+=4*vt.Ua.length,Yt+=2*vt.indices.length}console.assert(Fe==4*Be),console.assert(Yt==2*qt)}}},this.canvas=function(){return d()&&m.canvas}},we=R.onRuntimeInitialized;R.onRuntimeInitialized=function(){function d(xe){switch(xe){case ae.srcOver:return"source-over";case ae.screen:return"screen";case ae.overlay:return"overlay";case ae.darken:return"darken";case ae.lighten:return"lighten";case ae.colorDodge:return"color-dodge";case ae.colorBurn:return"color-burn";case ae.hardLight:return"hard-light";case ae.softLight:return"soft-light";case ae.difference:return"difference";case ae.exclusion:return"exclusion";case ae.multiply:return"multiply";case ae.hue:return"hue";case ae.saturation:return"saturation";case ae.color:return"color";case ae.luminosity:return"luminosity"}}function m(xe){return"rgba("+((16711680&xe)>>>16)+","+((65280&xe)>>>8)+","+((255&xe)>>>0)+","+((4278190080&xe)>>>24)/255+")"}function w(){0<Ot.length&&(je.Qb(Fe.drawWidth(),Fe.drawHeight(),Ot,Yt,or),Ot=[],or=Yt=0,Fe.reset(512,512));for(const xe of qt){for(const ze of xe.H)ze();xe.H=[]}qt.clear()}we&&we();var C=R.RenderPaintStyle;const L=R.RenderPath,H=R.RenderPaint,Q=R.Renderer,ue=R.StrokeCap,ve=R.StrokeJoin,ae=R.BlendMode,De=C.fill,Le=C.stroke,Ge=R.FillRule.evenOdd;let ne=1;var Ve=R.RenderImage.extend("CanvasRenderImage",{__construct:function({la:xe,xa:ze}={}){this.__parent.__construct.call(this),this.Ka=ne,ne=ne+1&2147483647||1,this.la=xe,this.xa=ze},__destruct:function(){this.Ja&&(je.Mb(this.Ja),URL.revokeObjectURL(this.Xa)),this.__parent.__destruct.call(this)},decode:function(xe){var ze=this;ze.xa&&ze.xa(ze);var St=new Image;ze.Xa=URL.createObjectURL(new Blob([xe],{type:"image/png"})),St.onload=function(){ze.Fb=St,ze.Ja=je.Lb(St),ze.size(St.width,St.height),ze.la&&ze.la(ze)},St.src=ze.Xa}}),Qe=L.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(xe,ze,St,Rt,dt,It,Gt){var Wt=this.T,lr=Wt.addPath;xe=xe.T;const jn=new DOMMatrix;jn.a=ze,jn.b=St,jn.c=Rt,jn.d=dt,jn.e=It,jn.f=Gt,lr.call(Wt,xe,jn)},fillRule:function(xe){this.Wa=xe},moveTo:function(xe,ze){this.T.moveTo(xe,ze)},lineTo:function(xe,ze){this.T.lineTo(xe,ze)},cubicTo:function(xe,ze,St,Rt,dt,It){this.T.bezierCurveTo(xe,ze,St,Rt,dt,It)},close:function(){this.T.closePath()}}),Be=H.extend("CanvasRenderPaint",{color:function(xe){this.Ya=m(xe)},thickness:function(xe){this.Ib=xe},join:function(xe){switch(xe){case ve.miter:this.Ia="miter";break;case ve.round:this.Ia="round";break;case ve.bevel:this.Ia="bevel"}},cap:function(xe){switch(xe){case ue.butt:this.Ha="butt";break;case ue.round:this.Ha="round";break;case ue.square:this.Ha="square"}},style:function(xe){this.Hb=xe},blendMode:function(xe){this.Eb=d(xe)},clearGradient:function(){this.ja=null},linearGradient:function(xe,ze,St,Rt){this.ja={zb:xe,Ab:ze,cb:St,eb:Rt,Ra:[]}},radialGradient:function(xe,ze,St,Rt){this.ja={zb:xe,Ab:ze,cb:St,eb:Rt,Ra:[],ec:!0}},addStop:function(xe,ze){this.ja.Ra.push({color:xe,stop:ze})},completeGradient:function(){},draw:function(xe,ze,St){let Rt=this.Hb;var dt=this.Ya,It=this.ja;if(xe.globalCompositeOperation=this.Eb,It!=null){dt=It.zb;var Gt=It.Ab;const lr=It.cb;var Wt=It.eb;const jn=It.Ra;It.ec?(It=lr-dt,Wt-=Gt,dt=xe.createRadialGradient(dt,Gt,0,dt,Gt,Math.sqrt(It*It+Wt*Wt))):dt=xe.createLinearGradient(dt,Gt,lr,Wt);for(let Ni=0,en=jn.length;Ni<en;Ni++)Gt=jn[Ni],dt.addColorStop(Gt.stop,m(Gt.color));this.Ya=dt,this.ja=null}switch(Rt){case Le:xe.strokeStyle=dt,xe.lineWidth=this.Ib,xe.lineCap=this.Ha,xe.lineJoin=this.Ia,xe.stroke(ze);break;case De:xe.fillStyle=dt,xe.fill(ze,St)}}});const qt=new Set;let Fe=null,Ot=[],Yt=0,or=0;var Vs=R.CanvasRenderer=Q.extend("Renderer",{__construct:function(xe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=xe.getContext("2d"),this.Va=xe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const xe=this.S.length-6;if(6>xe)throw"restore() called without matching save().";this.S.splice(xe),this.H.push(this.C.restore.bind(this.C))},transform:function(xe,ze,St,Rt,dt,It){const Gt=this.S,Wt=Gt.length-6;Gt.splice(Wt,6,Gt[Wt]*xe+Gt[Wt+2]*ze,Gt[Wt+1]*xe+Gt[Wt+3]*ze,Gt[Wt]*St+Gt[Wt+2]*Rt,Gt[Wt+1]*St+Gt[Wt+3]*Rt,Gt[Wt]*dt+Gt[Wt+2]*It+Gt[Wt+4],Gt[Wt+1]*dt+Gt[Wt+3]*It+Gt[Wt+5]),this.H.push(this.C.transform.bind(this.C,xe,ze,St,Rt,dt,It))},rotate:function(xe){const ze=Math.sin(xe);xe=Math.cos(xe),this.transform(xe,ze,-ze,xe,0,0)},_drawPath:function(xe,ze){this.H.push(ze.draw.bind(ze,this.C,xe.T,xe.Wa===Ge?"evenodd":"nonzero"))},_drawRiveImage:function(xe,ze,St,Rt){var dt=xe.Fb;if(dt){var It=this.C,Gt=d(St);this.H.push(function(){It.globalCompositeOperation=Gt,It.globalAlpha=Rt,It.drawImage(dt,0,0),It.globalAlpha=1})}},_getMatrix:function(xe){const ze=this.S,St=ze.length-6;for(let Rt=0;6>Rt;++Rt)xe[Rt]=ze[St+Rt]},_drawImageMesh:function(xe,ze,St,Rt,dt,It,Gt,Wt,lr,jn,Ni){ze=this.C.canvas.width;var en=this.C.canvas.height;const Ko=jn-Wt,Gi=Ni-lr;Wt=Math.max(Wt,0),lr=Math.max(lr,0),jn=Math.min(jn,ze),Ni=Math.min(Ni,en);const Yr=jn-Wt,la=Ni-lr;if(console.assert(Yr<=Math.min(Ko,ze)),console.assert(la<=Math.min(Gi,en)),!(0>=Yr||0>=la)){jn=Yr<Ko||la<Gi,ze=Ni=1;var Wr=Math.ceil(Yr*Ni),Kr=Math.ceil(la*ze);en=je.hc(),Wr>en&&(Ni*=en/Wr,Wr=en),Kr>en&&(ze*=en/Kr,Kr=en),Fe||(Fe=new R.DynamicRectanizer(en),Fe.reset(512,512)),en=Fe.addRect(Wr,Kr),0>en&&(w(),qt.add(this),en=Fe.addRect(Wr,Kr),console.assert(0<=en));var Pl=en&65535,Ls=en>>16;Ot.push({ha:this.S.slice(this.S.length-6),image:xe,Za:Pl,$a:Ls,ic:Wt,jc:lr,Ac:Wr,kb:Kr,Ba:Ni,Ca:ze,Ua:new Float32Array(dt),Db:new Float32Array(It),indices:new Uint16Array(Gt),mc:jn,xb:xe.Ka<<1|(jn?1:0)}),Yt+=dt.length,or+=Gt.length;var ua=this.C,Vl=d(St);this.H.push(function(){ua.save(),ua.resetTransform(),ua.globalCompositeOperation=Vl,ua.globalAlpha=Rt;const ca=je.canvas();ca&&ua.drawImage(ca,Pl,Ls,Wr,Kr,Wt,lr,Yr,la),ua.restore()})}},_clipPath:function(xe){this.H.push(this.C.clip.bind(this.C,xe.T,xe.Wa===Ge?"evenodd":"nonzero"))},clear:function(){qt.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Va.width,this.Va.height))},flush:function(){},translate:function(xe,ze){this.transform(1,0,0,1,xe,ze)}});R.makeRenderer=function(xe){const ze=new Vs(xe),St=ze.C;return new Proxy(ze,{get(Rt,dt){if(typeof Rt[dt]=="function")return function(...It){return Rt[dt].apply(Rt,It)};if(typeof St[dt]=="function"){if(-1<be.indexOf(dt))throw Error("RiveException: Method call to '"+dt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...It){ze.H.push(St[dt].bind(St,...It))}}return Rt[dt]},set(Rt,dt,It){if(dt in St)return ze.H.push(()=>{St[dt]=It}),!0}})},R.decodeImage=function(xe,ze){new Ve({la:ze}).decode(xe)},R.renderFactory={makeRenderPaint:function(){return new Be},makeRenderPath:function(){return new Qe},makeRenderImage:function(){let xe=yi;return new Ve({xa:()=>{xe.total++},la:()=>{if(xe.loaded++,xe.loaded===xe.total){const ze=xe.ready;ze&&(ze(),xe.ready=null)}}})}};let vt=R.load,yi=null;R.load=function(xe,ze,St=!0){const Rt=new R.FallbackFileAssetLoader;return ze!==void 0&&Rt.addLoader(ze),St&&(ze=new R.CDNFileAssetLoader,Rt.addLoader(ze)),new Promise(function(dt){let It=null;yi={total:0,loaded:0,ready:function(){dt(It)}},It=vt(xe,Rt),yi.total==0&&dt(It)})};let zu=R.RendererWrapper.prototype.align;R.RendererWrapper.prototype.align=function(xe,ze,St,Rt,dt=1){zu.call(this,xe,ze,St,Rt,dt)},C=new re,R.requestAnimationFrame=C.requestAnimationFrame.bind(C),R.cancelAnimationFrame=C.cancelAnimationFrame.bind(C),R.enableFPSCounter=C.Rb.bind(C),R.disableFPSCounter=C.Ob,C.pb=w,R.resolveAnimationFrame=w,R.cleanup=function(){Fe&&Fe.delete()}};var Me=Object.assign({},R),V="./this.program",q=typeof window=="object",k=typeof importScripts=="function",z="",I,U;(q||k)&&(k?z=self.location.href:typeof document<"u"&&document.currentScript&&(z=document.currentScript.src),N&&(z=N),z.indexOf("blob:")!==0?z=z.substr(0,z.replace(/[?#].*/,"").lastIndexOf("/")+1):z="",k&&(U=d=>{var m=new XMLHttpRequest;return m.open("GET",d,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),I=(d,m,w)=>{var C=new XMLHttpRequest;C.open("GET",d,!0),C.responseType="arraybuffer",C.onload=()=>{C.status==200||C.status==0&&C.response?m(C.response):w()},C.onerror=w,C.send(null)});var D=R.print||console.log.bind(console),G=R.printErr||console.error.bind(console);Object.assign(R,Me),Me=null,R.thisProgram&&(V=R.thisProgram);var te;R.wasmBinary&&(te=R.wasmBinary),R.noExitRuntime,typeof WebAssembly!="object"&&Ft("no native wasm support detected");var Y,Z,Ae=!1,pe,Ne,F,ce,_e,Se,Ue,Pe;function Ke(){var d=Y.buffer;R.HEAP8=pe=new Int8Array(d),R.HEAP16=F=new Int16Array(d),R.HEAP32=_e=new Int32Array(d),R.HEAPU8=Ne=new Uint8Array(d),R.HEAPU16=ce=new Uint16Array(d),R.HEAPU32=Se=new Uint32Array(d),R.HEAPF32=Ue=new Float32Array(d),R.HEAPF64=Pe=new Float64Array(d)}var st,gt=[],Jt=[],nn=[];function Je(){var d=R.preRun.shift();gt.unshift(d)}var yt=0,zt=null;function Ft(d){throw R.onAbort&&R.onAbort(d),d="Aborted("+d+")",G(d),Ae=!0,d=new WebAssembly.RuntimeError(d+". Build with -sASSERTIONS for more info."),se(d),d}function ci(d){return d.startsWith("data:application/octet-stream;base64,")}var hi;if(hi="canvas_advanced.wasm",!ci(hi)){var Br=hi;hi=R.locateFile?R.locateFile(Br,z):z+Br}function bt(d){if(d==hi&&te)return new Uint8Array(te);if(U)return U(d);throw"both async and sync fetching of the wasm failed"}function pn(d){if(!te&&(q||k)){if(typeof fetch=="function"&&!d.startsWith("file://"))return fetch(d,{credentials:"same-origin"}).then(m=>{if(!m.ok)throw"failed to load wasm binary file at '"+d+"'";return m.arrayBuffer()}).catch(()=>bt(d));if(I)return new Promise((m,w)=>{I(d,C=>m(new Uint8Array(C)),w)})}return Promise.resolve().then(()=>bt(d))}function ki(d,m,w){return pn(d).then(C=>WebAssembly.instantiate(C,m)).then(C=>C).then(w,C=>{G("failed to asynchronously prepare wasm: "+C),Ft(C)})}function Zs(d,m){var w=hi;return te||typeof WebAssembly.instantiateStreaming!="function"||ci(w)||w.startsWith("file://")||typeof fetch!="function"?ki(w,d,m):fetch(w,{credentials:"same-origin"}).then(C=>WebAssembly.instantiateStreaming(C,d).then(m,function(L){return G("wasm streaming compile failed: "+L),G("falling back to ArrayBuffer instantiation"),ki(w,d,m)}))}var Ci,O,g={462168:(d,m,w,C,L)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=d,window.h.I.capture=m,window.h.I.La=w,window.h.ga={},window.h.ga.stopped=C,window.h.ga.yb=L;let H=window.h;H.D=[],H.yc=function(Q){for(var ue=0;ue<H.D.length;++ue)if(H.D[ue]==null)return H.D[ue]=Q,ue;return H.D.push(Q),H.D.length-1},H.Cb=function(Q){for(H.D[Q]=null;0<H.D.length&&H.D[H.D.length-1]==null;)H.D.pop()},H.Sc=function(Q){for(var ue=0;ue<H.D.length;++ue)if(H.D[ue]==Q)return H.Cb(ue)},H.ra=function(Q){return H.D[Q]},H.Ta=["touchend","click"],H.unlock=function(){for(var Q=0;Q<H.D.length;++Q){var ue=H.D[Q];ue!=null&&ue.J!=null&&ue.state===H.ga.yb&&ue.J.resume().then(()=>{Wa(ue.qb)},ve=>{console.error("Failed to resume audiocontext",ve)})}H.Ta.map(function(ve){document.removeEventListener(ve,H.unlock,!0)})},H.Ta.map(function(Q){document.addEventListener(Q,H.unlock,!0)})}return window.h.Aa+=1,1},464346:()=>{typeof window.h<"u"&&(window.h.Ta.map(function(d){document.removeEventListener(d,window.h.unlock,!0)}),--window.h.Aa,window.h.Aa===0&&delete window.h)},464650:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,464754:()=>{try{var d=new(window.AudioContext||window.webkitAudioContext),m=d.sampleRate;return d.close(),m}catch{return 0}},464925:(d,m,w,C,L,H)=>{if(typeof window.h>"u")return-1;var Q={},ue={};return d==window.h.I.ya&&w!=0&&(ue.sampleRate=w),Q.J=new(window.AudioContext||window.webkitAudioContext)(ue),Q.J.suspend(),Q.state=window.h.ga.stopped,w=0,d!=window.h.I.ya&&(w=m),Q.Z=Q.J.createScriptProcessor(C,w,m),Q.Z.onaudioprocess=function(ve){if((Q.sa==null||Q.sa.length==0)&&(Q.sa=new Float32Array(Ue.buffer,L,C*m)),d==window.h.I.capture||d==window.h.I.La){for(var ae=0;ae<m;ae+=1)for(var De=ve.inputBuffer.getChannelData(ae),Le=Q.sa,Ge=0;Ge<C;Ge+=1)Le[Ge*m+ae]=De[Ge];Ka(H,C,L)}if(d==window.h.I.ya||d==window.h.I.La)for(uh(H,C,L),ae=0;ae<ve.outputBuffer.numberOfChannels;++ae)for(De=ve.outputBuffer.getChannelData(ae),Le=Q.sa,Ge=0;Ge<C;Ge+=1)De[Ge]=Le[Ge*m+ae];else for(ae=0;ae<ve.outputBuffer.numberOfChannels;++ae)ve.outputBuffer.getChannelData(ae).fill(0)},d!=window.h.I.capture&&d!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ve){Q.Da=Q.J.createMediaStreamSource(ve),Q.Da.connect(Q.Z),Q.Z.connect(Q.J.destination)}).catch(function(ve){console.log("Failed to get user media: "+ve)}),d==window.h.I.ya&&Q.Z.connect(Q.J.destination),Q.qb=H,window.h.yc(Q)},467802:d=>window.h.ra(d).J.sampleRate,467875:d=>{d=window.h.ra(d),d.Z!==void 0&&(d.Z.onaudioprocess=function(){},d.Z.disconnect(),d.Z=void 0),d.Da!==void 0&&(d.Da.disconnect(),d.Da=void 0),d.J.close(),d.J=void 0,d.qb=void 0},468275:d=>{window.h.Cb(d)},468325:d=>{d=window.h.ra(d),d.J.resume(),d.state=window.h.ga.yb},468464:d=>{d=window.h.ra(d),d.J.suspend(),d.state=window.h.ga.stopped}},b=d=>{for(;0<d.length;)d.shift()(R)},B=(d,m)=>{for(var w=0,C=d.length-1;0<=C;C--){var L=d[C];L==="."?d.splice(C,1):L===".."?(d.splice(C,1),w++):w&&(d.splice(C,1),w--)}if(m)for(;w;w--)d.unshift("..");return d},J=d=>{var m=d.charAt(0)==="/",w=d.substr(-1)==="/";return(d=B(d.split("/").filter(C=>!!C),!m).join("/"))||m||(d="."),d&&w&&(d+="/"),(m?"/":"")+d},ye=d=>{var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1);return d=m[0],m=m[1],!d&&!m?".":(m&&(m=m.substr(0,m.length-1)),d+m)},Oe=d=>{if(d==="/")return"/";d=J(d),d=d.replace(/\/$/,"");var m=d.lastIndexOf("/");return m===-1?d:d.substr(m+1)},nt=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return d=>crypto.getRandomValues(d);Ft("initRandomDevice")},at=d=>(at=nt())(d);function qe(){for(var d="",m=!1,w=arguments.length-1;-1<=w&&!m;w--){if(m=0<=w?arguments[w]:"/",typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";d=m+"/"+d,m=m.charAt(0)==="/"}return d=B(d.split("/").filter(C=>!!C),!m).join("/"),(m?"/":"")+d||"."}var Ze=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ft=(d,m,w)=>{var C=m+w;for(w=m;d[w]&&!(w>=C);)++w;if(16<w-m&&d.buffer&&Ze)return Ze.decode(d.subarray(m,w));for(C="";m<w;){var L=d[m++];if(L&128){var H=d[m++]&63;if((L&224)==192)C+=String.fromCharCode((L&31)<<6|H);else{var Q=d[m++]&63;L=(L&240)==224?(L&15)<<12|H<<6|Q:(L&7)<<18|H<<12|Q<<6|d[m++]&63,65536>L?C+=String.fromCharCode(L):(L-=65536,C+=String.fromCharCode(55296|L>>10,56320|L&1023))}}else C+=String.fromCharCode(L)}return C},Tt=[],rn=d=>{for(var m=0,w=0;w<d.length;++w){var C=d.charCodeAt(w);127>=C?m++:2047>=C?m+=2:55296<=C&&57343>=C?(m+=4,++w):m+=3}return m},ni=(d,m,w,C)=>{if(!(0<C))return 0;var L=w;C=w+C-1;for(var H=0;H<d.length;++H){var Q=d.charCodeAt(H);if(55296<=Q&&57343>=Q){var ue=d.charCodeAt(++H);Q=65536+((Q&1023)<<10)|ue&1023}if(127>=Q){if(w>=C)break;m[w++]=Q}else{if(2047>=Q){if(w+1>=C)break;m[w++]=192|Q>>6}else{if(65535>=Q){if(w+2>=C)break;m[w++]=224|Q>>12}else{if(w+3>=C)break;m[w++]=240|Q>>18,m[w++]=128|Q>>12&63}m[w++]=128|Q>>6&63}m[w++]=128|Q&63}}return m[w]=0,w-L};function fi(d,m){var w=Array(rn(d)+1);return d=ni(d,w,0,w.length),m&&(w.length=d),w}var _n=[];function On(d,m){_n[d]={input:[],F:[],V:m},Ji(d,Ht)}var Ht={open:function(d){var m=_n[d.node.za];if(!m)throw new He(43);d.s=m,d.seekable=!1},close:function(d){d.s.V.qa(d.s)},qa:function(d){d.s.V.qa(d.s)},read:function(d,m,w,C){if(!d.s||!d.s.V.jb)throw new He(60);for(var L=0,H=0;H<C;H++){try{var Q=d.s.V.jb(d.s)}catch{throw new He(29)}if(Q===void 0&&L===0)throw new He(6);if(Q==null)break;L++,m[w+H]=Q}return L&&(d.node.timestamp=Date.now()),L},write:function(d,m,w,C){if(!d.s||!d.s.V.Oa)throw new He(60);try{for(var L=0;L<C;L++)d.s.V.Oa(d.s,m[w+L])}catch{throw new He(29)}return C&&(d.node.timestamp=Date.now()),L}},Jn={jb:function(){e:{if(!Tt.length){var d=null;if(typeof window<"u"&&typeof window.prompt=="function"?(d=window.prompt("Input: "),d!==null&&(d+=`
`)):typeof readline=="function"&&(d=readline(),d!==null&&(d+=`
`)),!d){d=null;break e}Tt=fi(d,!0)}d=Tt.shift()}return d},Oa:function(d,m){m===null||m===10?(D(ft(d.F,0)),d.F=[]):m!=0&&d.F.push(m)},qa:function(d){d.F&&0<d.F.length&&(D(ft(d.F,0)),d.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Zn={Oa:function(d,m){m===null||m===10?(G(ft(d.F,0)),d.F=[]):m!=0&&d.F.push(m)},qa:function(d){d.F&&0<d.F.length&&(G(ft(d.F,0)),d.F=[])}};function xn(d,m){var w=d.j?d.j.length:0;w>=m||(m=Math.max(m,w*(1048576>w?2:1.125)>>>0),w!=0&&(m=Math.max(m,256)),w=d.j,d.j=new Uint8Array(m),0<d.v&&d.j.set(w.subarray(0,d.v),0))}var it={O:null,U(){return it.createNode(null,"/",16895,0)},createNode(d,m,w,C){if((w&61440)===24576||(w&61440)===4096)throw new He(63);return it.O||(it.O={dir:{node:{Y:it.l.Y,P:it.l.P,ka:it.l.ka,va:it.l.va,vb:it.l.vb,Bb:it.l.Bb,wb:it.l.wb,tb:it.l.tb,Ea:it.l.Ea},stream:{ba:it.m.ba}},file:{node:{Y:it.l.Y,P:it.l.P},stream:{ba:it.m.ba,read:it.m.read,write:it.m.write,pa:it.m.pa,mb:it.m.mb,ob:it.m.ob}},link:{node:{Y:it.l.Y,P:it.l.P,ma:it.l.ma},stream:{}},ab:{node:{Y:it.l.Y,P:it.l.P},stream:Ba}}),w=Ln(d,m,w,C),(w.mode&61440)===16384?(w.l=it.O.dir.node,w.m=it.O.dir.stream,w.j={}):(w.mode&61440)===32768?(w.l=it.O.file.node,w.m=it.O.file.stream,w.v=0,w.j=null):(w.mode&61440)===40960?(w.l=it.O.link.node,w.m=it.O.link.stream):(w.mode&61440)===8192&&(w.l=it.O.ab.node,w.m=it.O.ab.stream),w.timestamp=Date.now(),d&&(d.j[m]=w,d.timestamp=w.timestamp),w},Kc(d){return d.j?d.j.subarray?d.j.subarray(0,d.v):new Uint8Array(d.j):new Uint8Array(0)},l:{Y(d){var m={};return m.Jc=(d.mode&61440)===8192?d.id:1,m.Mc=d.id,m.mode=d.mode,m.Oc=1,m.uid=0,m.Lc=0,m.za=d.za,(d.mode&61440)===16384?m.size=4096:(d.mode&61440)===32768?m.size=d.v:(d.mode&61440)===40960?m.size=d.link.length:m.size=0,m.Bc=new Date(d.timestamp),m.Nc=new Date(d.timestamp),m.Ic=new Date(d.timestamp),m.Jb=4096,m.Cc=Math.ceil(m.size/m.Jb),m},P(d,m){if(m.mode!==void 0&&(d.mode=m.mode),m.timestamp!==void 0&&(d.timestamp=m.timestamp),m.size!==void 0&&(m=m.size,d.v!=m))if(m==0)d.j=null,d.v=0;else{var w=d.j;d.j=new Uint8Array(m),w&&d.j.set(w.subarray(0,Math.min(m,d.v))),d.v=m}},ka(){throw wr[44]},va(d,m,w,C){return it.createNode(d,m,w,C)},vb(d,m,w){if((d.mode&61440)===16384){try{var C=wn(m,w)}catch{}if(C)for(var L in C.j)throw new He(55)}delete d.parent.j[d.name],d.parent.timestamp=Date.now(),d.name=w,m.j[w]=d,m.timestamp=d.parent.timestamp,d.parent=m},Bb(d,m){delete d.j[m],d.timestamp=Date.now()},wb(d,m){var w=wn(d,m),C;for(C in w.j)throw new He(55);delete d.j[m],d.timestamp=Date.now()},tb(d){var m=[".",".."],w;for(w in d.j)d.j.hasOwnProperty(w)&&m.push(w);return m},Ea(d,m,w){return d=it.createNode(d,m,41471,0),d.link=w,d},ma(d){if((d.mode&61440)!==40960)throw new He(28);return d.link}},m:{read(d,m,w,C,L){var H=d.node.j;if(L>=d.node.v)return 0;if(d=Math.min(d.node.v-L,C),8<d&&H.subarray)m.set(H.subarray(L,L+d),w);else for(C=0;C<d;C++)m[w+C]=H[L+C];return d},write(d,m,w,C,L,H){if(m.buffer===pe.buffer&&(H=!1),!C)return 0;if(d=d.node,d.timestamp=Date.now(),m.subarray&&(!d.j||d.j.subarray)){if(H)return d.j=m.subarray(w,w+C),d.v=C;if(d.v===0&&L===0)return d.j=m.slice(w,w+C),d.v=C;if(L+C<=d.v)return d.j.set(m.subarray(w,w+C),L),C}if(xn(d,L+C),d.j.subarray&&m.subarray)d.j.set(m.subarray(w,w+C),L);else for(H=0;H<C;H++)d.j[L+H]=m[w+H];return d.v=Math.max(d.v,L+C),C},ba(d,m,w){if(w===1?m+=d.position:w===2&&(d.node.mode&61440)===32768&&(m+=d.node.v),0>m)throw new He(28);return m},pa(d,m,w){xn(d.node,m+w),d.node.v=Math.max(d.node.v,m+w)},mb(d,m,w,C,L){if((d.node.mode&61440)!==32768)throw new He(43);if(d=d.node.j,L&2||d.buffer!==pe.buffer){if((0<w||w+m<d.length)&&(d.subarray?d=d.subarray(w,w+m):d=Array.prototype.slice.call(d,w,w+m)),w=!0,Ft(),m=void 0,!m)throw new He(48);pe.set(d,m)}else w=!1,m=d.byteOffset;return{o:m,M:w}},ob(d,m,w,C){return it.m.write(d,m,0,C,w,!1),0}}};function Ct(d,m){var w=0;return d&&(w|=365),m&&(w|=146),w}var Vn=null,Ss={},ja=[],ea=1,ss=null,Ua=!0,He=null,wr={},zr=(d,m={})=>{if(d=qe(d),!d)return{path:"",node:null};if(m=Object.assign({hb:!0,Qa:0},m),8<m.Qa)throw new He(32);d=d.split("/").filter(Q=>!!Q);for(var w=Vn,C="/",L=0;L<d.length;L++){var H=L===d.length-1;if(H&&m.parent)break;if(w=wn(w,d[L]),C=J(C+"/"+d[L]),w.wa&&(!H||H&&m.hb)&&(w=w.wa.root),!H||m.gb){for(H=0;(w.mode&61440)===40960;)if(w=Fo(C),C=qe(ye(C),w),w=zr(C,{Qa:m.Qa+1}).node,40<H++)throw new He(32)}}return{path:C,node:w}},Qi=d=>{for(var m;;){if(d===d.parent)return d=d.U.nb,m?d[d.length-1]!=="/"?`${d}/${m}`:d+m:d;m=m?`${d.name}/${m}`:d.name,d=d.parent}},Xi=(d,m)=>{for(var w=0,C=0;C<m.length;C++)w=(w<<5)-w+m.charCodeAt(C)|0;return(d+w>>>0)%ss.length},wn=(d,m)=>{var w;if(w=(w=as(d,"x"))?w:d.l.ka?0:2)throw new He(w,d);for(w=ss[Xi(d.id,m)];w;w=w.lc){var C=w.name;if(w.parent.id===d.id&&C===m)return w}return d.l.ka(d,m)},Ln=(d,m,w,C)=>(d=new aa(d,m,w,C),m=Xi(d.parent.id,d.name),d.lc=ss[m],ss[m]=d),Er=d=>{var m=["r","w","rw"][d&3];return d&512&&(m+="w"),m},as=(d,m)=>{if(Ua)return 0;if(!m.includes("r")||d.mode&292){if(m.includes("w")&&!(d.mode&146)||m.includes("x")&&!(d.mode&73))return 2}else return 2;return 0},Al=(d,m)=>{try{return wn(d,m),20}catch{}return as(d,"wx")},Sl=()=>{for(var d=0;4096>=d;d++)if(!ja[d])return d;throw new He(33)},br=d=>{if(d=ja[d],!d)throw new He(8);return d},Tr=(d,m=-1)=>(Hr||(Hr=function(){this.h={}},Hr.prototype={},Object.defineProperties(Hr.prototype,{object:{get(){return this.node},set(w){this.node=w}},flags:{get(){return this.h.flags},set(w){this.h.flags=w}},position:{get(){return this.h.position},set(w){this.h.position=w}}})),d=Object.assign(new Hr,d),m==-1&&(m=Sl()),d.X=m,ja[m]=d),Ba={open:d=>{d.m=Ss[d.node.za].m,d.m.open&&d.m.open(d)},ba:()=>{throw new He(70)}},Ji=(d,m)=>{Ss[d]={m}},ji=(d,m)=>{var w=m==="/",C=!m;if(w&&Vn)throw new He(10);if(!w&&!C){var L=zr(m,{hb:!1});if(m=L.path,L=L.node,L.wa)throw new He(10);if((L.mode&61440)!==16384)throw new He(54)}m={type:d,Qc:{},nb:m,kc:[]},d=d.U(m),d.U=m,m.root=d,w?Vn=d:L&&(L.wa=m,L.U&&L.U.kc.push(m))},En=(d,m,w)=>{var C=zr(d,{parent:!0}).node;if(d=Oe(d),!d||d==="."||d==="..")throw new He(28);var L=Al(C,d);if(L)throw new He(L);if(!C.l.va)throw new He(63);return C.l.va(C,d,m,w)},Ui=(d,m,w)=>{typeof w>"u"&&(w=m,m=438),En(d,m|8192,w)},Cn=(d,m)=>{if(!qe(d))throw new He(44);var w=zr(m,{parent:!0}).node;if(!w)throw new He(44);m=Oe(m);var C=Al(w,m);if(C)throw new He(C);if(!w.l.Ea)throw new He(63);w.l.Ea(w,m,d)},Fo=d=>{if(d=zr(d).node,!d)throw new He(44);if(!d.l.ma)throw new He(28);return qe(Qi(d.parent),d.l.ma(d))},Cs=(d,m,w)=>{if(d==="")throw new He(44);if(typeof m=="string"){var C={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[m];if(typeof C>"u")throw Error(`Unknown file open mode: ${m}`);m=C}if(w=m&64?(typeof w>"u"?438:w)&4095|32768:0,typeof d=="object")var L=d;else{d=J(d);try{L=zr(d,{gb:!(m&131072)}).node}catch{}}if(C=!1,m&64)if(L){if(m&128)throw new He(20)}else L=En(d,w,0),C=!0;if(!L)throw new He(44);if((L.mode&61440)===8192&&(m&=-513),m&65536&&(L.mode&61440)!==16384)throw new He(54);if(!C&&(w=L?(L.mode&61440)===40960?32:(L.mode&61440)===16384&&(Er(m)!=="r"||m&512)?31:as(L,Er(m)):44))throw new He(w);if(m&512&&!C){if(w=L,w=typeof w=="string"?zr(w,{gb:!0}).node:w,!w.l.P)throw new He(63);if((w.mode&61440)===16384)throw new He(31);if((w.mode&61440)!==32768)throw new He(28);if(C=as(w,"w"))throw new He(C);w.l.P(w,{size:0,timestamp:Date.now()})}return m&=-131713,L=Tr({node:L,path:Qi(L),flags:m,seekable:!0,position:0,m:L.m,zc:[],error:!1}),L.m.open&&L.m.open(L),!R.logReadFiles||m&1||(ii||(ii={}),d in ii||(ii[d]=1)),L},Ar=(d,m,w)=>{if(d.X===null)throw new He(8);if(!d.seekable||!d.m.ba)throw new He(70);if(w!=0&&w!=1&&w!=2)throw new He(28);d.position=d.m.ba(d,m,w),d.zc=[]},Sr=()=>{He||(He=function(d,m){this.name="ErrnoError",this.node=m,this.pc=function(w){this.aa=w},this.pc(d),this.message="FS error"},He.prototype=Error(),He.prototype.constructor=He,[44].forEach(d=>{wr[d]=new He(d),wr[d].stack="<generic error, no stack>"}))},za,os=(d,m,w)=>{d=J("/dev/"+d);var C=Ct(!!m,!!w);ta||(ta=64);var L=ta++<<8|0;Ji(L,{open:H=>{H.seekable=!1},close:()=>{w&&w.buffer&&w.buffer.length&&w(10)},read:(H,Q,ue,ve)=>{for(var ae=0,De=0;De<ve;De++){try{var Le=m()}catch{throw new He(29)}if(Le===void 0&&ae===0)throw new He(6);if(Le==null)break;ae++,Q[ue+De]=Le}return ae&&(H.node.timestamp=Date.now()),ae},write:(H,Q,ue,ve)=>{for(var ae=0;ae<ve;ae++)try{w(Q[ue+ae])}catch{throw new He(29)}return ve&&(H.node.timestamp=Date.now()),ae}}),Ui(d,C,L)},ta,Fr={},Hr,ii,mn=void 0;function on(){return mn+=4,_e[mn-4>>2]}function ls(d){if(d===void 0)return"_unknown";d=d.replace(/[^a-zA-Z0-9_]/g,"$");var m=d.charCodeAt(0);return 48<=m&&57>=m?`_${d}`:d}function Rs(d,m){return d=ls(d),{[d]:function(){return m.apply(this,arguments)}}[d]}function $t(){this.M=[void 0],this.ib=[]}var Hn=new $t,di=void 0;function ot(d){throw new di(d)}var gn=d=>(d||ot("Cannot use deleted val. handle = "+d),Hn.get(d).value),ri=d=>{switch(d){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Hn.pa({ub:1,value:d})}};function Ho(d){var m=Error,w=Rs(d,function(C){this.name=d,this.message=C,C=Error(C).stack,C!==void 0&&(this.stack=this.toString()+`
`+C.replace(/^Error(:[^\n]*)?\n/,""))});return w.prototype=Object.create(m.prototype),w.prototype.constructor=w,w.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},w}var Fa=void 0,us=void 0;function hn(d){for(var m="";Ne[d];)m+=us[Ne[d++]];return m}var Zi=[];function si(){for(;Zi.length;){var d=Zi.pop();d.g.fa=!1,d.delete()}}var Is=void 0,Bi={};function na(d,m){for(m===void 0&&ot("ptr should not be undefined");d.A;)m=d.na(m),d=d.A;return m}var er={};function qo(d){d=Yo(d);var m=hn(d);return gs(d),m}function tr(d,m){var w=er[d];return w===void 0&&ot(m+" has unknown type "+qo(d)),w}function cs(){}var zi=!1;function Ha(d){--d.count.value,d.count.value===0&&(d.G?d.L.W(d.G):d.u.i.W(d.o))}function Fi(d,m,w){return m===w?d:w.A===void 0?null:(d=Fi(d,m,w.A),d===null?null:w.Pb(d))}var hs={};function qr(d,m){return m=na(d,m),Bi[m]}var Ns=void 0;function fs(d){throw new Ns(d)}function Cr(d,m){return m.u&&m.o||fs("makeClassHandle requires ptr and ptrType"),!!m.L!=!!m.G&&fs("Both smartPtrType and smartPtr must be specified"),m.count={value:1},ai(Object.create(d,{g:{value:m}}))}function ai(d){return typeof FinalizationRegistry>"u"?(ai=m=>m,d):(zi=new FinalizationRegistry(m=>{Ha(m.g)}),ai=m=>{var w=m.g;return w.G&&zi.register(m,{g:w},m),m},cs=m=>{zi.unregister(m)},ai(d))}var pi={};function Rr(d){for(;d.length;){var m=d.pop();d.pop()(m)}}function Ut(d){return this.fromWireType(_e[d>>2])}var mi={},Ms={};function kn(d,m,w){function C(ue){ue=w(ue),ue.length!==d.length&&fs("Mismatched type converter count");for(var ve=0;ve<d.length;++ve)qn(d[ve],ue[ve])}d.forEach(function(ue){Ms[ue]=m});var L=Array(m.length),H=[],Q=0;m.forEach((ue,ve)=>{er.hasOwnProperty(ue)?L[ve]=er[ue]:(H.push(ue),mi.hasOwnProperty(ue)||(mi[ue]=[]),mi[ue].push(()=>{L[ve]=er[ue],++Q,Q===H.length&&C(L)}))}),H.length===0&&C(L)}function Os(d){switch(d){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${d}`)}}function ia(d,m,w={}){var C=m.name;if(d||ot(`type "${C}" must have a positive integer typeid pointer`),er.hasOwnProperty(d)){if(w.$b)return;ot(`Cannot register type '${C}' twice`)}er[d]=m,delete Ms[d],mi.hasOwnProperty(d)&&(m=mi[d],delete mi[d],m.forEach(L=>L()))}function qn(d,m,w={}){if(!("argPackAdvance"in m))throw new TypeError("registerType registeredInstance requires argPackAdvance");ia(d,m,w)}function Hi(d){ot(d.g.u.i.name+" instance already deleted")}function yn(){}function Ir(d,m,w){if(d[m].B===void 0){var C=d[m];d[m]=function(){return d[m].B.hasOwnProperty(arguments.length)||ot(`Function '${w}' called with an invalid number of arguments (${arguments.length}) - expects one of (${d[m].B})!`),d[m].B[arguments.length].apply(this,arguments)},d[m].B=[],d[m].B[C.ea]=C}}function nr(d,m,w){R.hasOwnProperty(d)?((w===void 0||R[d].B!==void 0&&R[d].B[w]!==void 0)&&ot(`Cannot register public name '${d}' twice`),Ir(R,d,d),R.hasOwnProperty(w)&&ot(`Cannot register multiple overloads of a function with the same number of arguments (${w})!`),R[d].B[w]=m):(R[d]=m,w!==void 0&&(R[d].Pc=w))}function xs(d,m,w,C,L,H,Q,ue){this.name=d,this.constructor=m,this.N=w,this.W=C,this.A=L,this.Ub=H,this.na=Q,this.Pb=ue,this.rb=[]}function Ds(d,m,w){for(;m!==w;)m.na||ot(`Expected null or instance of ${w.name}, got an instance of ${m.name}`),d=m.na(d),m=m.A;return d}function Ps(d,m){return m===null?(this.Na&&ot(`null is not a valid ${this.name}`),0):(m.g||ot(`Cannot pass "${Ya(m)}" as a ${this.name}`),m.g.o||ot(`Cannot pass deleted object as a pointer of type ${this.name}`),Ds(m.g.o,m.g.u.i,this.i))}function qa(d,m){if(m===null){if(this.Na&&ot(`null is not a valid ${this.name}`),this.ua){var w=this.Pa();return d!==null&&d.push(this.W,w),w}return 0}if(m.g||ot(`Cannot pass "${Ya(m)}" as a ${this.name}`),m.g.o||ot(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&m.g.u.ta&&ot(`Cannot convert argument of type ${m.g.L?m.g.L.name:m.g.u.name} to parameter type ${this.name}`),w=Ds(m.g.o,m.g.u.i,this.i),this.ua)switch(m.g.G===void 0&&ot("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:m.g.L===this?w=m.g.G:ot(`Cannot convert argument of type ${m.g.L?m.g.L.name:m.g.u.name} to parameter type ${this.name}`);break;case 1:w=m.g.G;break;case 2:if(m.g.L===this)w=m.g.G;else{var C=m.clone();w=this.oc(w,ri(function(){C.delete()})),d!==null&&d.push(this.W,w)}break;default:ot("Unsupporting sharing policy")}return w}function Gr(d,m){return m===null?(this.Na&&ot(`null is not a valid ${this.name}`),0):(m.g||ot(`Cannot pass "${Ya(m)}" as a ${this.name}`),m.g.o||ot(`Cannot pass deleted object as a pointer of type ${this.name}`),m.g.u.ta&&ot(`Cannot convert argument of type ${m.g.u.name} to parameter type ${this.name}`),Ds(m.g.o,m.g.u.i,this.i))}function Ri(d,m,w,C){this.name=d,this.i=m,this.Na=w,this.ta=C,this.ua=!1,this.W=this.oc=this.Pa=this.sb=this.tc=this.nc=void 0,m.A!==void 0?this.toWireType=qa:(this.toWireType=C?Ps:Gr,this.K=null)}function Ga(d,m,w){R.hasOwnProperty(d)||fs("Replacing nonexistant public symbol"),R[d].B!==void 0&&w!==void 0?R[d].B[w]=m:(R[d]=m,R[d].ea=w)}var $r=[],Go=d=>{var m=$r[d];return m||(d>=$r.length&&($r.length=d+1),$r[d]=m=st.get(d)),m},Cl=(d,m)=>{var w=[];return function(){if(w.length=0,Object.assign(w,arguments),d.includes("j")){var C=R["dynCall_"+d];C=w&&w.length?C.apply(null,[m].concat(w)):C.call(null,m)}else C=Go(m).apply(null,w);return C}};function Rn(d,m){d=hn(d);var w=d.includes("j")?Cl(d,m):Go(m);return typeof w!="function"&&ot(`unknown function pointer with signature ${d}: ${m}`),w}var $a=void 0;function ir(d,m){function w(H){L[H]||er[H]||(Ms[H]?Ms[H].forEach(w):(C.push(H),L[H]=!0))}var C=[],L={};throw m.forEach(w),new $a(`${d}: `+C.map(qo).join([", "]))}function ds(d,m,w,C,L){var H=m.length;2>H&&ot("argTypes array size mismatch! Must at least get return value and 'this' types!");var Q=m[1]!==null&&w!==null,ue=!1;for(w=1;w<m.length;++w)if(m[w]!==null&&m[w].K===void 0){ue=!0;break}var ve=m[0].name!=="void",ae=H-2,De=Array(ae),Le=[],Ge=[];return function(){if(arguments.length!==ae&&ot(`function ${d} called with ${arguments.length} arguments, expected ${ae} args!`),Ge.length=0,Le.length=Q?2:1,Le[0]=L,Q){var ne=m[1].toWireType(Ge,this);Le[1]=ne}for(var Ve=0;Ve<ae;++Ve)De[Ve]=m[Ve+2].toWireType(Ge,arguments[Ve]),Le.push(De[Ve]);if(Ve=C.apply(null,Le),ue)Rr(Ge);else for(var Qe=Q?1:2;Qe<m.length;Qe++){var Be=Qe===1?ne:De[Qe-2];m[Qe].K!==null&&m[Qe].K(Be)}return ne=ve?m[0].fromWireType(Ve):void 0,ne}}function ra(d,m){for(var w=[],C=0;C<d;C++)w.push(Se[m+4*C>>2]);return w}function $o(d,m,w){return d instanceof Object||ot(`${w} with invalid "this": ${d}`),d instanceof m.i.constructor||ot(`${w} incompatible with "this" of type ${d.constructor.name}`),d.g.o||ot(`cannot call emscripten binding method ${w} on deleted object`),Ds(d.g.o,d.g.u.i,m.i)}function rr(d){d>=Hn.h&&--Hn.get(d).ub===0&&Hn.Zb(d)}function Rl(d,m,w){switch(m){case 0:return function(C){return this.fromWireType((w?pe:Ne)[C])};case 1:return function(C){return this.fromWireType((w?F:ce)[C>>1])};case 2:return function(C){return this.fromWireType((w?_e:Se)[C>>2])};default:throw new TypeError("Unknown integer type: "+d)}}function Ya(d){if(d===null)return"null";var m=typeof d;return m==="object"||m==="array"||m==="function"?d.toString():""+d}function Il(d,m){switch(m){case 2:return function(w){return this.fromWireType(Ue[w>>2])};case 3:return function(w){return this.fromWireType(Pe[w>>3])};default:throw new TypeError("Unknown float type: "+d)}}function Nl(d,m,w){switch(m){case 0:return w?function(C){return pe[C]}:function(C){return Ne[C]};case 1:return w?function(C){return F[C>>1]}:function(C){return ce[C>>1]};case 2:return w?function(C){return _e[C>>2]}:function(C){return Se[C>>2]};default:throw new TypeError("Unknown integer type: "+d)}}var ps=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,gi=(d,m)=>{for(var w=d>>1,C=w+m/2;!(w>=C)&&ce[w];)++w;if(w<<=1,32<w-d&&ps)return ps.decode(Ne.subarray(d,w));for(w="",C=0;!(C>=m/2);++C){var L=F[d+2*C>>1];if(L==0)break;w+=String.fromCharCode(L)}return w},Ml=(d,m,w)=>{if(w===void 0&&(w=2147483647),2>w)return 0;w-=2;var C=m;w=w<2*d.length?w/2:d.length;for(var L=0;L<w;++L)F[m>>1]=d.charCodeAt(L),m+=2;return F[m>>1]=0,m-C},Ol=d=>2*d.length,ms=(d,m)=>{for(var w=0,C="";!(w>=m/4);){var L=_e[d+4*w>>2];if(L==0)break;++w,65536<=L?(L-=65536,C+=String.fromCharCode(55296|L>>10,56320|L&1023)):C+=String.fromCharCode(L)}return C},c=(d,m,w)=>{if(w===void 0&&(w=2147483647),4>w)return 0;var C=m;w=C+w-4;for(var L=0;L<d.length;++L){var H=d.charCodeAt(L);if(55296<=H&&57343>=H){var Q=d.charCodeAt(++L);H=65536+((H&1023)<<10)|Q&1023}if(_e[m>>2]=H,m+=4,m+4>w)break}return _e[m>>2]=0,m-C},E=d=>{for(var m=0,w=0;w<d.length;++w){var C=d.charCodeAt(w);55296<=C&&57343>=C&&++w,m+=4}return m},S={};function j(d){var m=S[d];return m===void 0?hn(d):m}var oe=[];function me(d){var m=oe.length;return oe.push(d),m}function ke(d,m){for(var w=Array(d),C=0;C<d;++C)w[C]=tr(Se[m+4*C>>2],"parameter "+C);return w}var ct=[],bn=[],kt={},fn=()=>{if(!Ii){var d={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:V||"./this.program"},m;for(m in kt)kt[m]===void 0?delete d[m]:d[m]=kt[m];var w=[];for(m in d)w.push(`${m}=${d[m]}`);Ii=w}return Ii},Ii,qi=d=>d%4===0&&(d%100!==0||d%400===0),sr=[31,29,31,30,31,30,31,31,30,31,30,31],ar=[31,28,31,30,31,30,31,31,30,31,30,31],sa=(d,m,w,C)=>{function L(ne,Ve,Qe){for(ne=typeof ne=="number"?ne.toString():ne||"";ne.length<Ve;)ne=Qe[0]+ne;return ne}function H(ne,Ve){return L(ne,Ve,"0")}function Q(ne,Ve){function Qe(qt){return 0>qt?-1:0<qt?1:0}var Be;return(Be=Qe(ne.getFullYear()-Ve.getFullYear()))===0&&(Be=Qe(ne.getMonth()-Ve.getMonth()))===0&&(Be=Qe(ne.getDate()-Ve.getDate())),Be}function ue(ne){switch(ne.getDay()){case 0:return new Date(ne.getFullYear()-1,11,29);case 1:return ne;case 2:return new Date(ne.getFullYear(),0,3);case 3:return new Date(ne.getFullYear(),0,2);case 4:return new Date(ne.getFullYear(),0,1);case 5:return new Date(ne.getFullYear()-1,11,31);case 6:return new Date(ne.getFullYear()-1,11,30)}}function ve(ne){var Ve=ne.ca;for(ne=new Date(new Date(ne.da+1900,0,1).getTime());0<Ve;){var Qe=ne.getMonth(),Be=(qi(ne.getFullYear())?sr:ar)[Qe];if(Ve>Be-ne.getDate())Ve-=Be-ne.getDate()+1,ne.setDate(1),11>Qe?ne.setMonth(Qe+1):(ne.setMonth(0),ne.setFullYear(ne.getFullYear()+1));else{ne.setDate(ne.getDate()+Ve);break}}return Qe=new Date(ne.getFullYear()+1,0,4),Ve=ue(new Date(ne.getFullYear(),0,4)),Qe=ue(Qe),0>=Q(Ve,ne)?0>=Q(Qe,ne)?ne.getFullYear()+1:ne.getFullYear():ne.getFullYear()-1}var ae=_e[C+40>>2];C={wc:_e[C>>2],vc:_e[C+4>>2],Fa:_e[C+8>>2],Sa:_e[C+12>>2],Ga:_e[C+16>>2],da:_e[C+20>>2],R:_e[C+24>>2],ca:_e[C+28>>2],Rc:_e[C+32>>2],uc:_e[C+36>>2],xc:ae&&ae?ft(Ne,ae):""},w=w?ft(Ne,w):"",ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var De in ae)w=w.replace(new RegExp(De,"g"),ae[De]);var Le="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ge="January February March April May June July August September October November December".split(" ");ae={"%a":ne=>Le[ne.R].substring(0,3),"%A":ne=>Le[ne.R],"%b":ne=>Ge[ne.Ga].substring(0,3),"%B":ne=>Ge[ne.Ga],"%C":ne=>H((ne.da+1900)/100|0,2),"%d":ne=>H(ne.Sa,2),"%e":ne=>L(ne.Sa,2," "),"%g":ne=>ve(ne).toString().substring(2),"%G":ne=>ve(ne),"%H":ne=>H(ne.Fa,2),"%I":ne=>(ne=ne.Fa,ne==0?ne=12:12<ne&&(ne-=12),H(ne,2)),"%j":ne=>{for(var Ve=0,Qe=0;Qe<=ne.Ga-1;Ve+=(qi(ne.da+1900)?sr:ar)[Qe++]);return H(ne.Sa+Ve,3)},"%m":ne=>H(ne.Ga+1,2),"%M":ne=>H(ne.vc,2),"%n":()=>`
`,"%p":ne=>0<=ne.Fa&&12>ne.Fa?"AM":"PM","%S":ne=>H(ne.wc,2),"%t":()=>"	","%u":ne=>ne.R||7,"%U":ne=>H(Math.floor((ne.ca+7-ne.R)/7),2),"%V":ne=>{var Ve=Math.floor((ne.ca+7-(ne.R+6)%7)/7);if(2>=(ne.R+371-ne.ca-2)%7&&Ve++,Ve)Ve==53&&(Qe=(ne.R+371-ne.ca)%7,Qe==4||Qe==3&&qi(ne.da)||(Ve=1));else{Ve=52;var Qe=(ne.R+7-ne.ca-1)%7;(Qe==4||Qe==5&&qi(ne.da%400-1))&&Ve++}return H(Ve,2)},"%w":ne=>ne.R,"%W":ne=>H(Math.floor((ne.ca+7-(ne.R+6)%7)/7),2),"%y":ne=>(ne.da+1900).toString().substring(2),"%Y":ne=>ne.da+1900,"%z":ne=>{ne=ne.uc;var Ve=0<=ne;return ne=Math.abs(ne)/60,(Ve?"+":"-")+("0000"+(ne/60*100+ne%60)).slice(-4)},"%Z":ne=>ne.xc,"%%":()=>"%"},w=w.replace(/%%/g,"\0\0");for(De in ae)w.includes(De)&&(w=w.replace(new RegExp(De,"g"),ae[De](C)));return w=w.replace(/\0\0/g,"%"),De=fi(w,!1),De.length>m?0:(pe.set(De,d),De.length-1)};function aa(d,m,w,C){d||(d=this),this.parent=d,this.U=d.U,this.wa=null,this.id=ea++,this.name=m,this.mode=w,this.l={},this.m={},this.za=C}Object.defineProperties(aa.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(d){d?this.mode|=146:this.mode&=-147}}}),Sr(),ss=Array(4096),ji(it,"/"),En("/tmp",16895,0),En("/home",16895,0),En("/home/web_user",16895,0),(()=>{En("/dev",16895,0),Ji(259,{read:()=>0,write:(C,L,H,Q)=>Q}),Ui("/dev/null",259),On(1280,Jn),On(1536,Zn),Ui("/dev/tty",1280),Ui("/dev/tty1",1536);var d=new Uint8Array(1024),m=0,w=()=>(m===0&&(m=at(d).byteLength),d[--m]);os("random",w),os("urandom",w),En("/dev/shm",16895,0),En("/dev/shm/tmp",16895,0)})(),(()=>{En("/proc",16895,0);var d=En("/proc/self",16895,0);En("/proc/self/fd",16895,0),ji({U:()=>{var m=Ln(d,"fd",16895,73);return m.l={ka:(w,C)=>{var L=br(+C);return w={parent:null,U:{nb:"fake"},l:{ma:()=>L.path}},w.parent=w}},m}},"/proc/self/fd")})(),Object.assign($t.prototype,{get(d){return this.M[d]},has(d){return this.M[d]!==void 0},pa(d){var m=this.ib.pop()||this.M.length;return this.M[m]=d,m},Zb(d){this.M[d]=void 0,this.ib.push(d)}}),di=R.BindingError=class extends Error{constructor(d){super(d),this.name="BindingError"}},Hn.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Hn.h=Hn.M.length,R.count_emval_handles=function(){for(var d=0,m=Hn.h;m<Hn.M.length;++m)Hn.M[m]!==void 0&&++d;return d},Fa=R.PureVirtualError=Ho("PureVirtualError");for(var oa=Array(256),xl=0;256>xl;++xl)oa[xl]=String.fromCharCode(xl);us=oa,R.getInheritedInstanceCount=function(){return Object.keys(Bi).length},R.getLiveInheritedInstances=function(){var d=[],m;for(m in Bi)Bi.hasOwnProperty(m)&&d.push(Bi[m]);return d},R.flushPendingDeletes=si,R.setDelayFunction=function(d){Is=d,Zi.length&&Is&&Is(si)},Ns=R.InternalError=class extends Error{constructor(d){super(d),this.name="InternalError"}},yn.prototype.isAliasOf=function(d){if(!(this instanceof yn&&d instanceof yn))return!1;var m=this.g.u.i,w=this.g.o,C=d.g.u.i;for(d=d.g.o;m.A;)w=m.na(w),m=m.A;for(;C.A;)d=C.na(d),C=C.A;return m===C&&w===d},yn.prototype.clone=function(){if(this.g.o||Hi(this),this.g.ia)return this.g.count.value+=1,this;var d=ai,m=Object,w=m.create,C=Object.getPrototypeOf(this),L=this.g;return d=d(w.call(m,C,{g:{value:{count:L.count,fa:L.fa,ia:L.ia,o:L.o,u:L.u,G:L.G,L:L.L}}})),d.g.count.value+=1,d.g.fa=!1,d},yn.prototype.delete=function(){this.g.o||Hi(this),this.g.fa&&!this.g.ia&&ot("Object already scheduled for deletion"),cs(this),Ha(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},yn.prototype.isDeleted=function(){return!this.g.o},yn.prototype.deleteLater=function(){return this.g.o||Hi(this),this.g.fa&&!this.g.ia&&ot("Object already scheduled for deletion"),Zi.push(this),Zi.length===1&&Is&&Is(si),this.g.fa=!0,this},Ri.prototype.Vb=function(d){return this.sb&&(d=this.sb(d)),d},Ri.prototype.bb=function(d){this.W&&this.W(d)},Ri.prototype.argPackAdvance=8,Ri.prototype.readValueFromPointer=Ut,Ri.prototype.deleteObject=function(d){d!==null&&d.delete()},Ri.prototype.fromWireType=function(d){function m(){return this.ua?Cr(this.i.N,{u:this.nc,o:w,L:this,G:d}):Cr(this.i.N,{u:this,o:d})}var w=this.Vb(d);if(!w)return this.bb(d),null;var C=qr(this.i,w);if(C!==void 0)return C.g.count.value===0?(C.g.o=w,C.g.G=d,C.clone()):(C=C.clone(),this.bb(d),C);if(C=this.i.Ub(w),C=hs[C],!C)return m.call(this);C=this.ta?C.Kb:C.pointerType;var L=Fi(w,this.i,C.i);return L===null?m.call(this):this.ua?Cr(C.i.N,{u:C,o:L,L:this,G:d}):Cr(C.i.N,{u:C,o:L})},$a=R.UnboundTypeError=Ho("UnboundTypeError");var lh={__syscall_fcntl64:function(d,m,w){mn=w;try{var C=br(d);switch(m){case 0:var L=on();return 0>L?-28:Tr(C,L).X;case 1:case 2:return 0;case 3:return C.flags;case 4:return L=on(),C.flags|=L,0;case 5:return L=on(),F[L+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return _e[Uu()>>2]=28,-1;default:return-28}}catch(H){if(typeof Fr>"u"||H.name!=="ErrnoError")throw H;return-H.aa}},__syscall_ioctl:function(d,m,w){mn=w;try{var C=br(d);switch(m){case 21509:return C.s?0:-59;case 21505:if(!C.s)return-59;if(C.s.V.bc){m=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var L=on();_e[L>>2]=25856,_e[L+4>>2]=5,_e[L+8>>2]=191,_e[L+12>>2]=35387;for(var H=0;32>H;H++)pe[L+H+17>>0]=m[H]||0}return 0;case 21510:case 21511:case 21512:return C.s?0:-59;case 21506:case 21507:case 21508:if(!C.s)return-59;if(C.s.V.cc)for(L=on(),m=[],H=0;32>H;H++)m.push(pe[L+H+17>>0]);return 0;case 21519:return C.s?(L=on(),_e[L>>2]=0):-59;case 21520:return C.s?-28:-59;case 21531:if(L=on(),!C.m.ac)throw new He(59);return C.m.ac(C,m,L);case 21523:return C.s?(C.s.V.dc&&(H=[24,80],L=on(),F[L>>1]=H[0],F[L+2>>1]=H[1]),0):-59;case 21524:return C.s?0:-59;case 21515:return C.s?0:-59;default:return-28}}catch(Q){if(typeof Fr>"u"||Q.name!=="ErrnoError")throw Q;return-Q.aa}},__syscall_openat:function(d,m,w,C){mn=C;try{m=m?ft(Ne,m):"";var L=m;if(L.charAt(0)==="/")m=L;else{var H=d===-100?"/":br(d).path;if(L.length==0)throw new He(44);m=J(H+"/"+L)}var Q=C?on():0;return Cs(m,w,Q).X}catch(ue){if(typeof Fr>"u"||ue.name!=="ErrnoError")throw ue;return-ue.aa}},_embind_create_inheriting_constructor:function(d,m,w){d=hn(d),m=tr(m,"wrapper"),w=gn(w);var C=[].slice,L=m.i,H=L.N,Q=L.A.N,ue=L.A.constructor;d=Rs(d,function(){L.A.rb.forEach((function(ae){if(this[ae]===Q[ae])throw new Fa(`Pure virtual function ${ae} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:H}),this.__construct.apply(this,C.call(arguments))}),H.__construct=function(){this===H&&ot("Pass correct 'this' to __construct");var ae=ue.implement.apply(void 0,[this].concat(C.call(arguments)));cs(ae);var De=ae.g;ae.notifyOnDestruction(),De.ia=!0,Object.defineProperties(this,{g:{value:De}}),ai(this),ae=De.o,ae=na(L,ae),Bi.hasOwnProperty(ae)?ot(`Tried to register registered instance: ${ae}`):Bi[ae]=this},H.__destruct=function(){this===H&&ot("Pass correct 'this' to __destruct"),cs(this);var ae=this.g.o;ae=na(L,ae),Bi.hasOwnProperty(ae)?delete Bi[ae]:ot(`Tried to unregister unregistered instance: ${ae}`)},d.prototype=Object.create(H);for(var ve in w)d.prototype[ve]=w[ve];return ri(d)},_embind_finalize_value_object:function(d){var m=pi[d];delete pi[d];var w=m.Pa,C=m.W,L=m.fb,H=L.map(Q=>Q.Yb).concat(L.map(Q=>Q.rc));kn([d],H,Q=>{var ue={};return L.forEach((ve,ae)=>{var De=Q[ae],Le=ve.Wb,Ge=ve.Xb,ne=Q[ae+L.length],Ve=ve.qc,Qe=ve.sc;ue[ve.Sb]={read:Be=>De.fromWireType(Le(Ge,Be)),write:(Be,qt)=>{var Fe=[];Ve(Qe,Be,ne.toWireType(Fe,qt)),Rr(Fe)}}}),[{name:m.name,fromWireType:function(ve){var ae={},De;for(De in ue)ae[De]=ue[De].read(ve);return C(ve),ae},toWireType:function(ve,ae){for(var De in ue)if(!(De in ae))throw new TypeError(`Missing field: "${De}"`);var Le=w();for(De in ue)ue[De].write(Le,ae[De]);return ve!==null&&ve.push(C,Le),Le},argPackAdvance:8,readValueFromPointer:Ut,K:C}]})},_embind_register_bigint:function(){},_embind_register_bool:function(d,m,w,C,L){var H=Os(w);m=hn(m),qn(d,{name:m,fromWireType:function(Q){return!!Q},toWireType:function(Q,ue){return ue?C:L},argPackAdvance:8,readValueFromPointer:function(Q){if(w===1)var ue=pe;else if(w===2)ue=F;else if(w===4)ue=_e;else throw new TypeError("Unknown boolean type size: "+m);return this.fromWireType(ue[Q>>H])},K:null})},_embind_register_class:function(d,m,w,C,L,H,Q,ue,ve,ae,De,Le,Ge){De=hn(De),H=Rn(L,H),ue&&(ue=Rn(Q,ue)),ae&&(ae=Rn(ve,ae)),Ge=Rn(Le,Ge);var ne=ls(De);nr(ne,function(){ir(`Cannot construct ${De} due to unbound types`,[C])}),kn([d,m,w],C?[C]:[],function(Ve){if(Ve=Ve[0],C)var Qe=Ve.i,Be=Qe.N;else Be=yn.prototype;Ve=Rs(ne,function(){if(Object.getPrototypeOf(this)!==qt)throw new di("Use 'new' to construct "+De);if(Fe.$===void 0)throw new di(De+" has no accessible constructor");var Yt=Fe.$[arguments.length];if(Yt===void 0)throw new di(`Tried to invoke ctor of ${De} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(Fe.$).toString()}) parameters instead!`);return Yt.apply(this,arguments)});var qt=Object.create(Be,{constructor:{value:Ve}});Ve.prototype=qt;var Fe=new xs(De,Ve,qt,Ge,Qe,H,ue,ae);Fe.A&&(Fe.A.oa===void 0&&(Fe.A.oa=[]),Fe.A.oa.push(Fe)),Qe=new Ri(De,Fe,!0,!1),Be=new Ri(De+"*",Fe,!1,!1);var Ot=new Ri(De+" const*",Fe,!1,!0);return hs[d]={pointerType:Be,Kb:Ot},Ga(ne,Ve),[Qe,Be,Ot]})},_embind_register_class_class_function:function(d,m,w,C,L,H,Q){var ue=ra(w,C);m=hn(m),H=Rn(L,H),kn([],[d],function(ve){function ae(){ir(`Cannot call ${De} due to unbound types`,ue)}ve=ve[0];var De=`${ve.name}.${m}`;m.startsWith("@@")&&(m=Symbol[m.substring(2)]);var Le=ve.i.constructor;return Le[m]===void 0?(ae.ea=w-1,Le[m]=ae):(Ir(Le,m,De),Le[m].B[w-1]=ae),kn([],ue,function(Ge){if(Ge=ds(De,[Ge[0],null].concat(Ge.slice(1)),null,H,Q),Le[m].B===void 0?(Ge.ea=w-1,Le[m]=Ge):Le[m].B[w-1]=Ge,ve.i.oa)for(const ne of ve.i.oa)ne.constructor.hasOwnProperty(m)||(ne.constructor[m]=Ge);return[]}),[]})},_embind_register_class_class_property:function(d,m,w,C,L,H,Q,ue){m=hn(m),H=Rn(L,H),kn([],[d],function(ve){ve=ve[0];var ae=`${ve.name}.${m}`,De={get(){ir(`Cannot access ${ae} due to unbound types`,[w])},enumerable:!0,configurable:!0};return De.set=ue?()=>{ir(`Cannot access ${ae} due to unbound types`,[w])}:()=>{ot(`${ae} is a read-only property`)},Object.defineProperty(ve.i.constructor,m,De),kn([],[w],function(Le){Le=Le[0];var Ge={get(){return Le.fromWireType(H(C))},enumerable:!0};return ue&&(ue=Rn(Q,ue),Ge.set=ne=>{var Ve=[];ue(C,Le.toWireType(Ve,ne)),Rr(Ve)}),Object.defineProperty(ve.i.constructor,m,Ge),[]}),[]})},_embind_register_class_constructor:function(d,m,w,C,L,H){var Q=ra(m,w);L=Rn(C,L),kn([],[d],function(ue){ue=ue[0];var ve=`constructor ${ue.name}`;if(ue.i.$===void 0&&(ue.i.$=[]),ue.i.$[m-1]!==void 0)throw new di(`Cannot register multiple constructors with identical number of parameters (${m-1}) for class '${ue.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ue.i.$[m-1]=()=>{ir(`Cannot construct ${ue.name} due to unbound types`,Q)},kn([],Q,function(ae){return ae.splice(1,0,null),ue.i.$[m-1]=ds(ve,ae,null,L,H),[]}),[]})},_embind_register_class_function:function(d,m,w,C,L,H,Q,ue){var ve=ra(w,C);m=hn(m),H=Rn(L,H),kn([],[d],function(ae){function De(){ir(`Cannot call ${Le} due to unbound types`,ve)}ae=ae[0];var Le=`${ae.name}.${m}`;m.startsWith("@@")&&(m=Symbol[m.substring(2)]),ue&&ae.i.rb.push(m);var Ge=ae.i.N,ne=Ge[m];return ne===void 0||ne.B===void 0&&ne.className!==ae.name&&ne.ea===w-2?(De.ea=w-2,De.className=ae.name,Ge[m]=De):(Ir(Ge,m,Le),Ge[m].B[w-2]=De),kn([],ve,function(Ve){return Ve=ds(Le,Ve,ae,H,Q),Ge[m].B===void 0?(Ve.ea=w-2,Ge[m]=Ve):Ge[m].B[w-2]=Ve,[]}),[]})},_embind_register_class_property:function(d,m,w,C,L,H,Q,ue,ve,ae){m=hn(m),L=Rn(C,L),kn([],[d],function(De){De=De[0];var Le=`${De.name}.${m}`,Ge={get(){ir(`Cannot access ${Le} due to unbound types`,[w,Q])},enumerable:!0,configurable:!0};return Ge.set=ve?()=>{ir(`Cannot access ${Le} due to unbound types`,[w,Q])}:()=>{ot(Le+" is a read-only property")},Object.defineProperty(De.i.N,m,Ge),kn([],ve?[w,Q]:[w],function(ne){var Ve=ne[0],Qe={get(){var qt=$o(this,De,Le+" getter");return Ve.fromWireType(L(H,qt))},enumerable:!0};if(ve){ve=Rn(ue,ve);var Be=ne[1];Qe.set=function(qt){var Fe=$o(this,De,Le+" setter"),Ot=[];ve(ae,Fe,Be.toWireType(Ot,qt)),Rr(Ot)}}return Object.defineProperty(De.i.N,m,Qe),[]}),[]})},_embind_register_emval:function(d,m){m=hn(m),qn(d,{name:m,fromWireType:function(w){var C=gn(w);return rr(w),C},toWireType:function(w,C){return ri(C)},argPackAdvance:8,readValueFromPointer:Ut,K:null})},_embind_register_enum:function(d,m,w,C){function L(){}w=Os(w),m=hn(m),L.values={},qn(d,{name:m,constructor:L,fromWireType:function(H){return this.constructor.values[H]},toWireType:function(H,Q){return Q.value},argPackAdvance:8,readValueFromPointer:Rl(m,w,C),K:null}),nr(m,L)},_embind_register_enum_value:function(d,m,w){var C=tr(d,"enum");m=hn(m),d=C.constructor,C=Object.create(C.constructor.prototype,{value:{value:w},constructor:{value:Rs(`${C.name}_${m}`,function(){})}}),d.values[w]=C,d[m]=C},_embind_register_float:function(d,m,w){w=Os(w),m=hn(m),qn(d,{name:m,fromWireType:function(C){return C},toWireType:function(C,L){return L},argPackAdvance:8,readValueFromPointer:Il(m,w),K:null})},_embind_register_function:function(d,m,w,C,L,H){var Q=ra(m,w);d=hn(d),L=Rn(C,L),nr(d,function(){ir(`Cannot call ${d} due to unbound types`,Q)},m-1),kn([],Q,function(ue){return Ga(d,ds(d,[ue[0],null].concat(ue.slice(1)),null,L,H),m-1),[]})},_embind_register_integer:function(d,m,w,C,L){m=hn(m),L===-1&&(L=4294967295),L=Os(w);var H=ue=>ue;if(C===0){var Q=32-8*w;H=ue=>ue<<Q>>>Q}w=m.includes("unsigned")?function(ue,ve){return ve>>>0}:function(ue,ve){return ve},qn(d,{name:m,fromWireType:H,toWireType:w,argPackAdvance:8,readValueFromPointer:Nl(m,L,C!==0),K:null})},_embind_register_memory_view:function(d,m,w){function C(H){H>>=2;var Q=Se;return new L(Q.buffer,Q[H+1],Q[H])}var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][m];w=hn(w),qn(d,{name:w,fromWireType:C,argPackAdvance:8,readValueFromPointer:C},{$b:!0})},_embind_register_std_string:function(d,m){m=hn(m);var w=m==="std::string";qn(d,{name:m,fromWireType:function(C){var L=Se[C>>2],H=C+4;if(w)for(var Q=H,ue=0;ue<=L;++ue){var ve=H+ue;if(ue==L||Ne[ve]==0){if(Q=Q?ft(Ne,Q,ve-Q):"",ae===void 0)var ae=Q;else ae+="\0",ae+=Q;Q=ve+1}}else{for(ae=Array(L),ue=0;ue<L;++ue)ae[ue]=String.fromCharCode(Ne[H+ue]);ae=ae.join("")}return gs(C),ae},toWireType:function(C,L){L instanceof ArrayBuffer&&(L=new Uint8Array(L));var H=typeof L=="string";H||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int8Array||ot("Cannot pass non-string to std::string");var Q=w&&H?rn(L):L.length,ue=Dl(4+Q+1),ve=ue+4;if(Se[ue>>2]=Q,w&&H)ni(L,Ne,ve,Q+1);else if(H)for(H=0;H<Q;++H){var ae=L.charCodeAt(H);255<ae&&(gs(ve),ot("String has UTF-16 code units that do not fit in 8 bits")),Ne[ve+H]=ae}else for(H=0;H<Q;++H)Ne[ve+H]=L[H];return C!==null&&C.push(gs,ue),ue},argPackAdvance:8,readValueFromPointer:Ut,K:function(C){gs(C)}})},_embind_register_std_wstring:function(d,m,w){if(w=hn(w),m===2)var C=gi,L=Ml,H=Ol,Q=()=>ce,ue=1;else m===4&&(C=ms,L=c,H=E,Q=()=>Se,ue=2);qn(d,{name:w,fromWireType:function(ve){for(var ae=Se[ve>>2],De=Q(),Le,Ge=ve+4,ne=0;ne<=ae;++ne){var Ve=ve+4+ne*m;(ne==ae||De[Ve>>ue]==0)&&(Ge=C(Ge,Ve-Ge),Le===void 0?Le=Ge:(Le+="\0",Le+=Ge),Ge=Ve+m)}return gs(ve),Le},toWireType:function(ve,ae){typeof ae!="string"&&ot(`Cannot pass non-string to C++ string type ${w}`);var De=H(ae),Le=Dl(4+De+m);return Se[Le>>2]=De>>ue,L(ae,Le+4,De+m),ve!==null&&ve.push(gs,Le),Le},argPackAdvance:8,readValueFromPointer:Ut,K:function(ve){gs(ve)}})},_embind_register_value_object:function(d,m,w,C,L,H){pi[d]={name:hn(m),Pa:Rn(w,C),W:Rn(L,H),fb:[]}},_embind_register_value_object_field:function(d,m,w,C,L,H,Q,ue,ve,ae){pi[d].fb.push({Sb:hn(m),Yb:w,Wb:Rn(C,L),Xb:H,rc:Q,qc:Rn(ue,ve),sc:ae})},_embind_register_void:function(d,m){m=hn(m),qn(d,{fc:!0,name:m,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(d,m,w){d=gn(d),m=tr(m,"emval::as");var C=[],L=ri(C);return Se[w>>2]=L,m.toWireType(C,d)},_emval_call_method:function(d,m,w,C,L){d=oe[d],m=gn(m),w=j(w);var H=[];return Se[C>>2]=ri(H),d(m,w,H,L)},_emval_call_void_method:function(d,m,w,C){d=oe[d],m=gn(m),w=j(w),d(m,w,null,C)},_emval_decref:rr,_emval_get_method_caller:function(d,m){var w=ke(d,m),C=w[0];m=C.name+"_$"+w.slice(1).map(function(Q){return Q.name}).join("_")+"$";var L=ct[m];if(L!==void 0)return L;var H=Array(d-1);return L=me((Q,ue,ve,ae)=>{for(var De=0,Le=0;Le<d-1;++Le)H[Le]=w[Le+1].readValueFromPointer(ae+De),De+=w[Le+1].argPackAdvance;for(Q=Q[ue].apply(Q,H),Le=0;Le<d-1;++Le)w[Le+1].Nb&&w[Le+1].Nb(H[Le]);if(!C.fc)return C.toWireType(ve,Q)}),ct[m]=L},_emval_get_module_property:function(d){return d=j(d),ri(R[d])},_emval_get_property:function(d,m){return d=gn(d),m=gn(m),ri(d[m])},_emval_incref:function(d){4<d&&(Hn.get(d).ub+=1)},_emval_new_array:function(){return ri([])},_emval_new_cstring:function(d){return ri(j(d))},_emval_new_object:function(){return ri({})},_emval_run_destructors:function(d){var m=gn(d);Rr(m),rr(d)},_emval_set_property:function(d,m,w){d=gn(d),m=gn(m),w=gn(w),d[m]=w},_emval_take_value:function(d,m){return d=tr(d,"_emval_take_value"),d=d.readValueFromPointer(m),ri(d)},abort:()=>{Ft("")},emscripten_asm_const_int:(d,m,w)=>{bn.length=0;var C;for(w>>=2;C=Ne[m++];)w+=C!=105&w,bn.push(C==105?_e[w]:Pe[w++>>1]),++w;return g[d].apply(null,bn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(d,m,w)=>Ne.copyWithin(d,m,m+w),emscripten_resize_heap:d=>{var m=Ne.length;if(d>>>=0,2147483648<d)return!1;for(var w=1;4>=w;w*=2){var C=m*(1+.2/w);C=Math.min(C,d+100663296);var L=Math;C=Math.max(d,C);e:{L=L.min.call(L,2147483648,C+(65536-C%65536)%65536)-Y.buffer.byteLength+65535>>>16;try{Y.grow(L),Ke();var H=1;break e}catch{}H=void 0}if(H)return!0}return!1},environ_get:(d,m)=>{var w=0;return fn().forEach(function(C,L){var H=m+w;for(L=Se[d+4*L>>2]=H,H=0;H<C.length;++H)pe[L++>>0]=C.charCodeAt(H);pe[L>>0]=0,w+=C.length+1}),0},environ_sizes_get:(d,m)=>{var w=fn();Se[d>>2]=w.length;var C=0;return w.forEach(function(L){C+=L.length+1}),Se[m>>2]=C,0},fd_close:function(d){try{var m=br(d);if(m.X===null)throw new He(8);m.Ma&&(m.Ma=null);try{m.m.close&&m.m.close(m)}catch(w){throw w}finally{ja[m.X]=null}return m.X=null,0}catch(w){if(typeof Fr>"u"||w.name!=="ErrnoError")throw w;return w.aa}},fd_read:function(d,m,w,C){try{e:{var L=br(d);d=m;for(var H,Q=m=0;Q<w;Q++){var ue=Se[d>>2],ve=Se[d+4>>2];d+=8;var ae=L,De=ue,Le=ve,Ge=H,ne=pe;if(0>Le||0>Ge)throw new He(28);if(ae.X===null)throw new He(8);if((ae.flags&2097155)===1)throw new He(8);if((ae.node.mode&61440)===16384)throw new He(31);if(!ae.m.read)throw new He(28);var Ve=typeof Ge<"u";if(!Ve)Ge=ae.position;else if(!ae.seekable)throw new He(70);var Qe=ae.m.read(ae,ne,De,Le,Ge);Ve||(ae.position+=Qe);var Be=Qe;if(0>Be){var qt=-1;break e}if(m+=Be,Be<ve)break;typeof H<"u"&&(H+=Be)}qt=m}return Se[C>>2]=qt,0}catch(Fe){if(typeof Fr>"u"||Fe.name!=="ErrnoError")throw Fe;return Fe.aa}},fd_seek:function(d,m,w,C,L){m=w+2097152>>>0<4194305-!!m?(m>>>0)+4294967296*w:NaN;try{if(isNaN(m))return 61;var H=br(d);return Ar(H,m,C),O=[H.position>>>0,(Ci=H.position,1<=+Math.abs(Ci)?0<Ci?+Math.floor(Ci/4294967296)>>>0:~~+Math.ceil((Ci-+(~~Ci>>>0))/4294967296)>>>0:0)],_e[L>>2]=O[0],_e[L+4>>2]=O[1],H.Ma&&m===0&&C===0&&(H.Ma=null),0}catch(Q){if(typeof Fr>"u"||Q.name!=="ErrnoError")throw Q;return Q.aa}},fd_write:function(d,m,w,C){try{e:{var L=br(d);d=m;for(var H,Q=m=0;Q<w;Q++){var ue=Se[d>>2],ve=Se[d+4>>2];d+=8;var ae=L,De=ue,Le=ve,Ge=H,ne=pe;if(0>Le||0>Ge)throw new He(28);if(ae.X===null)throw new He(8);if((ae.flags&2097155)===0)throw new He(8);if((ae.node.mode&61440)===16384)throw new He(31);if(!ae.m.write)throw new He(28);ae.seekable&&ae.flags&1024&&Ar(ae,0,2);var Ve=typeof Ge<"u";if(!Ve)Ge=ae.position;else if(!ae.seekable)throw new He(70);var Qe=ae.m.write(ae,ne,De,Le,Ge,void 0);Ve||(ae.position+=Qe);var Be=Qe;if(0>Be){var qt=-1;break e}m+=Be,typeof H<"u"&&(H+=Be)}qt=m}return Se[C>>2]=qt,0}catch(Fe){if(typeof Fr>"u"||Fe.name!=="ErrnoError")throw Fe;return Fe.aa}},strftime_l:(d,m,w,C)=>sa(d,m,w,C)};(function(){function d(w){if(Z=w=w.exports,Y=Z.memory,Ke(),st=Z.__indirect_function_table,Jt.unshift(Z.__wasm_call_ctors),yt--,R.monitorRunDependencies&&R.monitorRunDependencies(yt),yt==0&&zt){var C=zt;zt=null,C()}return w}var m={env:lh,wasi_snapshot_preview1:lh};if(yt++,R.monitorRunDependencies&&R.monitorRunDependencies(yt),R.instantiateWasm)try{return R.instantiateWasm(m,d)}catch(w){G("Module.instantiateWasm callback failed with error: "+w),se(w)}return Zs(m,function(w){d(w.instance)}).catch(se),{}})();var gs=d=>(gs=Z.free)(d),Dl=d=>(Dl=Z.malloc)(d),Uu=()=>(Uu=Z.__errno_location)(),Wa=R._ma_device__on_notification_unlocked=d=>(Wa=R._ma_device__on_notification_unlocked=Z.ma_device__on_notification_unlocked)(d);R._ma_malloc_emscripten=(d,m)=>(R._ma_malloc_emscripten=Z.ma_malloc_emscripten)(d,m),R._ma_free_emscripten=(d,m)=>(R._ma_free_emscripten=Z.ma_free_emscripten)(d,m);var Ka=R._ma_device_process_pcm_frames_capture__webaudio=(d,m,w)=>(Ka=R._ma_device_process_pcm_frames_capture__webaudio=Z.ma_device_process_pcm_frames_capture__webaudio)(d,m,w),uh=R._ma_device_process_pcm_frames_playback__webaudio=(d,m,w)=>(uh=R._ma_device_process_pcm_frames_playback__webaudio=Z.ma_device_process_pcm_frames_playback__webaudio)(d,m,w),Yo=d=>(Yo=Z.__getTypeName)(d);R.__embind_initialize_bindings=()=>(R.__embind_initialize_bindings=Z._embind_initialize_bindings)(),R.dynCall_iiji=(d,m,w,C,L)=>(R.dynCall_iiji=Z.dynCall_iiji)(d,m,w,C,L),R.dynCall_jiji=(d,m,w,C,L)=>(R.dynCall_jiji=Z.dynCall_jiji)(d,m,w,C,L),R.dynCall_iiiji=(d,m,w,C,L,H)=>(R.dynCall_iiiji=Z.dynCall_iiiji)(d,m,w,C,L,H),R.dynCall_iij=(d,m,w,C)=>(R.dynCall_iij=Z.dynCall_iij)(d,m,w,C),R.dynCall_jii=(d,m,w)=>(R.dynCall_jii=Z.dynCall_jii)(d,m,w),R.dynCall_viijii=(d,m,w,C,L,H,Q)=>(R.dynCall_viijii=Z.dynCall_viijii)(d,m,w,C,L,H,Q),R.dynCall_iiiiij=(d,m,w,C,L,H,Q)=>(R.dynCall_iiiiij=Z.dynCall_iiiiij)(d,m,w,C,L,H,Q),R.dynCall_iiiiijj=(d,m,w,C,L,H,Q,ue,ve)=>(R.dynCall_iiiiijj=Z.dynCall_iiiiijj)(d,m,w,C,L,H,Q,ue,ve),R.dynCall_iiiiiijj=(d,m,w,C,L,H,Q,ue,ve,ae)=>(R.dynCall_iiiiiijj=Z.dynCall_iiiiiijj)(d,m,w,C,L,H,Q,ue,ve,ae);var Wo;zt=function d(){Wo||Bu(),Wo||(zt=d)};function Bu(){function d(){if(!Wo&&(Wo=!0,R.calledRun=!0,!Ae)){if(R.noFSInit||za||(za=!0,Sr(),R.stdin=R.stdin,R.stdout=R.stdout,R.stderr=R.stderr,R.stdin?os("stdin",R.stdin):Cn("/dev/tty","/dev/stdin"),R.stdout?os("stdout",null,R.stdout):Cn("/dev/tty","/dev/stdout"),R.stderr?os("stderr",null,R.stderr):Cn("/dev/tty1","/dev/stderr"),Cs("/dev/stdin",0),Cs("/dev/stdout",1),Cs("/dev/stderr",1)),Ua=!1,b(Jt),K(R),R.onRuntimeInitialized&&R.onRuntimeInitialized(),R.postRun)for(typeof R.postRun=="function"&&(R.postRun=[R.postRun]);R.postRun.length;){var m=R.postRun.shift();nn.unshift(m)}b(nn)}}if(!(0<yt)){if(R.preRun)for(typeof R.preRun=="function"&&(R.preRun=[R.preRun]);R.preRun.length;)Je();b(gt),0<yt||(R.setStatus?(R.setStatus("Running..."),setTimeout(function(){setTimeout(function(){R.setStatus("")},1),d()},1)):d())}}if(R.preInit)for(typeof R.preInit=="function"&&(R.preInit=[R.preInit]);0<R.preInit.length;)R.preInit.pop()();return Bu(),x.ready})})();const A=v}),(h=>{h.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.31.6","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((h,y,_)=>{_.r(y),_.d(y,{Animation:()=>v.Animation});var v=_(4)}),((h,y,_)=>{_.r(y),_.d(y,{Animation:()=>v});var v=(function(){function A(N,x,R,K){this.animation=N,this.artboard=x,this.playing=K,this.loopCount=0,this.scrubTo=null,this.instance=new R.LinearAnimationInstance(N,x)}return Object.defineProperty(A.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"time",{get:function(){return this.instance.time},set:function(N){this.instance.time=N},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),A.prototype.advance=function(N){this.scrubTo===null?this.instance.advance(N):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},A.prototype.apply=function(N){this.instance.apply(N)},A.prototype.cleanup=function(){this.instance.delete()},A})()}),((h,y,_)=>{_.r(y),_.d(y,{AudioAssetWrapper:()=>N.AudioAssetWrapper,AudioWrapper:()=>N.AudioWrapper,BLANK_URL:()=>A.BLANK_URL,CustomFileAssetLoaderWrapper:()=>N.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>N.FileAssetWrapper,FileFinalizer:()=>N.FileFinalizer,FontAssetWrapper:()=>N.FontAssetWrapper,FontWrapper:()=>N.FontWrapper,ImageAssetWrapper:()=>N.ImageAssetWrapper,ImageWrapper:()=>N.ImageWrapper,createFinalization:()=>N.createFinalization,finalizationRegistry:()=>N.finalizationRegistry,registerTouchInteractions:()=>v.registerTouchInteractions,sanitizeUrl:()=>A.sanitizeUrl});var v=_(6),A=_(7),N=_(8)}),((h,y,_)=>{_.r(y),_.d(y,{registerTouchInteractions:()=>N});var v=void 0,A=function(x,R){var K,se;return["touchstart","touchmove"].indexOf(x.type)>-1&&(!((K=x.touches)===null||K===void 0)&&K.length)?(R||x.preventDefault(),{clientX:x.touches[0].clientX,clientY:x.touches[0].clientY}):x.type==="touchend"&&(!((se=x.changedTouches)===null||se===void 0)&&se.length)?{clientX:x.changedTouches[0].clientX,clientY:x.changedTouches[0].clientY}:{clientX:x.clientX,clientY:x.clientY}},N=function(x){var R=x.canvas,K=x.artboard,se=x.stateMachines,re=se===void 0?[]:se,ee=x.renderer,le=x.rive,be=x.fit,je=x.alignment,we=x.isTouchScrollEnabled,Me=we===void 0?!1:we,V=x.layoutScaleFactor,q=V===void 0?1:V;if(!R||!re.length||!ee||!le||!K||typeof window>"u")return null;var k=null,z=!1,I=function(D){if(z&&D instanceof MouseEvent){D.type=="mouseup"&&(z=!1);return}z=Me&&D.type==="touchend"&&k==="touchstart",k=D.type;var G=D.currentTarget.getBoundingClientRect(),te=A(D,Me),Y=te.clientX,Z=te.clientY;if(!(!Y&&!Z)){var Ae=Y-G.left,pe=Z-G.top,Ne=le.computeAlignment(be,je,{minX:0,minY:0,maxX:G.width,maxY:G.height},K.bounds,q),F=new le.Mat2D;Ne.invert(F);var ce=new le.Vec2D(Ae,pe),_e=le.mapXY(F,ce),Se=_e.x(),Ue=_e.y();switch(_e.delete(),F.delete(),ce.delete(),Ne.delete(),D.type){case"mouseout":for(var Pe=0,Ke=re;Pe<Ke.length;Pe++){var st=Ke[Pe];st.pointerMove(Se,Ue)}break;case"touchmove":case"mouseover":case"mousemove":{for(var gt=0,Jt=re;gt<Jt.length;gt++){var st=Jt[gt];st.pointerMove(Se,Ue)}break}case"touchstart":case"mousedown":{for(var nn=0,Je=re;nn<Je.length;nn++){var st=Je[nn];st.pointerDown(Se,Ue)}break}case"touchend":case"mouseup":{for(var yt=0,zt=re;yt<zt.length;yt++){var st=zt[yt];st.pointerUp(Se,Ue)}break}}}},U=I.bind(v);return R.addEventListener("mouseover",U),R.addEventListener("mouseout",U),R.addEventListener("mousemove",U),R.addEventListener("mousedown",U),R.addEventListener("mouseup",U),R.addEventListener("touchmove",U,{passive:Me}),R.addEventListener("touchstart",U,{passive:Me}),R.addEventListener("touchend",U),function(){R.removeEventListener("mouseover",U),R.removeEventListener("mouseout",U),R.removeEventListener("mousemove",U),R.removeEventListener("mousedown",U),R.removeEventListener("mouseup",U),R.removeEventListener("touchmove",U),R.removeEventListener("touchstart",U),R.removeEventListener("touchend",U)}}}),((h,y,_)=>{_.r(y),_.d(y,{BLANK_URL:()=>se,sanitizeUrl:()=>le});var v=/^([^\w]*)(javascript|data|vbscript)/im,A=/&#(\w+)(^\w|;)?/g,N=/&(newline|tab);/gi,x=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,R=/^.+(:|&colon;)/gim,K=[".","/"],se="about:blank";function re(be){return K.indexOf(be[0])>-1}function ee(be){var je=be.replace(x,"");return je.replace(A,function(we,Me){return String.fromCharCode(Me)})}function le(be){if(!be)return se;var je=ee(be).replace(N,"").replace(x,"").trim();if(!je)return se;if(re(je))return je;var we=je.match(R);if(!we)return je;var Me=we[0];return v.test(Me)?se:je}}),((h,y,_)=>{_.r(y),_.d(y,{AudioAssetWrapper:()=>be,AudioWrapper:()=>K,CustomFileAssetLoaderWrapper:()=>re,FileAssetWrapper:()=>ee,FileFinalizer:()=>A,FontAssetWrapper:()=>je,FontWrapper:()=>se,ImageAssetWrapper:()=>le,ImageWrapper:()=>R,createFinalization:()=>q,finalizationRegistry:()=>V});var v=(function(){var k=function(z,I){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,D){U.__proto__=D}||function(U,D){for(var G in D)Object.prototype.hasOwnProperty.call(D,G)&&(U[G]=D[G])},k(z,I)};return function(z,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");k(z,I);function U(){this.constructor=z}z.prototype=I===null?Object.create(I):(U.prototype=I.prototype,new U)}})(),A=(function(){function k(z){this.selfUnref=!1,this._file=z}return k.prototype.unref=function(){this._file&&this._file.unref()},k})(),N=(function(){function k(z){this._finalizableObject=z}return k.prototype.unref=function(){this._finalizableObject.unref()},k})(),x=(function(){function k(){this.selfUnref=!1}return k.prototype.unref=function(){},k})(),R=(function(k){v(z,k);function z(I){var U=k.call(this)||this;return U._nativeImage=I,U}return Object.defineProperty(z.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},z})(x),K=(function(k){v(z,k);function z(I){var U=k.call(this)||this;return U._nativeAudio=I,U}return Object.defineProperty(z.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},z})(x),se=(function(k){v(z,k);function z(I){var U=k.call(this)||this;return U._nativeFont=I,U}return Object.defineProperty(z.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),z.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},z})(x),re=(function(){function k(z,I){this._assetLoaderCallback=I,this.assetLoader=new z.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return k.prototype.loadContents=function(z,I){var U;return z.isImage?U=new le(z):z.isAudio?U=new be(z):z.isFont&&(U=new je(z)),this._assetLoaderCallback(U,I)},k})(),ee=(function(){function k(z){this._nativeFileAsset=z}return k.prototype.decode=function(z){this._nativeFileAsset.decode(z)},Object.defineProperty(k.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),k})(),le=(function(k){v(z,k);function z(){return k!==null&&k.apply(this,arguments)||this}return z.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},z})(ee),be=(function(k){v(z,k);function z(){return k!==null&&k.apply(this,arguments)||this}return z.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},z})(ee),je=(function(k){v(z,k);function z(){return k!==null&&k.apply(this,arguments)||this}return z.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},z})(ee),we=(function(){function k(z){}return k.prototype.register=function(z){z.selfUnref=!0},k.prototype.unregister=function(z){},k})(),Me=typeof FinalizationRegistry<"u"?FinalizationRegistry:we,V=new Me(function(k){k?.unref()}),q=function(k,z){var I=new N(z);V.register(k,I)}})],s={};function o(h){var y=s[h];if(y!==void 0)return y.exports;var _=s[h]={exports:{}};return n[h](_,_.exports,o),_.exports}o.d=(h,y)=>{for(var _ in y)o.o(y,_)&&!o.o(h,_)&&Object.defineProperty(h,_,{enumerable:!0,get:y[_]})},o.o=(h,y)=>Object.prototype.hasOwnProperty.call(h,y),o.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var u={};return(()=>{o.r(u),o.d(u,{Alignment:()=>le,DataEnum:()=>Ue,EventType:()=>I,Fit:()=>ee,Layout:()=>be,LoopType:()=>U,Rive:()=>_e,RiveEventType:()=>V,RiveFile:()=>ce,RuntimeLoader:()=>je,StateMachineInput:()=>Me,StateMachineInputType:()=>we,Testing:()=>pn,ViewModel:()=>Se,ViewModelInstance:()=>Ke,ViewModelInstanceArtboard:()=>hi,ViewModelInstanceAssetImage:()=>ci,ViewModelInstanceBoolean:()=>nn,ViewModelInstanceColor:()=>Ft,ViewModelInstanceEnum:()=>yt,ViewModelInstanceList:()=>zt,ViewModelInstanceNumber:()=>Jt,ViewModelInstanceString:()=>gt,ViewModelInstanceTrigger:()=>Je,ViewModelInstanceValue:()=>st,decodeAudio:()=>ki,decodeFont:()=>Ci,decodeImage:()=>Zs});var h=o(1),y=o(2),_=o(3),v=o(5),A=(function(){var O=function(g,b){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,J){B.__proto__=J}||function(B,J){for(var ye in J)Object.prototype.hasOwnProperty.call(J,ye)&&(B[ye]=J[ye])},O(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");O(g,b);function B(){this.constructor=g}g.prototype=b===null?Object.create(b):(B.prototype=b.prototype,new B)}})(),N=function(){return N=Object.assign||function(O){for(var g,b=1,B=arguments.length;b<B;b++){g=arguments[b];for(var J in g)Object.prototype.hasOwnProperty.call(g,J)&&(O[J]=g[J])}return O},N.apply(this,arguments)},x=function(O,g,b,B){function J(ye){return ye instanceof b?ye:new b(function(Oe){Oe(ye)})}return new(b||(b=Promise))(function(ye,Oe){function nt(Ze){try{qe(B.next(Ze))}catch(ft){Oe(ft)}}function at(Ze){try{qe(B.throw(Ze))}catch(ft){Oe(ft)}}function qe(Ze){Ze.done?ye(Ze.value):J(Ze.value).then(nt,at)}qe((B=B.apply(O,g||[])).next())})},R=function(O,g){var b={label:0,sent:function(){if(ye[0]&1)throw ye[1];return ye[1]},trys:[],ops:[]},B,J,ye,Oe=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Oe.next=nt(0),Oe.throw=nt(1),Oe.return=nt(2),typeof Symbol=="function"&&(Oe[Symbol.iterator]=function(){return this}),Oe;function nt(qe){return function(Ze){return at([qe,Ze])}}function at(qe){if(B)throw new TypeError("Generator is already executing.");for(;Oe&&(Oe=0,qe[0]&&(b=0)),b;)try{if(B=1,J&&(ye=qe[0]&2?J.return:qe[0]?J.throw||((ye=J.return)&&ye.call(J),0):J.next)&&!(ye=ye.call(J,qe[1])).done)return ye;switch(J=0,ye&&(qe=[qe[0]&2,ye.value]),qe[0]){case 0:case 1:ye=qe;break;case 4:return b.label++,{value:qe[1],done:!1};case 5:b.label++,J=qe[1],qe=[0];continue;case 7:qe=b.ops.pop(),b.trys.pop();continue;default:if(ye=b.trys,!(ye=ye.length>0&&ye[ye.length-1])&&(qe[0]===6||qe[0]===2)){b=0;continue}if(qe[0]===3&&(!ye||qe[1]>ye[0]&&qe[1]<ye[3])){b.label=qe[1];break}if(qe[0]===6&&b.label<ye[1]){b.label=ye[1],ye=qe;break}if(ye&&b.label<ye[2]){b.label=ye[2],b.ops.push(qe);break}ye[2]&&b.ops.pop(),b.trys.pop();continue}qe=g.call(O,b)}catch(Ze){qe=[6,Ze],J=0}finally{B=ye=0}if(qe[0]&5)throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}},K=function(O,g,b){if(b||arguments.length===2)for(var B=0,J=g.length,ye;B<J;B++)(ye||!(B in g))&&(ye||(ye=Array.prototype.slice.call(g,0,B)),ye[B]=g[B]);return O.concat(ye||Array.prototype.slice.call(g))},se=(function(O){A(g,O);function g(){var b=O!==null&&O.apply(this,arguments)||this;return b.isHandledError=!0,b}return g})(Error),re=function(O){return O&&O.isHandledError?O.message:"Problem loading file; may be corrupt!"},ee;(function(O){O.Cover="cover",O.Contain="contain",O.Fill="fill",O.FitWidth="fitWidth",O.FitHeight="fitHeight",O.None="none",O.ScaleDown="scaleDown",O.Layout="layout"})(ee||(ee={}));var le;(function(O){O.Center="center",O.TopLeft="topLeft",O.TopCenter="topCenter",O.TopRight="topRight",O.CenterLeft="centerLeft",O.CenterRight="centerRight",O.BottomLeft="bottomLeft",O.BottomCenter="bottomCenter",O.BottomRight="bottomRight"})(le||(le={}));var be=(function(){function O(g){var b,B,J,ye,Oe,nt,at;this.fit=(b=g?.fit)!==null&&b!==void 0?b:ee.Contain,this.alignment=(B=g?.alignment)!==null&&B!==void 0?B:le.Center,this.layoutScaleFactor=(J=g?.layoutScaleFactor)!==null&&J!==void 0?J:1,this.minX=(ye=g?.minX)!==null&&ye!==void 0?ye:0,this.minY=(Oe=g?.minY)!==null&&Oe!==void 0?Oe:0,this.maxX=(nt=g?.maxX)!==null&&nt!==void 0?nt:0,this.maxY=(at=g?.maxY)!==null&&at!==void 0?at:0}return O.new=function(g){var b=g.fit,B=g.alignment,J=g.minX,ye=g.minY,Oe=g.maxX,nt=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new O({fit:b,alignment:B,minX:J,minY:ye,maxX:Oe,maxY:nt})},O.prototype.copyWith=function(g){var b=g.fit,B=g.alignment,J=g.layoutScaleFactor,ye=g.minX,Oe=g.minY,nt=g.maxX,at=g.maxY;return new O({fit:b??this.fit,alignment:B??this.alignment,layoutScaleFactor:J??this.layoutScaleFactor,minX:ye??this.minX,minY:Oe??this.minY,maxX:nt??this.maxX,maxY:at??this.maxY})},O.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var b;return this.fit===ee.Cover?b=g.Fit.cover:this.fit===ee.Contain?b=g.Fit.contain:this.fit===ee.Fill?b=g.Fit.fill:this.fit===ee.FitWidth?b=g.Fit.fitWidth:this.fit===ee.FitHeight?b=g.Fit.fitHeight:this.fit===ee.ScaleDown?b=g.Fit.scaleDown:this.fit===ee.Layout?b=g.Fit.layout:b=g.Fit.none,this.cachedRuntimeFit=b,b},O.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var b;return this.alignment===le.TopLeft?b=g.Alignment.topLeft:this.alignment===le.TopCenter?b=g.Alignment.topCenter:this.alignment===le.TopRight?b=g.Alignment.topRight:this.alignment===le.CenterLeft?b=g.Alignment.centerLeft:this.alignment===le.CenterRight?b=g.Alignment.centerRight:this.alignment===le.BottomLeft?b=g.Alignment.bottomLeft:this.alignment===le.BottomCenter?b=g.Alignment.bottomCenter:this.alignment===le.BottomRight?b=g.Alignment.bottomRight:b=g.Alignment.center,this.cachedRuntimeAlignment=b,b},O})(),je=(function(){function O(){}return O.loadRuntime=function(){h.default({locateFile:function(){return O.wasmURL}}).then(function(g){var b;for(O.runtime=g;O.callBackQueue.length>0;)(b=O.callBackQueue.shift())===null||b===void 0||b(O.runtime)}).catch(function(g){var b={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",b);var B="https://cdn.jsdelivr.net/npm/".concat(y.name,"@").concat(y.version,"/rive_fallback.wasm");if(O.wasmURL.toLowerCase()!==B)console.warn("Failed to load WASM from ".concat(O.wasmURL," (").concat(b.message,"), trying jsdelivr as a backup")),O.setWasmUrl(B),O.loadRuntime();else{var J=["Could not load Rive WASM file from ".concat(O.wasmURL," or ").concat(B,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(b.type),"- Message: ".concat(b.message),"- WebAssembly-specific error: ".concat(b.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(J)}})},O.getInstance=function(g){O.isLoading||(O.isLoading=!0,O.loadRuntime()),O.runtime?g(O.runtime):O.callBackQueue.push(g)},O.awaitInstance=function(){return new Promise(function(g){return O.getInstance(function(b){return g(b)})})},O.setWasmUrl=function(g){O.wasmURL=g},O.getWasmUrl=function(){return O.wasmURL},O.isLoading=!1,O.callBackQueue=[],O.wasmURL="https://unpkg.com/".concat(y.name,"@").concat(y.version,"/rive.wasm"),O})(),we;(function(O){O[O.Number=56]="Number",O[O.Trigger=58]="Trigger",O[O.Boolean=59]="Boolean"})(we||(we={}));var Me=(function(){function O(g,b){this.type=g,this.runtimeInput=b}return Object.defineProperty(O.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),O.prototype.fire=function(){this.type===we.Trigger&&this.runtimeInput.fire()},O.prototype.delete=function(){this.runtimeInput=null},O})(),V;(function(O){O[O.General=128]="General",O[O.OpenUrl=131]="OpenUrl"})(V||(V={}));var q=(function(){function O(g){this.nativeArtboard=g}return O})(),k=(function(){function O(g,b,B,J){this.stateMachine=g,this.playing=B,this.artboard=J,this.inputs=[],this.instance=new b.StateMachineInstance(g,J),this.initInputs(b)}return Object.defineProperty(O.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"statesChanged",{get:function(){for(var g=[],b=0;b<this.instance.stateChangedCount();b++)g.push(this.instance.stateChangedNameByIndex(b));return g},enumerable:!1,configurable:!0}),O.prototype.advance=function(g){this.instance.advance(g)},O.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},O.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},O.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},O.prototype.initInputs=function(g){for(var b=0;b<this.instance.inputCount();b++){var B=this.instance.input(b);this.inputs.push(this.mapRuntimeInput(B,g))}},O.prototype.mapRuntimeInput=function(g,b){if(g.type===b.SMIInput.bool)return new Me(we.Boolean,g.asBool());if(g.type===b.SMIInput.number)return new Me(we.Number,g.asNumber());if(g.type===b.SMIInput.trigger)return new Me(we.Trigger,g.asTrigger())},O.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},O.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},O})(),z=(function(){function O(g,b,B,J,ye){J===void 0&&(J=[]),ye===void 0&&(ye=[]),this.runtime=g,this.artboard=b,this.eventManager=B,this.animations=J,this.stateMachines=ye}return O.prototype.add=function(g,b,B){if(B===void 0&&(B=!0),g=bt(g),g.length===0)this.animations.forEach(function(rn){return rn.playing=b}),this.stateMachines.forEach(function(rn){return rn.playing=b});else for(var J=this.animations.map(function(rn){return rn.name}),ye=this.stateMachines.map(function(rn){return rn.name}),Oe=0;Oe<g.length;Oe++){var nt=J.indexOf(g[Oe]),at=ye.indexOf(g[Oe]);if(nt>=0||at>=0)nt>=0?this.animations[nt].playing=b:this.stateMachines[at].playing=b;else{var qe=this.artboard.animationByName(g[Oe]);if(qe){var Ze=new _.Animation(qe,this.artboard,this.runtime,b);Ze.advance(0),Ze.apply(1),this.animations.push(Ze)}else{var ft=this.artboard.stateMachineByName(g[Oe]);if(ft){var Tt=new k(ft,this.runtime,b,this.artboard);this.stateMachines.push(Tt)}}}}return B&&(b?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),b?this.playing:this.paused},O.prototype.initLinearAnimations=function(g,b){for(var B=this.animations.map(function(at){return at.name}),J=0;J<g.length;J++){var ye=B.indexOf(g[J]);if(ye>=0)this.animations[ye].playing=b;else{var Oe=this.artboard.animationByName(g[J]);if(Oe){var nt=new _.Animation(Oe,this.artboard,this.runtime,b);nt.advance(0),nt.apply(1),this.animations.push(nt)}else console.error("Animation with name ".concat(g[J]," not found."))}}},O.prototype.initStateMachines=function(g,b){for(var B=this.stateMachines.map(function(at){return at.name}),J=0;J<g.length;J++){var ye=B.indexOf(g[J]);if(ye>=0)this.stateMachines[ye].playing=b;else{var Oe=this.artboard.stateMachineByName(g[J]);if(Oe){var nt=new k(Oe,this.runtime,b,this.artboard);this.stateMachines.push(nt)}else console.warn("State Machine with name ".concat(g[J]," not found.")),this.initLinearAnimations([g[J]],b)}}},O.prototype.play=function(g){return this.add(g,!0)},O.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},O.prototype.pause=function(g){return this.add(g,!1)},O.prototype.scrub=function(g,b){var B=this.animations.filter(function(J){return g.includes(J.name)});return B.forEach(function(J){return J.scrubTo=b}),B.map(function(J){return J.name})},Object.defineProperty(O.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),O.prototype.stop=function(g){var b=this;g=bt(g);var B=[];if(g.length===0)B=this.animations.map(function(Oe){return Oe.name}).concat(this.stateMachines.map(function(Oe){return Oe.name})),this.animations.forEach(function(Oe){return Oe.cleanup()}),this.stateMachines.forEach(function(Oe){return Oe.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var J=this.animations.filter(function(Oe){return g.includes(Oe.name)});J.forEach(function(Oe){Oe.cleanup(),b.animations.splice(b.animations.indexOf(Oe),1)});var ye=this.stateMachines.filter(function(Oe){return g.includes(Oe.name)});ye.forEach(function(Oe){Oe.cleanup(),b.stateMachines.splice(b.stateMachines.indexOf(Oe),1)}),B=J.map(function(Oe){return Oe.name}).concat(ye.map(function(Oe){return Oe.name}))}return this.eventManager.fire({type:I.Stop,data:B}),B},Object.defineProperty(O.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,b){return g||b.playing},!1)||this.stateMachines.reduce(function(g,b){return g||b.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),O.prototype.atLeastOne=function(g,b){b===void 0&&(b=!0);var B;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([B=this.artboard.animationByIndex(0).name],g,b):this.artboard.stateMachineCount()>0&&this.add([B=this.artboard.stateMachineByIndex(0).name],g,b)),B},O.prototype.handleLooping=function(){for(var g=0,b=this.animations.filter(function(J){return J.playing});g<b.length;g++){var B=b[g];B.loopValue===0&&B.loopCount?(B.loopCount=0,this.stop(B.name)):B.loopValue===1&&B.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:B.name,type:U.Loop}}),B.loopCount=0):B.loopValue===2&&B.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:B.name,type:U.PingPong}}),B.loopCount=0)}},O.prototype.handleStateChanges=function(){for(var g=[],b=0,B=this.stateMachines.filter(function(ye){return ye.playing});b<B.length;b++){var J=B[b];g.push.apply(g,J.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},O.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},O})(),I;(function(O){O.Load="load",O.LoadError="loaderror",O.Play="play",O.Pause="pause",O.Stop="stop",O.Loop="loop",O.Draw="draw",O.Advance="advance",O.StateChange="statechange",O.RiveEvent="riveevent",O.AudioStatusChange="audiostatuschange"})(I||(I={}));var U;(function(O){O.OneShot="oneshot",O.Loop="loop",O.PingPong="pingpong"})(U||(U={}));var D=(function(){function O(g){g===void 0&&(g=[]),this.listeners=g}return O.prototype.getListeners=function(g){return this.listeners.filter(function(b){return b.type===g})},O.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},O.prototype.remove=function(g){for(var b=0;b<this.listeners.length;b++){var B=this.listeners[b];if(B.type===g.type&&B.callback===g.callback){this.listeners.splice(b,1);break}}},O.prototype.removeAll=function(g){var b=this;g?this.listeners.filter(function(B){return B.type===g}).forEach(function(B){return b.remove(B)}):this.listeners.splice(0,this.listeners.length)},O.prototype.fire=function(g){var b=this.getListeners(g.type);b.forEach(function(B){return B.callback(g)})},O})(),G=(function(){function O(g){this.eventManager=g,this.queue=[]}return O.prototype.add=function(g){this.queue.push(g)},O.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},O})(),te;(function(O){O[O.AVAILABLE=0]="AVAILABLE",O[O.UNAVAILABLE=1]="UNAVAILABLE"})(te||(te={}));var Y=(function(O){A(g,O);function g(){var b=O!==null&&O.apply(this,arguments)||this;return b._started=!1,b._enabled=!1,b._status=te.UNAVAILABLE,b}return g.prototype.delay=function(b){return x(this,void 0,void 0,function(){return R(this,function(B){return[2,new Promise(function(J){return setTimeout(J,b)})]})})},g.prototype.timeout=function(){return x(this,void 0,void 0,function(){return R(this,function(b){return[2,new Promise(function(B,J){return setTimeout(J,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return x(this,void 0,void 0,function(){return R(this,function(b){return this._enabled||(this._enabled=!0,this._status=te.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return x(this,void 0,void 0,function(){return R(this,function(b){switch(b.label){case 0:if(!(this._status===te.UNAVAILABLE&&this._audioContext!==null))return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return b.sent(),this.enableAudio(),[3,4];case 3:return b.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return x(this,void 0,void 0,function(){return R(this,function(b){switch(b.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),b.label=2;case 2:return this._status!==te.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return b.sent(),[4,this.delay(1e3)];case 4:return b.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var b=this,B=function(){return x(b,void 0,void 0,function(){return R(this,function(J){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",B,{once:!0})},g.prototype.establishAudio=function(){return x(this,void 0,void 0,function(){return R(this,function(b){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===te.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(D),Z=new Y,Ae=(function(){function O(){}return O.prototype.observe=function(){},O.prototype.unobserve=function(){},O.prototype.disconnect=function(){},O})(),pe=globalThis.ResizeObserver||Ae,Ne=(function(){function O(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(b){var B=g._elementsMap.get(b.target);B!==null?B.onResize(b.target.clientWidth==0||b.target.clientHeight==0):g._resizeObserver.unobserve(b.target)},this._onObserved=function(b){b.forEach(g._onObservedEntry)},this._resizeObserver=new pe(this._onObserved)}return O.prototype.add=function(g,b){var B={onResize:b,element:g};return this._elementsMap.set(g,B),this._resizeObserver.observe(g),B},O.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},O})(),F=new Ne,ce=(function(){function O(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new D,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return O.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},O.prototype.initData=function(){return x(this,void 0,void 0,function(){var g,b,B,J,ye;return R(this,function(Oe){switch(Oe.label){case 0:return this.src?(g=this,[4,Br(this.src)]):[3,2];case 1:g.buffer=Oe.sent(),Oe.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(B=new v.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),b=B.assetLoader),J=this,[4,this.runtime.load(new Uint8Array(this.buffer),b,this.enableRiveAssetCDN)]);case 3:return J.file=Oe.sent(),ye=new v.FileFinalizer(this.file),v.finalizationRegistry.register(this,ye),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(O.fileLoadErrorMessage),[2])}})})},O.prototype.init=function(){return x(this,void 0,void 0,function(){var g,b;return R(this,function(B){switch(B.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(O.missingErrorMessage),[2];B.label=1;case 1:return B.trys.push([1,4,,5]),g=this,[4,je.awaitInstance()];case 2:return g.runtime=B.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return B.sent(),[3,5];case 4:return b=B.sent(),this.fireLoadError(b instanceof Error?b.message:O.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},O.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},O.prototype.on=function(g,b){this.eventManager.add({type:g,callback:b})},O.prototype.off=function(g,b){this.eventManager.remove({type:g,callback:b})},O.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.destroyed=!0)},O.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},O.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},O.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},O.prototype.getArtboard=function(g){var b=this.file.artboardByName(g);return b!=null?new q(b):null},O.missingErrorMessage="Rive source file or data buffer required",O.fileLoadErrorMessage="The file failed to load",O})(),_e=(function(){function O(g){var b=this,B;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(J){var ye=b._hasZeroSize!==J;b._hasZeroSize=J,J?(!b._layout.maxX||!b._layout.maxY)&&b.resizeToCanvas():ye&&b.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=F.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(B=g.layout)!==null&&B!==void 0?B:new be,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new D,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new G(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(O.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),O.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new O(g)},O.prototype.onSystemAudioChanged=function(){this.volume=this._volume},O.prototype.init=function(g){var b=this,B=g.src,J=g.buffer,ye=g.riveFile,Oe=g.animations,nt=g.stateMachines,at=g.artboard,qe=g.autoplay,Ze=qe===void 0?!1:qe,ft=g.useOffscreenRenderer,Tt=ft===void 0?!1:ft,rn=g.autoBind,ni=rn===void 0?!1:rn;if(!this.destroyed){if(this.src=B,this.buffer=J,this.riveFile=ye,!this.src&&!this.buffer&&!this.riveFile)throw new se(O.missingErrorMessage);var fi=bt(Oe),_n=bt(nt);this.loaded=!1,this.readyForPlaying=!1,je.awaitInstance().then(function(On){b.destroyed||(b.runtime=On,b.removeRiveListeners(),b.deleteRiveRenderer(),b.renderer=b.runtime.makeRenderer(b.canvas,Tt),b.canvas.width||b.canvas.height||b.resizeDrawingSurfaceToCanvas(),b.initData(at,fi,_n,Ze,ni).then(function(Ht){if(Ht)return b.setupRiveListeners()}).catch(function(Ht){console.error(Ht)}))}).catch(function(On){console.error(On)})}},O.prototype.setupRiveListeners=function(g){var b=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var B=(this.animator.stateMachines||[]).filter(function(ye){return ye.playing&&b.runtime.hasListeners(ye.instance)}).map(function(ye){return ye.instance}),J=this.isTouchScrollEnabled;g&&"isTouchScrollEnabled"in g&&(J=g.isTouchScrollEnabled),this.eventCleanup=(0,v.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:B,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:J,layoutScaleFactor:this._layout.layoutScaleFactor})}},O.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},O.prototype.initializeAudio=function(){var g=this,b;Z.status==te.UNAVAILABLE&&!((b=this.artboard)===null||b===void 0)&&b.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},Z.add(this._audioEventListener),Z.establishAudio())},O.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},O.prototype.initData=function(g,b,B,J,ye){return x(this,void 0,void 0,function(){var Oe,nt,at,qe;return R(this,function(Ze){switch(Ze.label){case 0:return Ze.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Oe=new ce({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Oe,[4,Oe.init()]);case 1:if(Ze.sent(),this.destroyed)return Oe.destroyIfUnused(),[2,!1];Ze.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,b,B,J,ye),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(qe=this.src)!==null&&qe!==void 0?qe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return nt=Ze.sent(),at=re(nt),console.warn(at),this.eventManager.fire({type:I.LoadError,data:at}),[2,Promise.reject(at)];case 4:return[2]}})})},O.prototype.initArtboard=function(g,b,B,J,ye){if(this.file){var Oe=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Oe){var nt="Invalid artboard name or no default artboard";console.warn(nt),this.eventManager.fire({type:I.LoadError,data:nt});return}this.artboard=Oe,Oe.volume=this._volume*Z.systemVolume,this.animator=new z(this.runtime,this.artboard,this.eventManager);var at;if(b.length>0||B.length>0?(at=b.concat(B),this.animator.initLinearAnimations(b,J),this.animator.initStateMachines(B,J)):at=[this.animator.atLeastOne(J,!1)],this.taskQueue.add({event:{type:J?I.Play:I.Pause,data:at}}),ye){var qe=this.file.defaultArtboardViewModel(Oe);if(qe!==null){var Ze=qe.defaultInstance();if(Ze!==null){var ft=new Ke(Ze,null);this.bindViewModelInstance(ft)}}}}},O.prototype.drawFrame=function(){var g,b;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(b=this.runtime)===null||b===void 0||b.resolveAnimationFrame()):this.startRendering()},O.prototype.draw=function(g,b){var B;this.frameRequestId=null;var J=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,b?.());var ye=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Oe=this.animator.animations.filter(function(Vn){return Vn.playing||Vn.needsScrub}).sort(function(Vn){return Vn.needsScrub?-1:1}),nt=0,at=Oe;nt<at.length;nt++){var qe=at[nt];qe.advance(ye),qe.instance.didLoop&&(qe.loopCount+=1),qe.apply(1)}for(var Ze=this.animator.stateMachines.filter(function(Vn){return Vn.playing}),ft=0,Tt=Ze;ft<Tt.length;ft++){var rn=Tt[ft],ni=rn.reportedEventCount();if(ni)for(var fi=0;fi<ni;fi++){var _n=rn.reportedEventAt(fi);if(_n)if(_n.type===V.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:_n}),this.automaticallyHandleEvents){var On=document.createElement("a"),Ht=_n,Jn=Ht.url,Zn=Ht.target,xn=(0,v.sanitizeUrl)(Jn);Jn&&On.setAttribute("href",xn),Zn&&On.setAttribute("target",Zn),xn&&xn!==v.BLANK_URL&&On.click()}}else this.eventManager.fire({type:I.RiveEvent,data:_n})}rn.advanceAndApply(ye)}this.animator.stateMachines.length==0&&this.artboard.advance(ye);var it=this.renderer;it.clear(),it.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(it),it.restore(),it.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(ye),this.frameCount++;var Ct=performance.now();for(this.frameTimes.push(Ct),this.durations.push(Ct-J);this.frameTimes[0]<=Ct-1e3;)this.frameTimes.shift(),this.durations.shift();(B=this._viewModelInstance)===null||B===void 0||B.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},O.prototype.alignRenderer=function(){var g=this,b=g.renderer,B=g.runtime,J=g._layout,ye=g.artboard;b.align(J.runtimeFit(B),J.runtimeAlignment(B),{minX:J.minX,minY:J.minY,maxX:J.maxX,maxY:J.maxY},ye.bounds,this._devicePixelRatioUsed*J.layoutScaleFactor)},Object.defineProperty(O.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,b){return g+b},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),O.prototype.cleanup=function(){var g,b;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&F.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(Z.remove(this._audioEventListener),this._audioEventListener=null),(b=this._viewModelInstance)===null||b===void 0||b.cleanup(),this._viewModelInstance=null,this._dataEnums=null},O.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},O.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},O.prototype.retrieveTextRun=function(g){var b;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var B=this.artboard.textRun(g);if(!B){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((b=this.artboard)===null||b===void 0?void 0:b.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return B},O.prototype.getTextRunValue=function(g){var b=this.retrieveTextRun(g);return b?b.text:void 0},O.prototype.setTextRunValue=function(g,b){var B=this.retrieveTextRun(g);B&&(B.text=b)},O.prototype.play=function(g,b){var B=this;if(g=bt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return B.play(g,b)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},O.prototype.pause=function(g){var b=this;if(g=bt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return b.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},O.prototype.scrub=function(g,b){var B=this;if(g=bt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return B.scrub(g,b)}});return}this.animator.scrub(g,b||0),this.drawFrame()},O.prototype.stop=function(g){var b=this;if(g=bt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return b.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},O.prototype.reset=function(g){var b,B,J=g?.artboard,ye=bt(g?.animations),Oe=bt(g?.stateMachines),nt=(b=g?.autoplay)!==null&&b!==void 0?b:!1,at=(B=g?.autoBind)!==null&&B!==void 0?B:!1;this.cleanupInstances(),this.initArtboard(J,ye,Oe,nt,at),this.taskQueue.process()},O.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(O.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),O.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},O.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var b=this.canvas.getBoundingClientRect(),B=b.width,J=b.height,ye=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=ye,this.canvas.width=ye*B,this.canvas.height=ye*J,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===ee.Layout){var Oe=this._layout.layoutScaleFactor;this.artboard.width=B/Oe,this.artboard.height=J/Oe}}},Object.defineProperty(O.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],b=0;b<this.artboard.animationCount();b++)g.push(this.artboard.animationByIndex(b).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],b=0;b<this.artboard.stateMachineCount();b++)g.push(this.artboard.stateMachineByIndex(b).name);return g},enumerable:!1,configurable:!0}),O.prototype.stateMachineInputs=function(g){if(this.loaded){var b=this.animator.stateMachines.find(function(B){return B.name===g});return b?.inputs}},O.prototype.retrieveInputAtPath=function(g,b){if(!g){console.warn("No input name provided for path '".concat(b,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(b,"', but the Artboard is null"));return}var B=this.artboard.inputByPath(g,b);if(!B){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(b,"'"));return}return B},O.prototype.setBooleanStateAtPath=function(g,b,B){var J=this.retrieveInputAtPath(g,B);J&&(J.type===we.Boolean?J.asBool().value=b:console.warn("Input with name: '".concat(g,"', at path:'").concat(B,"' is not a boolean")))},O.prototype.setNumberStateAtPath=function(g,b,B){var J=this.retrieveInputAtPath(g,B);J&&(J.type===we.Number?J.asNumber().value=b:console.warn("Input with name: '".concat(g,"', at path:'").concat(B,"' is not a number")))},O.prototype.fireStateAtPath=function(g,b){var B=this.retrieveInputAtPath(g,b);B&&(B.type===we.Trigger?B.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(b,"' is not a trigger")))},O.prototype.retrieveTextAtPath=function(g,b){if(!g){console.warn("No text name provided for path '".concat(b,"'"));return}if(!b){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(b,"', but the Artboard is null"));return}var B=this.artboard.textByPath(g,b);if(!B){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(b,"'"));return}return B},O.prototype.getTextRunValueAtPath=function(g,b){var B=this.retrieveTextAtPath(g,b);if(!B){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(b,"'"));return}return B.text},O.prototype.setTextRunValueAtPath=function(g,b,B){var J=this.retrieveTextAtPath(g,B);if(!J){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(B,"'"));return}J.text=b},Object.defineProperty(O.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),O.prototype.on=function(g,b){this.eventManager.add({type:g,callback:b})},O.prototype.off=function(g,b){this.eventManager.remove({type:g,callback:b})},O.prototype.unsubscribe=function(g,b){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,b)},O.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},O.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},O.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},O.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},O.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},O.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(O.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},b=0;b<this.file.artboardCount();b++){for(var B=this.file.artboardByIndex(b),J={name:B.name,animations:[],stateMachines:[]},ye=0;ye<B.animationCount();ye++){var Oe=B.animationByIndex(ye);J.animations.push(Oe.name)}for(var nt=0;nt<B.stateMachineCount();nt++){for(var at=B.stateMachineByIndex(nt),qe=at.name,Ze=new this.runtime.StateMachineInstance(at,B),ft=[],Tt=0;Tt<Ze.inputCount();Tt++){var rn=Ze.input(Tt);ft.push({name:rn.name,type:rn.type})}J.stateMachines.push({name:qe,inputs:ft})}g.artboards.push(J)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*Z.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),O.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(O.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),O.prototype.bindViewModelInstance=function(g){var b;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(b=this._viewModelInstance)===null||b===void 0||b.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(B){return B.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(O.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),O.prototype.viewModelByIndex=function(g){var b=this.file.viewModelByIndex(g);return b!==null?new Se(b):null},O.prototype.viewModelByName=function(g){var b=this.file.viewModelByName(g);return b!==null?new Se(b):null},O.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(b){return new Ue(b)})}return this._dataEnums},O.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Se(g)}return null},O.prototype.getArtboard=function(g){var b,B;return(B=(b=this.riveFile)===null||b===void 0?void 0:b.getArtboard(g))!==null&&B!==void 0?B:null},O.missingErrorMessage="Rive source file or data buffer required",O.cleanupErrorMessage="Attempt to use file after calling cleanup.",O})(),Se=(function(){function O(g){this._viewModel=g}return Object.defineProperty(O.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),O.prototype.instanceByIndex=function(g){var b=this._viewModel.instanceByIndex(g);return b!==null?new Ke(b,null):null},O.prototype.instanceByName=function(g){var b=this._viewModel.instanceByName(g);return b!==null?new Ke(b,null):null},O.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();return g!==null?new Ke(g,null):null},O.prototype.instance=function(){var g=this._viewModel.instance();return g!==null?new Ke(g,null):null},Object.defineProperty(O.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),O})(),Ue=(function(){function O(g){this._dataEnum=g}return Object.defineProperty(O.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),O})(),Pe;(function(O){O.Number="number",O.String="string",O.Boolean="boolean",O.Color="color",O.Trigger="trigger",O.Enum="enum",O.List="list",O.Image="image",O.Artboard="artboard"})(Pe||(Pe={}));var Ke=(function(){function O(g,b){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=g,b!==null&&this._parents.push(b)}return Object.defineProperty(O.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),O.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},O.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},O.prototype.removeParent=function(g){var b=this._parents.indexOf(g);if(b!==-1){var B=this._parents[b];B.removeFromViewModelCallbacks(this),this._parents.splice(b,1)}},O.prototype.addToPropertyCallbacks=function(g){var b=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(B){B.addToViewModelCallbacks(b)}))},O.prototype.removeFromPropertyCallbacks=function(g){var b=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(B){return B!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(B){B.removeFromViewModelCallbacks(b)}))},O.prototype.addToViewModelCallbacks=function(g){var b=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(B){B.addToViewModelCallbacks(b)}))},O.prototype.removeFromViewModelCallbacks=function(g){var b=this;this._children.includes(g)&&(this._children=this._children.filter(function(B){return B!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(B){B.removeFromViewModelCallbacks(b)}))},O.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},O.prototype.propertyFromPath=function(g,b){var B=g.split("/");return this.propertyFromPathSegments(B,0,b)},O.prototype.viewModelFromPathSegments=function(g,b){var B=this.internalViewModelInstance(g[b]);return B!==null?b==g.length-1?B:B.viewModelFromPathSegments(g,b++):null},O.prototype.propertyFromPathSegments=function(g,b,B){var J,ye,Oe,nt,at,qe,Ze,ft,Tt,rn,ni,fi,_n,On,Ht,Jn,Zn,xn;if(b<g.length-1){var it=this.internalViewModelInstance(g[b]);return it!==null?it.propertyFromPathSegments(g,b+1,B):null}var Ct=null;switch(B){case Pe.Number:if(Ct=(ye=(J=this._runtimeInstance)===null||J===void 0?void 0:J.number(g[b]))!==null&&ye!==void 0?ye:null,Ct!==null)return new Jt(Ct,this);break;case Pe.String:if(Ct=(nt=(Oe=this._runtimeInstance)===null||Oe===void 0?void 0:Oe.string(g[b]))!==null&&nt!==void 0?nt:null,Ct!==null)return new gt(Ct,this);break;case Pe.Boolean:if(Ct=(qe=(at=this._runtimeInstance)===null||at===void 0?void 0:at.boolean(g[b]))!==null&&qe!==void 0?qe:null,Ct!==null)return new nn(Ct,this);break;case Pe.Color:if(Ct=(ft=(Ze=this._runtimeInstance)===null||Ze===void 0?void 0:Ze.color(g[b]))!==null&&ft!==void 0?ft:null,Ct!==null)return new Ft(Ct,this);break;case Pe.Trigger:if(Ct=(rn=(Tt=this._runtimeInstance)===null||Tt===void 0?void 0:Tt.trigger(g[b]))!==null&&rn!==void 0?rn:null,Ct!==null)return new Je(Ct,this);break;case Pe.Enum:if(Ct=(fi=(ni=this._runtimeInstance)===null||ni===void 0?void 0:ni.enum(g[b]))!==null&&fi!==void 0?fi:null,Ct!==null)return new yt(Ct,this);break;case Pe.List:if(Ct=(On=(_n=this._runtimeInstance)===null||_n===void 0?void 0:_n.list(g[b]))!==null&&On!==void 0?On:null,Ct!==null)return new zt(Ct,this);break;case Pe.Image:if(Ct=(Jn=(Ht=this._runtimeInstance)===null||Ht===void 0?void 0:Ht.image(g[b]))!==null&&Jn!==void 0?Jn:null,Ct!==null)return new ci(Ct,this);break;case Pe.Artboard:if(Ct=(xn=(Zn=this._runtimeInstance)===null||Zn===void 0?void 0:Zn.artboard(g[b]))!==null&&xn!==void 0?xn:null,Ct!==null)return new hi(Ct,this);break}return null},O.prototype.internalViewModelInstance=function(g){var b;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var B=(b=this._runtimeInstance)===null||b===void 0?void 0:b.viewModel(g);if(B!==null){var J=new O(B,this);return J.internalIncrementReferenceCount(),this._viewModelInstances.set(g,J),J}return null},O.prototype.number=function(g){var b=this.propertyFromPath(g,Pe.Number);return b},O.prototype.string=function(g){var b=this.propertyFromPath(g,Pe.String);return b},O.prototype.boolean=function(g){var b=this.propertyFromPath(g,Pe.Boolean);return b},O.prototype.color=function(g){var b=this.propertyFromPath(g,Pe.Color);return b},O.prototype.trigger=function(g){var b=this.propertyFromPath(g,Pe.Trigger);return b},O.prototype.enum=function(g){var b=this.propertyFromPath(g,Pe.Enum);return b},O.prototype.list=function(g){var b=this.propertyFromPath(g,Pe.List);return b},O.prototype.image=function(g){var b=this.propertyFromPath(g,Pe.Image);return b},O.prototype.artboard=function(g){var b=this.propertyFromPath(g,Pe.Artboard);return b},O.prototype.viewModel=function(g){var b=g.split("/"),B=b.length>1?this.viewModelFromPathSegments(b.slice(0,b.length-1),0):this;return B!=null?B.internalViewModelInstance(b[b.length-1]):null},O.prototype.internalReplaceViewModel=function(g,b){var B;if(b.runtimeInstance!==null){var J=((B=this._runtimeInstance)===null||B===void 0?void 0:B.replaceViewModel(g,b.runtimeInstance))||!1;if(J){b.internalIncrementReferenceCount();var ye=this.internalViewModelInstance(g);ye!==null&&(ye.removeParent(this),this._children.includes(ye)&&(this._children=this._children.filter(function(Oe){return Oe!==ye})),ye.cleanup()),this._viewModelInstances.set(g,b),b.addParent(this)}return J}return!1},O.prototype.replaceViewModel=function(g,b){var B,J=g.split("/"),ye=J.length>1?this.viewModelFromPathSegments(J.slice(0,J.length-1),0):this;return(B=ye?.internalReplaceViewModel(J[J.length-1],b))!==null&&B!==void 0?B:!1},O.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},O.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(O.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(b){return N({},b)}))||[]},enumerable:!1,configurable:!0}),O.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},O.prototype.cleanup=function(){var g=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(J){J.cleanup()}),this._viewModelInstances.clear();var b=K([],this._children,!0);this._children.length=0;var B=K([],this._parents,!0);this._parents.length=0,b.forEach(function(J){J.removeParent(g)}),B.forEach(function(J){J.removeFromViewModelCallbacks(g)})}},O})(),st=(function(){function O(g,b){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=b}return O.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},O.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(b){return b!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},O.prototype.internalHandleCallback=function(g){},O.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(b){g.internalHandleCallback(b)})},O.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},O.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(O.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),O})(),gt=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(b){this._viewModelInstanceValue.value=b},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(b){b(this.value)},g})(st),Jt=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(b){this._viewModelInstanceValue.value=b},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(b){b(this.value)},g})(st),nn=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(b){this._viewModelInstanceValue.value=b},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(b){b(this.value)},g})(st),Je=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(b){b()},g})(st),yt=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(b){this._viewModelInstanceValue.value=b},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(b){this._viewModelInstanceValue.valueIndex=b},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(b){b(this.value)},g})(st),zt=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(b){b.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(b.runtimeInstance),b.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(b,B){return b.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(b.runtimeInstance,B)?(b.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(b){b.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(b.runtimeInstance),b.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(b){this._viewModelInstanceValue.removeInstanceAt(b)},g.prototype.instanceAt=function(b){var B=this._viewModelInstanceValue.instanceAt(b);if(B!=null){var J=new Ke(B,this._parentViewModel);return J}return null},g.prototype.swap=function(b,B){this._viewModelInstanceValue.swap(b,B)},g.prototype.internalHandleCallback=function(b){b()},g})(st),Ft=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(b){this._viewModelInstanceValue.value=b},enumerable:!1,configurable:!0}),g.prototype.rgb=function(b,B,J){this._viewModelInstanceValue.rgb(b,B,J)},g.prototype.rgba=function(b,B,J,ye){this._viewModelInstanceValue.argb(ye,b,B,J)},g.prototype.argb=function(b,B,J,ye){this._viewModelInstanceValue.argb(b,B,J,ye)},g.prototype.alpha=function(b){this._viewModelInstanceValue.alpha(b)},g.prototype.opacity=function(b){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,b))*255))},g.prototype.internalHandleCallback=function(b){b(this.value)},g})(st),ci=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{set:function(b){var B;this._viewModelInstanceValue.value((B=b?.nativeImage)!==null&&B!==void 0?B:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(b){b()},g})(st),hi=(function(O){A(g,O);function g(b,B){return O.call(this,b,B)||this}return Object.defineProperty(g.prototype,"value",{set:function(b){var B;this._viewModelInstanceValue.value((B=b?.nativeArtboard)!==null&&B!==void 0?B:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(b){b()},g})(st),Br=function(O){return x(void 0,void 0,void 0,function(){var g,b,B;return R(this,function(J){switch(J.label){case 0:return g=new Request(O),[4,fetch(g)];case 1:return b=J.sent(),[4,b.arrayBuffer()];case 2:return B=J.sent(),[2,B]}})})},bt=function(O){return typeof O=="string"?[O]:O instanceof Array?O:[]},pn={EventManager:D,TaskQueueManager:G},ki=function(O){return x(void 0,void 0,void 0,function(){var g,b,B;return R(this,function(J){switch(J.label){case 0:return g=new Promise(function(ye){return je.getInstance(function(Oe){Oe.decodeAudio(O,ye)})}),[4,g];case 1:return b=J.sent(),B=new v.AudioWrapper(b),v.finalizationRegistry.register(B,b),[2,B]}})})},Zs=function(O){return x(void 0,void 0,void 0,function(){var g,b,B;return R(this,function(J){switch(J.label){case 0:return g=new Promise(function(ye){return je.getInstance(function(Oe){Oe.decodeImage(O,ye)})}),[4,g];case 1:return b=J.sent(),B=new v.ImageWrapper(b),v.finalizationRegistry.register(B,b),[2,B]}})})},Ci=function(O){return x(void 0,void 0,void 0,function(){var g,b,B;return R(this,function(J){switch(J.label){case 0:return g=new Promise(function(ye){return je.getInstance(function(Oe){Oe.decodeFont(O,ye)})}),[4,g];case 1:return b=J.sent(),B=new v.FontWrapper(b),v.finalizationRegistry.register(B,b),[2,B]}})})}})(),u})())})(_f)),_f.exports}var C0;function QS(){return C0||(C0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Xf(),n=KS();function s(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var o=s(e),u=function(){return u=Object.assign||function(I){for(var U,D=1,G=arguments.length;D<G;D++)for(var te in U=arguments[D])Object.prototype.hasOwnProperty.call(U,te)&&(I[te]=U[te]);return I},u.apply(this,arguments)};function h(I,U){var D={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&U.indexOf(G)<0&&(D[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var te=0;for(G=Object.getOwnPropertySymbols(I);te<G.length;te++)U.indexOf(G[te])<0&&Object.prototype.propertyIsEnumerable.call(I,G[te])&&(D[G[te]]=I[G[te]])}return D}function y(I,U,D,G){return new(D||(D=Promise))(function(te,Y){function Z(Ne){try{pe(G.next(Ne))}catch(F){Y(F)}}function Ae(Ne){try{pe(G.throw(Ne))}catch(F){Y(F)}}function pe(Ne){var F;Ne.done?te(Ne.value):(F=Ne.value,F instanceof D?F:new D(function(ce){ce(F)})).then(Z,Ae)}pe((G=G.apply(I,[])).next())})}function _(I,U){var D,G,te,Y,Z={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return Y={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Ae(pe){return function(Ne){return(function(F){if(D)throw new TypeError("Generator is already executing.");for(;Z;)try{if(D=1,G&&(te=2&F[0]?G.return:F[0]?G.throw||((te=G.return)&&te.call(G),0):G.next)&&!(te=te.call(G,F[1])).done)return te;switch(G=0,te&&(F=[2&F[0],te.value]),F[0]){case 0:case 1:te=F;break;case 4:return Z.label++,{value:F[1],done:!1};case 5:Z.label++,G=F[1],F=[0];continue;case 7:F=Z.ops.pop(),Z.trys.pop();continue;default:if(te=Z.trys,!((te=te.length>0&&te[te.length-1])||F[0]!==6&&F[0]!==2)){Z=0;continue}if(F[0]===3&&(!te||F[1]>te[0]&&F[1]<te[3])){Z.label=F[1];break}if(F[0]===6&&Z.label<te[1]){Z.label=te[1],te=F;break}if(te&&Z.label<te[2]){Z.label=te[2],Z.ops.push(F);break}te[2]&&Z.ops.pop(),Z.trys.pop();continue}F=U.call(I,Z)}catch(ce){F=[6,ce],G=0}finally{D=te=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}})([pe,Ne])}}}function v(I){var U=I||A(),D=e.useState(U),G=D[0],te=D[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var Y=function(){var Ae=I||A();te(Ae)},Z=window.matchMedia("screen and (resolution: ".concat(G,"dppx)"));return Z.hasOwnProperty("addEventListener")?Z.addEventListener("change",Y):Z.addListener(Y),function(){Z.hasOwnProperty("removeEventListener")?Z.removeEventListener("change",Y):Z.removeListener(Y)}}},[G,I]),G}function A(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var N=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),x=globalThis.ResizeObserver||N,R=globalThis.ResizeObserver!==void 0,K=!R;function se(I,U){U===void 0&&(U=!0);var D=e.useState({width:0,height:0}),G=D[0],te=D[1];e.useEffect(function(){if(typeof window<"u"&&U){var Ne=function(){te({width:window.innerWidth,height:window.innerHeight})};return K&&(Ne(),window.addEventListener("resize",Ne)),function(){return window.removeEventListener("resize",Ne)}}},[]);var Y,Z,Ae,pe=e.useRef(new x((Y=function(Ne){R&&te({width:Ne[Ne.length-1].contentRect.width,height:Ne[Ne.length-1].contentRect.height})},Z=0,Ae=0,function(){for(var Ne=this,F=[],ce=0;ce<arguments.length;ce++)F[ce]=arguments[ce];clearTimeout(Ae),Ae=window.setTimeout(function(){return Y.apply(Ne,F)},Z)})));return e.useEffect(function(){var Ne=pe.current;if(U){var F=I.current;return I.current&&R&&Ne.observe(I.current),function(){Ne.disconnect(),F&&R&&Ne.unobserve(F)}}Ne.disconnect()},[I,pe]),G}var re={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function ee(I){return Object.assign({},re,I)}function le(I){var U=I.riveLoaded,D=U!==void 0&&U,G=I.canvasElem,te=I.containerRef,Y=I.options,Z=Y===void 0?{}:Y,Ae=I.onCanvasHasResized,pe=I.artboardBounds,Ne=ee(Z),F=e.useState({height:0,width:0}),ce=F[0],_e=ce.height,Se=ce.width,Ue=F[1],Pe=e.useState({height:0,width:0}),Ke=Pe[0],st=Ke.height,gt=Ke.width,Jt=Pe[1],nn=e.useState(!0),Je=nn[0],yt=nn[1],zt=Ne.fitCanvasToArtboardHeight,Ft=Ne.shouldResizeCanvasToContainer,ci=Ne.useDevicePixelRatio,hi=Ne.customDevicePixelRatio,Br=se(te,Ft),bt=v(hi),pn=pe??{},ki=pn.maxX,Zs=pn.maxY,Ci=e.useCallback(function(){var O,g,b,B,J=(g=(O=te.current)===null||O===void 0?void 0:O.clientWidth)!==null&&g!==void 0?g:0,ye=(B=(b=te.current)===null||b===void 0?void 0:b.clientHeight)!==null&&B!==void 0?B:0;return zt&&pe?{width:J,height:J*(pe.maxY/pe.maxX)}:{width:J,height:ye}},[te,zt,ki,Zs]);e.useEffect(function(){if(Ft&&te.current&&D){var O=Ci(),g=O.width,b=O.height,B=!1;if(G){var J=g!==Se||b!==_e;if(Ne.fitCanvasToArtboardHeight&&J&&(te.current.style.height=b+"px",B=!0),Ne.useDevicePixelRatio){if(J||g*bt!==gt||b*bt!==st){var ye=bt*g,Oe=bt*b;G.width=ye,G.height=Oe,G.style.width=g+"px",G.style.height=b+"px",Jt({width:ye,height:Oe}),B=!0}}else J&&(G.width=g,G.height=b,Jt({width:g,height:b}),B=!0);Ue({width:g,height:b})}Ae&&(Je||B)&&Ae&&Ae(),Je&&yt(!1)}},[G,te,Br,bt,Ci,Je,yt,st,gt,_e,Se,Ae,Ft,zt,ci,D]),e.useEffect(function(){Jt({width:0,height:0})},[G])}var be,je=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),we=globalThis.IntersectionObserver||je,Me=(function(){function I(){var U=this;this.elementsMap=new Map,this.onObserved=function(D){D.forEach(function(G){var te=U.elementsMap.get(G.target);te&&te(G)})},this.observer=new we(this.onObserved)}return I.prototype.registerCallback=function(U,D){this.observer.observe(U),this.elementsMap.set(U,D)},I.prototype.removeCallback=function(U){this.observer.unobserve(U),this.elementsMap.delete(U)},I})(),V=function(){return be||(be=new Me),be};function q(I){var U=I.setContainerRef,D=I.setCanvasRef,G=I.className,te=G===void 0?"":G,Y=I.style,Z=I.children,Ae=h(I,["setContainerRef","setCanvasRef","className","style","children"]),pe=u({width:"100%",height:"100%"},Y);return o.default.createElement("div",u({ref:U,className:te},!te&&{style:pe}),o.default.createElement("canvas",u({ref:D,style:{verticalAlign:"top",width:0,height:0}},Ae),Z))}function k(I,U){U===void 0&&(U={});var D=e.useState(null),G=D[0],te=D[1],Y=e.useRef(null),Z=e.useRef(null),Ae=e.useState(null),pe=Ae[0],Ne=Ae[1],F=!!I,ce=ee(U),_e=v(),Se=e.useCallback(function(){if(pe){if(pe.layout&&pe.layout.fit===n.Fit.Layout&&G){var Je=_e*pe.layout.layoutScaleFactor;pe.devicePixelRatioUsed=_e,pe.artboardWidth=G?.width/Je,pe.artboardHeight=G?.height/Je}pe.startRendering(),pe.resizeToCanvas()}},[pe,_e]);le({riveLoaded:!!pe,canvasElem:G,containerRef:Y,options:ce,onCanvasHasResized:Se,artboardBounds:pe?.bounds});var Ue=e.useCallback(function(Je){Je===null&&G&&(G.height=0,G.width=0),te(Je)},[]);e.useEffect(function(){if(G&&I){var Je,yt=pe!=null;if(pe==null){var zt=ce.useOffscreenRenderer,Ft=I.onRiveReady,ci=h(I,["onRiveReady"]);Je=new n.Rive(u(u({useOffscreenRenderer:zt},ci),{canvas:G})),Z.current!=null&&Z.current.cleanup(),Z.current=Je,Je.on(n.EventType.Load,function(){yt=!0,Ft&&Ft(Je),G?Ne(Je):Je.cleanup()})}return function(){yt||Je==null||Je.cleanup()}}},[G,F,pe]);var Pe=e.useCallback(function(Je){Y.current=Je},[]),Ke={observe:e.useCallback(function(Je,yt){V().registerCallback(Je,yt)},[]),unobserve:e.useCallback(function(Je){V().removeCallback(Je)},[])},st=Ke.observe,gt=Ke.unobserve;e.useEffect(function(){var Je,yt=!1,zt=function(){if(G&&yt){var Ft=G.getBoundingClientRect();Ft.width>0&&Ft.height>0&&Ft.top<(window.innerHeight||document.documentElement.clientHeight)&&Ft.bottom>0&&Ft.left<(window.innerWidth||document.documentElement.clientWidth)&&Ft.right>0&&(pe?.startRendering(),yt=!1)}};return G&&ce.shouldUseIntersectionObserver!==!1&&st(G,function(Ft){Ft.isIntersecting?pe&&pe.startRendering():pe&&pe.stopRendering(),yt=!Ft.isIntersecting,clearTimeout(Je),Ft.isIntersecting||Ft.boundingClientRect.width!==0||(Je=setTimeout(zt,10))}),function(){G&&gt(G)}},[st,gt,pe,G,ce.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){pe&&(pe.cleanup(),Ne(null))}},[pe,G]),e.useEffect(function(){return function(){Z.current!=null&&Z.current.cleanup()}},[]);var Jt=I?.animations;e.useEffect(function(){pe&&Jt&&(pe.isPlaying?(pe.stop(pe.animationNames),pe.play(Jt)):pe.isPaused&&(pe.stop(pe.animationNames),pe.pause(Jt)))},[Jt,pe]);var nn=e.useCallback(function(Je){return o.default.createElement(q,u({setContainerRef:Pe,setCanvasRef:Ue},Je))},[Ue,Pe]);return{canvas:G,container:Y.current,setCanvasRef:Ue,setContainerRef:Pe,rive:pe,RiveComponent:nn}}function z(I,U,D){var G=e.useState(null),te=G[0],Y=G[1],Z=e.useState(D.defaultValue),Ae=Z[0],pe=Z[1],Ne=e.useState(null),F=Ne[0],ce=Ne[1],_e=e.useRef(null),Se=e.useRef(I),Ue=e.useRef(D);e.useEffect(function(){Ue.current=D},[D]);var Pe=e.useCallback(function(){var Jt=_e.current,nn=Se.current,Je=Ue.current;if(!Jt||!nn)return Y(null),pe(Je.defaultValue),ce(null),function(){};var yt=Je.getProperty(Jt,nn);if(yt){Y(yt),pe(Je.getValue(yt)),Je.getExtendedData&&ce(Je.getExtendedData(yt));var zt=function(){pe(Je.getValue(yt)),Je.getExtendedData&&ce(Je.getExtendedData(yt)),Je.onPropertyEvent&&Je.onPropertyEvent()};return yt.on(zt),function(){yt.off(zt)}}return function(){}},[]);e.useEffect(function(){return _e.current=U,Se.current=I,Pe()},[U,I,Pe]);var Ke=e.useCallback(function(Jt){if(te&&_e.current===U)try{return Jt(te),void(Ue.current.getExtendedData&&ce(Ue.current.getExtendedData(te)))}catch{}if(_e.current)try{var nn=Ue.current.getProperty(_e.current,Se.current);nn&&(Y(nn),Jt(nn),Ue.current.getExtendedData&&ce(Ue.current.getExtendedData(nn)))}catch{}},[te,U]),st=e.useMemo(function(){return Ue.current.buildPropertyOperations(Ke)},[Ke]),gt=u({value:Ae},st);return D.getExtendedData&&(gt.extendedData=F),gt}r.default=function(I){var U=I.src,D=I.artboard,G=I.animations,te=I.stateMachines,Y=I.layout,Z=I.useOffscreenRenderer,Ae=Z===void 0||Z,pe=I.shouldDisableRiveListeners,Ne=pe!==void 0&&pe,F=I.shouldResizeCanvasToContainer,ce=F===void 0||F,_e=I.automaticallyHandleEvents,Se=_e!==void 0&&_e,Ue=I.children,Pe=h(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),Ke=k({src:U,artboard:D,animations:G,layout:Y,stateMachines:te,autoplay:!0,shouldDisableRiveListeners:Ne,automaticallyHandleEvents:Se},{useOffscreenRenderer:Ae,shouldResizeCanvasToContainer:ce}).RiveComponent;return o.default.createElement(Ke,u({},Pe),Ue)},r.useResizeCanvas=le,r.useRive=k,r.useRiveFile=function(I){var U=this,D=e.useState(null),G=D[0],te=D[1],Y=e.useState("idle"),Z=Y[0],Ae=Y[1];return e.useEffect(function(){var pe=null;return y(U,void 0,void 0,function(){return _(this,function(Ne){try{Ae("loading"),(pe=new n.RiveFile(I)).init(),pe.on(n.EventType.Load,function(){pe?.getInstance(),te(pe),Ae("success")}),pe.on(n.EventType.LoadError,function(){Ae("failed")}),te(pe)}catch(F){console.error(F),Ae("failed")}return[2]})}),function(){pe?.cleanup()}},[I.src,I.buffer]),{riveFile:G,status:Z}},r.useStateMachineInput=function(I,U,D,G){var te=e.useState(null),Y=te[0],Z=te[1];return e.useEffect(function(){function Ae(){if(I&&U&&D||Z(null),I&&U&&D){var pe=I.stateMachineInputs(U);if(pe){var Ne=pe.find(function(F){return F.name===D});G!==void 0&&Ne&&(Ne.value=G),Z(Ne||null)}}else Z(null)}Ae(),I&&I.on(n.EventType.Load,function(){Ae()})},[I]),Y},r.useViewModel=function(I,U){var D=U??{},G=D.name,te=D.useDefault,Y=te!==void 0&&te,Z=e.useState(null),Ae=Z[0],pe=Z[1];return e.useEffect(function(){function Ne(){var F;if(I){var ce=null;ce=G!=null?((F=I.viewModelByName)===null||F===void 0?void 0:F.call(I,G))||null:I.defaultViewModel()||null,pe(ce)}else pe(null)}return Ne(),I&&I.on(n.EventType.Load,Ne),function(){I&&I.off(n.EventType.Load,Ne)}},[I,G,Y]),Ae},r.useViewModelInstance=function(I,U){var D=U??{},G=D.name,te=D.useDefault,Y=te!==void 0&&te,Z=D.useNew,Ae=Z!==void 0&&Z,pe=D.rive,Ne=e.useState(null),F=Ne[0],ce=Ne[1];return e.useEffect(function(){var _e,Se,Ue;if(I){var Pe=null;Pe=G!=null?I.instanceByName(G)||null:Y?((_e=I.defaultInstance)===null||_e===void 0?void 0:_e.call(I))||null:Ae?((Se=I.instance)===null||Se===void 0?void 0:Se.call(I))||null:((Ue=I.defaultInstance)===null||Ue===void 0?void 0:Ue.call(I))||null,ce(Pe),pe&&Pe&&pe.viewModelInstance!==Pe&&pe.bindViewModelInstance(Pe)}else ce(null)},[I,G,Y,Ae,pe]),F},r.useViewModelInstanceArtboard=function(I,U){return{setValue:z(I,U,{getProperty:e.useCallback(function(D,G){return D.artboard(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(D){return{setValue:function(G){D(function(te){te.value=G})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(I,U){var D=z(I,U,{getProperty:e.useCallback(function(G,te){return G.boolean(te)},[]),getValue:e.useCallback(function(G){return G.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(G){return{setValue:function(te){G(function(Y){Y.value=te})}}},[])});return{value:D.value,setValue:D.setValue}},r.useViewModelInstanceColor=function(I,U){var D=z(I,U,{getProperty:e.useCallback(function(G,te){return G.color(te)},[]),getValue:e.useCallback(function(G){return G.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(G){return{setValue:function(te){G(function(Y){Y.value=te})},setRgb:function(te,Y,Z){G(function(Ae){Ae.rgb(te,Y,Z)})},setRgba:function(te,Y,Z,Ae){G(function(pe){pe.rgba(te,Y,Z,Ae)})},setAlpha:function(te){G(function(Y){Y.alpha(te)})},setOpacity:function(te){G(function(Y){Y.opacity(te)})}}},[])});return{value:D.value,setValue:D.setValue,setRgb:D.setRgb,setRgba:D.setRgba,setAlpha:D.setAlpha,setOpacity:D.setOpacity}},r.useViewModelInstanceEnum=function(I,U){var D=z(I,U,{getProperty:e.useCallback(function(G,te){return G.enum(te)},[]),getValue:e.useCallback(function(G){return G.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(G){return G.values},[]),buildPropertyOperations:e.useCallback(function(G){return{setValue:function(te){G(function(Y){Y.value=te})}}},[])});return{value:D.value,values:D.extendedData||[],setValue:D.setValue}},r.useViewModelInstanceImage=function(I,U){return{setValue:z(I,U,{getProperty:e.useCallback(function(D,G){return D.image(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(D){return{setValue:function(G){D(function(te){te.value=G})}}},[])}).setValue}},r.useViewModelInstanceList=function(I,U){var D,G=e.useState(0)[1],te=z(I,U,{getProperty:e.useCallback(function(Y,Z){return Y.list(Z)},[]),getValue:e.useCallback(function(Y){return Y.length},[]),defaultValue:null,onPropertyEvent:function(){G(function(Y){return Y+1})},buildPropertyOperations:e.useCallback(function(Y){return{addInstance:function(Z){Y(function(Ae){return Ae.addInstance(Z)})},addInstanceAt:function(Z,Ae){var pe=!1;return Y(function(Ne){pe=Ne.addInstanceAt(Z,Ae)}),pe},removeInstance:function(Z){Y(function(Ae){return Ae.removeInstance(Z)})},removeInstanceAt:function(Z){Y(function(Ae){return Ae.removeInstanceAt(Z)})},getInstanceAt:function(Z){var Ae=null;return Y(function(pe){Ae=pe.instanceAt(Z)}),Ae},swap:function(Z,Ae){Y(function(pe){return pe.swap(Z,Ae)})}}},[])});return{length:(D=te.value)!==null&&D!==void 0?D:0,addInstance:te.addInstance,addInstanceAt:te.addInstanceAt,removeInstance:te.removeInstance,removeInstanceAt:te.removeInstanceAt,getInstanceAt:te.getInstanceAt,swap:te.swap}},r.useViewModelInstanceNumber=function(I,U){var D=z(I,U,{getProperty:e.useCallback(function(G,te){return G.number(te)},[]),getValue:e.useCallback(function(G){return G.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(G){return{setValue:function(te){G(function(Y){Y.value=te})}}},[])});return{value:D.value,setValue:D.setValue}},r.useViewModelInstanceString=function(I,U){var D=z(I,U,{getProperty:e.useCallback(function(G,te){return G.string(te)},[]),getValue:e.useCallback(function(G){return G.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(G){return{setValue:function(te){G(function(Y){Y.value=te})}}},[])});return{value:D.value,setValue:D.setValue}},r.useViewModelInstanceTrigger=function(I,U,D){var G=(D??{}).onTrigger;return{trigger:z(I,U,{getProperty:e.useCallback(function(te,Y){return te.trigger(Y)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:G,buildPropertyOperations:e.useCallback(function(te){return{trigger:function(){te(function(Y){Y.trigger()})}}},[])}).trigger}},Object.keys(n).forEach(function(I){I==="default"||r.hasOwnProperty(I)||Object.defineProperty(r,I,{enumerable:!0,get:function(){return n[I]}})})})(mm)),mm}var XS=QS();const JS="_container_n87u8_1",ZS={container:JS};function eC({onComplete:r}){const{RiveComponent:e,rive:n}=XS.useRive({src:"/images/splash-animation.riv",autoplay:!0});return X.useEffect(()=>{if(!n)return;const s=()=>{r&&r()};n.on("stop",s);const o=setTimeout(()=>{r&&r()},4e3);return()=>{n.off("stop",s),clearTimeout(o)}},[n,r]),M.jsx("div",{className:ZS.container,children:M.jsx(e,{style:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"}})})}const tC="_container_3z07y_1",nC="_helpIcon_3z07y_17",iC="_guestLink_3z07y_43",rC="_termsOfService_3z07y_60",cf={container:tC,helpIcon:nC,guestLink:iC,termsOfService:rC},sC="_button_7j09d_1",aC={button:sC};function Di({children:r,onClick:e,className:n}){return M.jsx("button",{className:`${aC.button} ${n||""}`,onClick:e,children:r})}const oC="_popup_1p1jb_1",lC="_content_1p1jb_14",uC="_closeButton_1p1jb_33",gm={popup:oC,content:lC,closeButton:uC};function bE({isOpen:r,onClose:e,children:n}){return r?M.jsx("div",{className:gm.popup,onClick:e,children:M.jsxs("div",{className:gm.content,onClick:s=>s.stopPropagation(),children:[n||M.jsx("p",{children:"StreamAware is a smart app that helps you easily find where movies and shows are available to stream, without having to search across multiple platforms. You can filter by audio language, subtitles, and country availability to quickly see what you can watch and where."}),M.jsx(Di,{className:gm.closeButton,onClick:e,children:"I Understand"})]})}):null}function cC(){const[r,e]=X.useState(!1),n=Li(),s=()=>{n("/signup")},o=()=>{n("/login")},u=_=>{_.preventDefault();try{localStorage.setItem("isGuest","1")}catch(v){console.warn("Could not set guest flag in localStorage",v)}n("/homepage")},h=()=>{e(!0)},y=()=>{e(!1)};return M.jsxs("div",{className:cf.container,children:[M.jsx("button",{onClick:h,className:cf.helpIcon,children:"?"}),M.jsx(Di,{onClick:s,children:"Sign Up"}),M.jsx(Di,{onClick:o,children:"Log In"}),M.jsx("div",{className:cf.guestLink,children:M.jsx("a",{href:"/homepage",onClick:u,children:"Continue as a guest"})}),M.jsx("p",{className:cf.termsOfService,children:"By continuing, you agree to our Terms of Service and Privacy Policy."}),M.jsx(bE,{isOpen:r,onClose:y})]})}const hC=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],y=r[n++],_=((o&7)<<18|(u&63)<<12|(h&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,y=h?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=u>>2,N=(u&3)<<4|y>>4;let x=(y&15)<<2|v>>6,R=v&63;_||(R=64,h||(x=64)),s.push(n[A],n[N],n[x],n[R])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(TE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],y=o<r.length?n[r.charAt(o)]:0;++o;const v=o<r.length?n[r.charAt(o)]:64;++o;const N=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||y==null||v==null||N==null)throw new dC;const x=u<<2|y>>4;if(s.push(x),v!==64){const R=y<<4&240|v>>2;if(s.push(R),N!==64){const K=v<<6&192|N;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pC=function(r){const e=TE(r);return AE.encodeByteArray(e,!0)},Of=function(r){return pC(r).replace(/\./g,"")},SE=function(r){try{return AE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>mC().__FIREBASE_DEFAULTS__,yC=()=>{if(typeof process>"u"||typeof R0>"u")return;const r=R0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&SE(r[1]);return e&&JSON.parse(e)},ed=()=>{try{return hC()||gC()||yC()||vC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CE=r=>ed()?.emulatorHosts?.[r],_C=r=>{const e=CE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RE=()=>ed()?.config,IE=r=>ed()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Of(JSON.stringify(n)),Of(JSON.stringify(h)),""].join(".")}const Mc={};function bC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?r.emulator.push(e):r.prod.push(e);return r}function TC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let I0=!1;function ME(r,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||Mc[r]===e||Mc[r]||I0)return;Mc[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=bC().prod.length>0;function h(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,R){x.setAttribute("width","24"),x.setAttribute("id",R),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{I0=!0,h()},x}function A(x,R){x.setAttribute("id",R),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function N(){const x=TC(s),R=n("text"),K=document.getElementById(R)||document.createElement("span"),se=n("learnmore"),re=document.getElementById(se)||document.createElement("a"),ee=n("preprendIcon"),le=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const be=x.element;y(be),A(re,se);const je=v();_(le,ee),be.append(le,K,re,je),document.body.appendChild(be)}u?(K.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vi())}function SC(){const r=ed()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NC(){const r=Vi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MC(){return!SC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="FirebaseError";class ka extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DC,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?PC(u,s):"Error",y=`${this.serviceName}: ${h} (${o}).`;return new ka(o,y,s)}}function PC(r,e){return r.replace(VC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const VC=/\{\$([^}]+)}/g;function LC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(N0(u)&&N0(h)){if(!xa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function N0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ac(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Sc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function kC(r,e){const n=new jC(r,e);return n.subscribe.bind(n)}class jC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");UC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r){return r&&r._delegate?r._delegate:r}class pl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FC(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);s===y&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zC(r){return r===hl?void 0:r}function FC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const qC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},GC=Pt.INFO,$C={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},YC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$C[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=GC,this._logHandler=YC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const WC=(r,e)=>e.some(n=>r instanceof n);let M0,O0;function KC(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QC(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Dm=new WeakMap,xE=new WeakMap,vm=new WeakMap,mg=new WeakMap;function XC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(So(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&OE.set(n,r)}).catch(()=>{}),mg.set(e,r),e}function JC(r){if(Dm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Dm.set(r,e)}let Pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return So(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ZC(r){Pm=r(Pm)}function eR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(_m(this),e,...n);return xE.set(s,e.sort?e.sort():[e]),So(s)}:QC().includes(r)?function(...e){return r.apply(_m(this),e),So(OE.get(this))}:function(...e){return So(r.apply(_m(this),e))}}function tR(r){return typeof r=="function"?eR(r):(r instanceof IDBTransaction&&JC(r),WC(r,KC())?new Proxy(r,Pm):r)}function So(r){if(r instanceof IDBRequest)return XC(r);if(vm.has(r))return vm.get(r);const e=tR(r);return e!==r&&(vm.set(r,e),mg.set(e,r)),e}const _m=r=>mg.get(r);function nR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),y=So(h);return s&&h.addEventListener("upgradeneeded",_=>{s(So(h.result),_.oldVersion,_.newVersion,So(h.transaction),_)}),n&&h.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),y.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const iR=["get","getKey","getAll","getAllKeys","count"],rR=["put","add","delete","clear"],wm=new Map;function x0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=rR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iR.includes(n)))return;const u=async function(h,...y){const _=this.transaction(h,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(y.shift())),(await Promise.all([v[n](...y),o&&_.done]))[0]};return wm.set(e,u),u}ZC(r=>({...r,get:(e,n,s)=>x0(e,n)||r.get(e,n,s),has:(e,n)=>!!x0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aR(r){return r.getComponent()?.type==="VERSION"}const Vm="@firebase/app",D0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new pg("@firebase/app"),oR="@firebase/app-compat",lR="@firebase/analytics-compat",uR="@firebase/analytics",cR="@firebase/app-check-compat",hR="@firebase/app-check",fR="@firebase/auth",dR="@firebase/auth-compat",pR="@firebase/database",mR="@firebase/data-connect",gR="@firebase/database-compat",yR="@firebase/functions",vR="@firebase/functions-compat",_R="@firebase/installations",wR="@firebase/installations-compat",ER="@firebase/messaging",bR="@firebase/messaging-compat",TR="@firebase/performance",AR="@firebase/performance-compat",SR="@firebase/remote-config",CR="@firebase/remote-config-compat",RR="@firebase/storage",IR="@firebase/storage-compat",NR="@firebase/firestore",MR="@firebase/ai",OR="@firebase/firestore-compat",xR="firebase",DR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",PR={[Vm]:"fire-core",[oR]:"fire-core-compat",[uR]:"fire-analytics",[lR]:"fire-analytics-compat",[hR]:"fire-app-check",[cR]:"fire-app-check-compat",[fR]:"fire-auth",[dR]:"fire-auth-compat",[pR]:"fire-rtdb",[mR]:"fire-data-connect",[gR]:"fire-rtdb-compat",[yR]:"fire-fn",[vR]:"fire-fn-compat",[_R]:"fire-iid",[wR]:"fire-iid-compat",[ER]:"fire-fcm",[bR]:"fire-fcm-compat",[TR]:"fire-perf",[AR]:"fire-perf-compat",[SR]:"fire-rc",[CR]:"fire-rc-compat",[RR]:"fire-gcs",[IR]:"fire-gcs-compat",[NR]:"fire-fst",[OR]:"fire-fst-compat",[MR]:"fire-vertex","fire-js":"fire-js",[xR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,VR=new Map,km=new Map;function P0(r,e){try{r.container.addComponent(e)}catch(n){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yu(r){const e=r.name;if(km.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,r);for(const n of xf.values())P0(n,r);for(const n of VR.values())P0(n,r);return!0}function gg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function is(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Yc("app","Firebase",LR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=DR;function DE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Lm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Co.create("bad-app-name",{appName:String(o)});if(n||(n=RE()),!n)throw Co.create("no-options");const u=xf.get(o);if(u){if(xa(n,u.options)&&xa(s,u.config))return u;throw Co.create("duplicate-app",{appName:o})}const h=new HC(o);for(const _ of km.values())h.addComponent(_);const y=new kR(n,s,h);return xf.set(o,y),y}function PE(r=Lm){const e=xf.get(r);if(!e&&r===Lm&&RE())return DE();if(!e)throw Co.create("no-app",{appName:r});return e}function Ro(r,e,n){let s=PR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Da.warn(h.join(" "));return}yu(new pl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",UR=1,jc="firebase-heartbeat-store";let Em=null;function VE(){return Em||(Em=nR(jR,UR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Co.create("idb-open",{originalErrorMessage:r.message})})),Em}async function BR(r){try{const n=(await VE()).transaction(jc),s=await n.objectStore(jc).get(LE(r));return await n.done,s}catch(e){if(e instanceof ka)Da.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e?.message});Da.warn(n.message)}}}async function V0(r,e){try{const s=(await VE()).transaction(jc,"readwrite");await s.objectStore(jc).put(e,LE(r)),await s.done}catch(n){if(n instanceof ka)Da.warn(n.message);else{const s=Co.create("idb-set",{originalErrorMessage:n?.message});Da.warn(s.message)}}}function LE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1024,FR=30;class HR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>FR){const o=$R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Da.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L0(),{heartbeatsToSend:n,unsentEntries:s}=qR(this._heartbeatsCache.heartbeats),o=Of(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Da.warn(e),""}}}function L0(){return new Date().toISOString().substring(0,10)}function qR(r,e=zR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),k0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k0(r){return Of(JSON.stringify({version:2,heartbeats:r})).length}function $R(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(r){yu(new pl("platform-logger",e=>new sR(e),"PRIVATE")),yu(new pl("heartbeat",e=>new HR(e),"PRIVATE")),Ro(Vm,D0,r),Ro(Vm,D0,"esm2020"),Ro("fire-js","")}YR("");var WR="firebase",KR="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro(WR,KR,"app");function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=kE,jE=new Yc("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new pg("@firebase/auth");function XR(r,...e){Df.logLevel<=Pt.WARN&&Df.warn(`Auth (${Mu}): ${r}`,...e)}function wf(r,...e){Df.logLevel<=Pt.ERROR&&Df.error(`Auth (${Mu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(r,...e){throw yg(r,...e)}function Hs(r,...e){return yg(r,...e)}function UE(r,e,n){const s={...QR(),[e]:n};return new Yc("auth","Firebase",s).create(e,{appName:r.name})}function Na(r){return UE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return jE.create(r,...e)}function lt(r,e,...n){if(!r)throw yg(e,...n)}function Ca(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wf(e),new Error(e)}function Pa(r,e){r||Ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){return typeof self<"u"&&self.location?.href||""}function JR(){return j0()==="http:"||j0()==="https:"}function j0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||RC()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pa(n>e,"Short delay should be less than long delay!"),this.isMobile=AC()||IC()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(r,e){Pa(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new Kc(3e4,6e4);function jo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Uo(r,e,n,s,o={}){return zE(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const y=Wc({key:r.config.apiKey,...h}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:_,...u};return CC()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Nu(r.emulatorConfig.host)&&(v.credentials="include"),BE.fetch()(await FE(r,r.config.apiHost,n,y),v)})}async function zE(r,e,n){r._canInitEmulator=!1;const s={...tI,...e};try{const o=new sI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hf(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const y=u.ok?h.errorMessage:h.error.message,[_,v]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(r,"credential-already-in-use",h);if(_==="EMAIL_EXISTS")throw hf(r,"email-already-in-use",h);if(_==="USER_DISABLED")throw hf(r,"user-disabled",h);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw UE(r,A,v);bs(r,A)}}catch(o){if(o instanceof ka)throw o;bs(r,"network-request-failed",{message:String(o)})}}async function Qc(r,e,n,s,o={}){const u=await Uo(r,e,n,s,o);return"mfaPendingCredential"in u&&bs(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function FE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?vg(r.config,o):`${r.config.apiScheme}://${o}`;return nI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function rI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hs(this.auth,"network-request-failed")),iI.get())})}}function hf(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hs(r,e,s);return o.customData._tokenResponse=n,o}function U0(r){return r!==void 0&&r.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(r,e){return Uo(r,"GET","/v2/recaptchaConfig",jo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,e){return Uo(r,"POST","/v1/accounts:delete",e)}async function Pf(r,e){return Uo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uI(r,e=!1){const n=ui(r),s=await n.getIdToken(e),o=_g(s);lt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Oc(bm(o.auth_time)),issuedAtTime:Oc(bm(o.iat)),expirationTime:Oc(bm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function _g(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const o=SE(n);return o?JSON.parse(o):(wf("Failed to decode base64 JWT payload"),null)}catch(o){return wf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B0(r){const e=_g(r);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ka&&cI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function cI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(r){const e=r.auth,n=await r.getIdToken(),s=await Uc(r,Pf(e,{idToken:n}));lt(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?HE(o.providerUserInfo):[],h=dI(r.providerData,u),y=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!h?.length,v=y?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,A)}async function fI(r){const e=ui(r);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function HE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){const n=await zE(r,{},async()=>{const s=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await FE(r,o,"/v1/token",`key=${u}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:s};return r.emulatorConfig&&Nu(r.emulatorConfig.host)&&(_.credentials="include"),BE.fetch()(h,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(r,e){return Uo(r,"POST","/v2/accounts:revokeToken",jo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=B0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new fu;return s&&(lt(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(lt(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(lt(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fu,this.toJSON())}_performRefresh(){return Ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r,e){lt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _s{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uI(this,e)}reload(){return fI(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(is(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await Uc(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,y=n.tenantId??void 0,_=n._redirectEventId??void 0,v=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:N,emailVerified:x,isAnonymous:R,providerData:K,stsTokenManager:se}=n;lt(N&&se,e,"internal-error");const re=fu.fromJSON(this.name,se);lt(typeof N=="string",e,"internal-error"),_o(s,e.name),_o(o,e.name),lt(typeof x=="boolean",e,"internal-error"),lt(typeof R=="boolean",e,"internal-error"),_o(u,e.name),_o(h,e.name),_o(y,e.name),_o(_,e.name),_o(v,e.name),_o(A,e.name);const ee=new _s({uid:N,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:u,tenantId:y,stsTokenManager:re,createdAt:v,lastLoginAt:A});return K&&Array.isArray(K)&&(ee.providerData=K.map(le=>({...le}))),_&&(ee._redirectEventId=_),ee}static async _fromIdTokenResponse(e,n,s=!1){const o=new fu;o.updateFromServerResponse(n);const u=new _s({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vf(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];lt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?HE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,y=new fu;y.updateFromIdToken(s);const _=new _s({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function Ra(r){Pa(r instanceof Function,"Expected a class definition");let e=z0.get(r);return e?(Pa(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,z0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qE.type="NONE";const F0=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r,e,n){return`firebase:${r}:${e}:${n}`}class du{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ef(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ef("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pf(this.auth,{idToken:e}).catch(()=>{});return n?_s._fromGetAccountInfoResponse(this.auth,n,e):null}return _s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new du(Ra(F0),e,s);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Ra(F0);const h=Ef(s,e.config.apiKey,e.name);let y=null;for(const v of n)try{const A=await v._get(h);if(A){let N;if(typeof A=="string"){const x=await Pf(e,{idToken:A}).catch(()=>{});if(!x)break;N=await _s._fromGetAccountInfoResponse(e,x,A)}else N=_s._fromJSON(e,A);v!==u&&(y=N),u=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new du(u,e,s):(u=_[0],y&&await u._set(h,y.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new du(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(XE(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||YE(e))&&!e.includes("edge/"))return"Chrome";if(KE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function GE(r=Vi()){return/firefox\//i.test(r)}function $E(r=Vi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YE(r=Vi()){return/crios\//i.test(r)}function WE(r=Vi()){return/iemobile/i.test(r)}function KE(r=Vi()){return/android/i.test(r)}function QE(r=Vi()){return/blackberry/i.test(r)}function XE(r=Vi()){return/webos/i.test(r)}function wg(r=Vi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gI(r=Vi()){return wg(r)&&!!window.navigator?.standalone}function yI(){return NC()&&document.documentMode===10}function JE(r=Vi()){return wg(r)||KE(r)||XE(r)||QE(r)||/windows phone/i.test(r)||WE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,e=[]){let n;switch(r){case"Browser":n=H0(Vi());break;case"Worker":n=`${H0(Vi())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,y)=>{try{const _=e(u);h(_)}catch(_){y(_)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(r,e={}){return Uo(r,"GET","/v2/passwordPolicy",jo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class EI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ra(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await du.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pf(this,{idToken:e}),s=await _s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(is(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===h)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(is(this.app))return Promise.reject(Na(this));const n=e?ui(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return is(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return is(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _I(this),n=new EI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ra(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[Ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(y,this,"internal-error"),y.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,o);return()=>{h=!0,_()}}else{const _=e.addObserver(n);return()=>{h=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _l(r){return ui(r)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=kC(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TI(r){td=r}function eb(r){return td.loadJS(r)}function AI(){return td.recaptchaEnterpriseScript}function SI(){return td.gapiScript}function CI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class RI{constructor(){this.enterprise=new II}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class II{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NI="recaptcha-enterprise",tb="NO_RECAPTCHA";class MI{constructor(e){this.type=NI,this.auth=_l(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,y)=>{oI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const v=new aI(_);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,h(v.siteKey)}}).catch(_=>{y(_)})})}function o(u,h,y){const _=window.grecaptcha;U0(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(v=>{h(v)}).catch(()=>{h(tb)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(y=>{if(!n&&U0(window.grecaptcha))o(y,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let _=AI();_.length!==0&&(_+=y),eb(_).then(()=>{o(y,u,h)}).catch(v=>{h(v)})}}).catch(y=>{h(y)})})}}async function G0(r,e,n,s=!1,o=!1){const u=new MI(r);let h;if(o)h=tb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const y={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const _=y.phoneEnrollmentInfo.phoneNumber,v=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const _=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return s?Object.assign(y,{captchaResp:h}):Object.assign(y,{captchaResponse:h}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function Bm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await G0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await G0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,e){const n=gg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(xa(u,e??{}))return o;bs(o,"already-initialized")}return n.initialize({options:e})}function xI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ra);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function DI(r,e,n){const s=_l(r);lt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=nb(e),{host:h,port:y}=PI(e),_=y===null?"":`:${y}`,v={url:`${u}//${h}${_}/`},A=Object.freeze({host:h,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){lt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),lt(xa(v,s.config.emulator)&&xa(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Nu(h)?(NE(`${u}//${h}${_}`),ME("Auth",!0)):VI()}function nb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function PI(r){const e=nb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:$0(h)}}}function $0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ca("not implemented")}_getIdTokenResponse(e){return Ca("not implemented")}_linkToIdToken(e,n){return Ca("not implemented")}_getReauthenticationResolver(e){return Ca("not implemented")}}async function LI(r,e){return Uo(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,e){return Qc(r,"POST","/v1/accounts:signInWithPassword",jo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",jo(r,e))}async function UI(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",jo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Eg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Bc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",kI);case"emailLink":return jI(e,{email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,s,"signUpPassword",LI);case"emailLink":return UI(e,{idToken:n,email:this._email,oobCode:this._password});default:bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r,e){return Qc(r,"POST","/v1/accounts:signInWithIdp",jo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="http://localhost";class ml extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ml(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return pu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,pu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pu(e,n)}buildRequest(){const e={requestUri:BI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FI(r){const e=Ac(Sc(r)).link,n=e?Ac(Sc(e)).deep_link_id:null,s=Ac(Sc(r)).deep_link_id;return(s?Ac(Sc(s)).link:null)||s||n||e||r}class bg{constructor(e){const n=Ac(Sc(e)),s=n.apiKey??null,o=n.oobCode??null,u=zI(n.mode??null);lt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FI(e);try{return new bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=bg.parseLink(n);return lt(s,"argument-error"),Bc._fromEmailAndCode(e,s.code,s.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Xc{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ml._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Eo.credential(n,s)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Xc{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.GITHUB_SIGN_IN_METHOD="github.com";bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Xc{constructor(){super("twitter.com")}static credential(e,n){return ml._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return To.credential(n,s)}catch{return null}}}To.TWITTER_SIGN_IN_METHOD="twitter.com";To.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e){return Qc(r,"POST","/v1/accounts:signUp",jo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await _s._fromIdTokenResponse(e,s,o),h=Y0(s);return new gl({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Y0(s);return new gl({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends ka{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lf(e,n,s,o)}}function rb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(r,u,e,s):u})}async function qI(r,e,n=!1){const s=await Uc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return gl._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,e,n=!1){const{auth:s}=r;if(is(s.app))return Promise.reject(Na(s));const o="reauthenticate";try{const u=await Uc(r,rb(s,o,e,r),n);lt(u.idToken,s,"internal-error");const h=_g(u.idToken);lt(h,s,"internal-error");const{sub:y}=h;return lt(r.uid===y,s,"user-mismatch"),gl._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&bs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(r,e,n=!1){if(is(r.app))return Promise.reject(Na(r));const s="signIn",o=await rb(r,s,e),u=await gl._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function $I(r,e){return sb(_l(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(r){const e=_l(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YI(r,e,n){if(is(r.app))return Promise.reject(Na(r));const s=_l(r),h=await Bm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HI).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&ab(r),_}),y=await gl._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(y.user),y}function WI(r,e,n){return is(r.app)?Promise.reject(Na(r)):$I(ui(r),Ou.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ab(r),s})}function KI(r,e,n,s){return ui(r).onIdTokenChanged(e,n,s)}function QI(r,e,n){return ui(r).beforeAuthStateChanged(e,n)}function XI(r){return ui(r).signOut()}async function JI(r){return ui(r).delete()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e3,e2=10;class lb extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,y,_)=>{this.notifyListeners(h,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);yI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,e2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lb.type="LOCAL";const t2=lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ub.type="SESSION";const cb=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new nd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(h).map(async v=>v(n.origin,u)),_=await n2(y);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((y,_)=>{const v=Tg("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(N){const x=N;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(x.data.response);break;default:clearTimeout(A),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function r2(r){qs().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function s2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a2(){return navigator?.serviceWorker?.controller||null}function o2(){return hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebaseLocalStorageDb",l2=1,jf="firebaseLocalStorage",db="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(r,e){return r.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function u2(){const r=indexedDB.deleteDatabase(fb);return new Jc(r).toPromise()}function zm(){const r=indexedDB.open(fb,l2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jf,{keyPath:db})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jf)?e(s):(s.close(),await u2(),e(await zm()))})})}async function W0(r,e,n){const s=id(r,!0).put({[db]:e,value:n});return new Jc(s).toPromise()}async function c2(r,e){const n=id(r,!1).get(e),s=await new Jc(n).toPromise();return s===void 0?null:s.value}function K0(r,e){const n=id(r,!0).delete(e);return new Jc(n).toPromise()}const h2=800,f2=3;class pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>f2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(o2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await s2(),!this.activeServiceWorker)return;this.sender=new i2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await W0(e,kf,"1"),await K0(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>W0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>c2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=id(o,!1).getAll();return new Jc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pb.type="LOCAL";const d2=pb;new Kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r,e){return e?Ra(e):(lt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m2(r){return sb(r.auth,new Ag(r),r.bypassAuthState)}function g2(r){const{auth:e,user:n}=r;return lt(n,e,"internal-error"),GI(n,new Ag(r),r.bypassAuthState)}async function y2(r){const{auth:e,user:n}=r;return lt(n,e,"internal-error"),qI(n,new Ag(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:y}=e;if(h){this.reject(h);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:bs(this.auth,"internal-error")}}resolve(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Kc(2e3,1e4);class hu extends mb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){Pa(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v2.get())};e()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="pendingRedirect",bf=new Map;class w2 extends mb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const s=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(r,e){const n=A2(e),s=T2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function b2(r,e){bf.set(r._key(),e)}function T2(r){return Ra(r._redirectPersistence)}function A2(r){return Ef(_2,r.config.apiKey,r.name)}async function S2(r,e,n=!1){if(is(r.app))return Promise.reject(Na(r));const s=_l(r),o=p2(s,e),h=await new w2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=600*1e3;class R2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function I2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(r,e={}){return Uo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O2=/^https?/;async function x2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await N2(r);for(const n of e)try{if(D2(n))return}catch{}bs(r,"unauthorized-domain")}function D2(r){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!O2.test(n))return!1;if(M2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Kc(3e4,6e4);function X0(){const r=qs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function V2(r){return new Promise((e,n)=>{function s(){X0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X0(),n(Hs(r,"network-request-failed"))},timeout:P2.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)s();else{const o=CI("iframefcb");return qs()[o]=()=>{gapi.load?s():n(Hs(r,"network-request-failed"))},eb(`${SI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Tf=null,e})}let Tf=null;function L2(r){return Tf=Tf||V2(r),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Kc(5e3,15e3),j2="__/auth/iframe",U2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(r){const e=r.config;lt(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?vg(e,U2):`https://${r.config.authDomain}/${j2}`,s={apiKey:e.apiKey,appName:r.name,v:Mu},o=z2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wc(s).slice(1)}`}async function H2(r){const e=await L2(r),n=qs().gapi;return lt(n,r,"internal-error"),e.open({where:document.body,url:F2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Hs(r,"network-request-failed"),y=qs().setTimeout(()=>{u(h)},k2.get());function _(){qs().clearTimeout(y),o(s)}s.ping(_).then(_,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,$2=600,Y2="_blank",W2="http://localhost";class J0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,e,n,s=G2,o=$2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const _={...q2,width:s.toString(),height:o.toString(),top:u,left:h},v=Vi().toLowerCase();n&&(y=YE(v)?Y2:n),GE(v)&&(e=e||W2,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[R,K])=>`${x}${R}=${K},`,"");if(gI(v)&&y!=="_self")return Q2(e||"",y),new J0(null);const N=window.open(e||"",y,A);lt(N,r,"popup-blocked");try{N.focus()}catch{}return new J0(N)}function Q2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",J2="emulator/auth/handler",Z2=encodeURIComponent("fac");async function Z0(r,e,n,s,o,u){lt(r.config.authDomain,r,"auth-domain-config-required"),lt(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Mu,eventId:o};if(e instanceof ib){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",LC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,N]of Object.entries({}))h[A]=N}if(e instanceof Xc){const A=e.getScopes().filter(N=>N!=="");A.length>0&&(h.scopes=A.join(","))}r.tenantId&&(h.tid=r.tenantId);const y=h;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const _=await r._getAppCheckToken(),v=_?`#${Z2}=${encodeURIComponent(_)}`:"";return`${eN(r)}?${Wc(y).slice(1)}${v}`}function eN({config:r}){return r.emulator?vg(r,J2):`https://${r.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=S2,this._overrideRedirectResult=b2}async _openPopup(e,n,s,o){Pa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Z0(e,n,s,jm(),o);return K2(e,u,Tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Z0(e,n,s,jm(),o);return r2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await H2(e),s=new R2(e);return n.register("authEvent",o=>(lt(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JE()||$E()||wg()}}const nN=tN;var ew="@firebase/auth",tw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sN(r){yu(new pl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:y}=s.options;lt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:h,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(r)},v=new bI(s,o,u,_);return xI(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yu(new pl("auth-internal",e=>{const n=_l(e.getProvider("auth").getImmediate());return(s=>new iN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ro(ew,tw,rN(r)),Ro(ew,tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=300,oN=IE("authIdTokenMaxAge")||aN;let nw=null;const lN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oN)return;const o=n?.token;nw!==o&&(nw=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uN(r=PE()){const e=gg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=OI(r,{popupRedirectResolver:nN,persistence:[d2,t2,cb]}),s=IE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=lN(u.toString());QI(n,h,()=>h(n.currentUser)),KI(n,y=>h(y))}}const o=CE("auth");return o&&DI(n,`http://${o}`),n}function cN(){return document.getElementsByTagName("head")?.[0]??document}TI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Hs("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",cN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sN("Browser");var iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,yb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,q){function k(){}k.prototype=q.prototype,V.F=q.prototype,V.prototype=new k,V.prototype.constructor=V,V.D=function(z,I,U){for(var D=Array(arguments.length-2),G=2;G<arguments.length;G++)D[G-2]=arguments[G];return q.prototype[I].apply(z,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,q,k){k||(k=0);const z=Array(16);if(typeof q=="string")for(var I=0;I<16;++I)z[I]=q.charCodeAt(k++)|q.charCodeAt(k++)<<8|q.charCodeAt(k++)<<16|q.charCodeAt(k++)<<24;else for(I=0;I<16;++I)z[I]=q[k++]|q[k++]<<8|q[k++]<<16|q[k++]<<24;q=V.g[0],k=V.g[1],I=V.g[2];let U=V.g[3],D;D=q+(U^k&(I^U))+z[0]+3614090360&4294967295,q=k+(D<<7&4294967295|D>>>25),D=U+(I^q&(k^I))+z[1]+3905402710&4294967295,U=q+(D<<12&4294967295|D>>>20),D=I+(k^U&(q^k))+z[2]+606105819&4294967295,I=U+(D<<17&4294967295|D>>>15),D=k+(q^I&(U^q))+z[3]+3250441966&4294967295,k=I+(D<<22&4294967295|D>>>10),D=q+(U^k&(I^U))+z[4]+4118548399&4294967295,q=k+(D<<7&4294967295|D>>>25),D=U+(I^q&(k^I))+z[5]+1200080426&4294967295,U=q+(D<<12&4294967295|D>>>20),D=I+(k^U&(q^k))+z[6]+2821735955&4294967295,I=U+(D<<17&4294967295|D>>>15),D=k+(q^I&(U^q))+z[7]+4249261313&4294967295,k=I+(D<<22&4294967295|D>>>10),D=q+(U^k&(I^U))+z[8]+1770035416&4294967295,q=k+(D<<7&4294967295|D>>>25),D=U+(I^q&(k^I))+z[9]+2336552879&4294967295,U=q+(D<<12&4294967295|D>>>20),D=I+(k^U&(q^k))+z[10]+4294925233&4294967295,I=U+(D<<17&4294967295|D>>>15),D=k+(q^I&(U^q))+z[11]+2304563134&4294967295,k=I+(D<<22&4294967295|D>>>10),D=q+(U^k&(I^U))+z[12]+1804603682&4294967295,q=k+(D<<7&4294967295|D>>>25),D=U+(I^q&(k^I))+z[13]+4254626195&4294967295,U=q+(D<<12&4294967295|D>>>20),D=I+(k^U&(q^k))+z[14]+2792965006&4294967295,I=U+(D<<17&4294967295|D>>>15),D=k+(q^I&(U^q))+z[15]+1236535329&4294967295,k=I+(D<<22&4294967295|D>>>10),D=q+(I^U&(k^I))+z[1]+4129170786&4294967295,q=k+(D<<5&4294967295|D>>>27),D=U+(k^I&(q^k))+z[6]+3225465664&4294967295,U=q+(D<<9&4294967295|D>>>23),D=I+(q^k&(U^q))+z[11]+643717713&4294967295,I=U+(D<<14&4294967295|D>>>18),D=k+(U^q&(I^U))+z[0]+3921069994&4294967295,k=I+(D<<20&4294967295|D>>>12),D=q+(I^U&(k^I))+z[5]+3593408605&4294967295,q=k+(D<<5&4294967295|D>>>27),D=U+(k^I&(q^k))+z[10]+38016083&4294967295,U=q+(D<<9&4294967295|D>>>23),D=I+(q^k&(U^q))+z[15]+3634488961&4294967295,I=U+(D<<14&4294967295|D>>>18),D=k+(U^q&(I^U))+z[4]+3889429448&4294967295,k=I+(D<<20&4294967295|D>>>12),D=q+(I^U&(k^I))+z[9]+568446438&4294967295,q=k+(D<<5&4294967295|D>>>27),D=U+(k^I&(q^k))+z[14]+3275163606&4294967295,U=q+(D<<9&4294967295|D>>>23),D=I+(q^k&(U^q))+z[3]+4107603335&4294967295,I=U+(D<<14&4294967295|D>>>18),D=k+(U^q&(I^U))+z[8]+1163531501&4294967295,k=I+(D<<20&4294967295|D>>>12),D=q+(I^U&(k^I))+z[13]+2850285829&4294967295,q=k+(D<<5&4294967295|D>>>27),D=U+(k^I&(q^k))+z[2]+4243563512&4294967295,U=q+(D<<9&4294967295|D>>>23),D=I+(q^k&(U^q))+z[7]+1735328473&4294967295,I=U+(D<<14&4294967295|D>>>18),D=k+(U^q&(I^U))+z[12]+2368359562&4294967295,k=I+(D<<20&4294967295|D>>>12),D=q+(k^I^U)+z[5]+4294588738&4294967295,q=k+(D<<4&4294967295|D>>>28),D=U+(q^k^I)+z[8]+2272392833&4294967295,U=q+(D<<11&4294967295|D>>>21),D=I+(U^q^k)+z[11]+1839030562&4294967295,I=U+(D<<16&4294967295|D>>>16),D=k+(I^U^q)+z[14]+4259657740&4294967295,k=I+(D<<23&4294967295|D>>>9),D=q+(k^I^U)+z[1]+2763975236&4294967295,q=k+(D<<4&4294967295|D>>>28),D=U+(q^k^I)+z[4]+1272893353&4294967295,U=q+(D<<11&4294967295|D>>>21),D=I+(U^q^k)+z[7]+4139469664&4294967295,I=U+(D<<16&4294967295|D>>>16),D=k+(I^U^q)+z[10]+3200236656&4294967295,k=I+(D<<23&4294967295|D>>>9),D=q+(k^I^U)+z[13]+681279174&4294967295,q=k+(D<<4&4294967295|D>>>28),D=U+(q^k^I)+z[0]+3936430074&4294967295,U=q+(D<<11&4294967295|D>>>21),D=I+(U^q^k)+z[3]+3572445317&4294967295,I=U+(D<<16&4294967295|D>>>16),D=k+(I^U^q)+z[6]+76029189&4294967295,k=I+(D<<23&4294967295|D>>>9),D=q+(k^I^U)+z[9]+3654602809&4294967295,q=k+(D<<4&4294967295|D>>>28),D=U+(q^k^I)+z[12]+3873151461&4294967295,U=q+(D<<11&4294967295|D>>>21),D=I+(U^q^k)+z[15]+530742520&4294967295,I=U+(D<<16&4294967295|D>>>16),D=k+(I^U^q)+z[2]+3299628645&4294967295,k=I+(D<<23&4294967295|D>>>9),D=q+(I^(k|~U))+z[0]+4096336452&4294967295,q=k+(D<<6&4294967295|D>>>26),D=U+(k^(q|~I))+z[7]+1126891415&4294967295,U=q+(D<<10&4294967295|D>>>22),D=I+(q^(U|~k))+z[14]+2878612391&4294967295,I=U+(D<<15&4294967295|D>>>17),D=k+(U^(I|~q))+z[5]+4237533241&4294967295,k=I+(D<<21&4294967295|D>>>11),D=q+(I^(k|~U))+z[12]+1700485571&4294967295,q=k+(D<<6&4294967295|D>>>26),D=U+(k^(q|~I))+z[3]+2399980690&4294967295,U=q+(D<<10&4294967295|D>>>22),D=I+(q^(U|~k))+z[10]+4293915773&4294967295,I=U+(D<<15&4294967295|D>>>17),D=k+(U^(I|~q))+z[1]+2240044497&4294967295,k=I+(D<<21&4294967295|D>>>11),D=q+(I^(k|~U))+z[8]+1873313359&4294967295,q=k+(D<<6&4294967295|D>>>26),D=U+(k^(q|~I))+z[15]+4264355552&4294967295,U=q+(D<<10&4294967295|D>>>22),D=I+(q^(U|~k))+z[6]+2734768916&4294967295,I=U+(D<<15&4294967295|D>>>17),D=k+(U^(I|~q))+z[13]+1309151649&4294967295,k=I+(D<<21&4294967295|D>>>11),D=q+(I^(k|~U))+z[4]+4149444226&4294967295,q=k+(D<<6&4294967295|D>>>26),D=U+(k^(q|~I))+z[11]+3174756917&4294967295,U=q+(D<<10&4294967295|D>>>22),D=I+(q^(U|~k))+z[2]+718787259&4294967295,I=U+(D<<15&4294967295|D>>>17),D=k+(U^(I|~q))+z[9]+3951481745&4294967295,V.g[0]=V.g[0]+q&4294967295,V.g[1]=V.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+I&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.v=function(V,q){q===void 0&&(q=V.length);const k=q-this.blockSize,z=this.C;let I=this.h,U=0;for(;U<q;){if(I==0)for(;U<=k;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<q;)if(z[I++]=V.charCodeAt(U++),I==this.blockSize){o(this,z),I=0;break}}else for(;U<q;)if(z[I++]=V[U++],I==this.blockSize){o(this,z),I=0;break}}this.h=I,this.o+=q},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var q=1;q<V.length-8;++q)V[q]=0;q=this.o*8;for(var k=V.length-8;k<V.length;++k)V[k]=q&255,q/=256;for(this.v(V),V=Array(16),q=0,k=0;k<4;++k)for(let z=0;z<32;z+=8)V[q++]=this.g[k]>>>z&255;return V};function u(V,q){var k=y;return Object.prototype.hasOwnProperty.call(k,V)?k[V]:k[V]=q(V)}function h(V,q){this.h=q;const k=[];let z=!0;for(let I=V.length-1;I>=0;I--){const U=V[I]|0;z&&U==q||(k[I]=U,z=!1)}this.g=k}var y={};function _(V){return-128<=V&&V<128?u(V,function(q){return new h([q|0],q<0?-1:0)}):new h([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return N;if(V<0)return re(v(-V));const q=[];let k=1;for(let z=0;V>=k;z++)q[z]=V/k|0,k*=4294967296;return new h(q,0)}function A(V,q){if(V.length==0)throw Error("number format error: empty string");if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(V.charAt(0)=="-")return re(A(V.substring(1),q));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=v(Math.pow(q,8));let z=N;for(let U=0;U<V.length;U+=8){var I=Math.min(8,V.length-U);const D=parseInt(V.substring(U,U+I),q);I<8?(I=v(Math.pow(q,I)),z=z.j(I).add(v(D))):(z=z.j(k),z=z.add(v(D)))}return z}var N=_(0),x=_(1),R=_(16777216);r=h.prototype,r.m=function(){if(se(this))return-re(this).m();let V=0,q=1;for(let k=0;k<this.g.length;k++){const z=this.i(k);V+=(z>=0?z:4294967296+z)*q,q*=4294967296}return V},r.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(se(this))return"-"+re(this).toString(V);const q=v(Math.pow(V,6));var k=this;let z="";for(;;){const I=je(k,q).g;k=ee(k,I.j(q));let U=((k.g.length>0?k.g[0]:k.h)>>>0).toString(V);if(k=I,K(k))return U+z;for(;U.length<6;)U="0"+U;z=U+z}},r.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(let q=0;q<V.g.length;q++)if(V.g[q]!=0)return!1;return!0}function se(V){return V.h==-1}r.l=function(V){return V=ee(this,V),se(V)?-1:K(V)?0:1};function re(V){const q=V.g.length,k=[];for(let z=0;z<q;z++)k[z]=~V.g[z];return new h(k,~V.h).add(x)}r.abs=function(){return se(this)?re(this):this},r.add=function(V){const q=Math.max(this.g.length,V.g.length),k=[];let z=0;for(let I=0;I<=q;I++){let U=z+(this.i(I)&65535)+(V.i(I)&65535),D=(U>>>16)+(this.i(I)>>>16)+(V.i(I)>>>16);z=D>>>16,U&=65535,D&=65535,k[I]=D<<16|U}return new h(k,k[k.length-1]&-2147483648?-1:0)};function ee(V,q){return V.add(re(q))}r.j=function(V){if(K(this)||K(V))return N;if(se(this))return se(V)?re(this).j(re(V)):re(re(this).j(V));if(se(V))return re(this.j(re(V)));if(this.l(R)<0&&V.l(R)<0)return v(this.m()*V.m());const q=this.g.length+V.g.length,k=[];for(var z=0;z<2*q;z++)k[z]=0;for(z=0;z<this.g.length;z++)for(let I=0;I<V.g.length;I++){const U=this.i(z)>>>16,D=this.i(z)&65535,G=V.i(I)>>>16,te=V.i(I)&65535;k[2*z+2*I]+=D*te,le(k,2*z+2*I),k[2*z+2*I+1]+=U*te,le(k,2*z+2*I+1),k[2*z+2*I+1]+=D*G,le(k,2*z+2*I+1),k[2*z+2*I+2]+=U*G,le(k,2*z+2*I+2)}for(V=0;V<q;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=q;V<2*q;V++)k[V]=0;return new h(k,0)};function le(V,q){for(;(V[q]&65535)!=V[q];)V[q+1]+=V[q]>>>16,V[q]&=65535,q++}function be(V,q){this.g=V,this.h=q}function je(V,q){if(K(q))throw Error("division by zero");if(K(V))return new be(N,N);if(se(V))return q=je(re(V),q),new be(re(q.g),re(q.h));if(se(q))return q=je(V,re(q)),new be(re(q.g),q.h);if(V.g.length>30){if(se(V)||se(q))throw Error("slowDivide_ only works with positive integers.");for(var k=x,z=q;z.l(V)<=0;)k=we(k),z=we(z);var I=Me(k,1),U=Me(z,1);for(z=Me(z,2),k=Me(k,2);!K(z);){var D=U.add(z);D.l(V)<=0&&(I=I.add(k),U=D),z=Me(z,1),k=Me(k,1)}return q=ee(V,I.j(q)),new be(I,q)}for(I=N;V.l(q)>=0;){for(k=Math.max(1,Math.floor(V.m()/q.m())),z=Math.ceil(Math.log(k)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),U=v(k),D=U.j(q);se(D)||D.l(V)>0;)k-=z,U=v(k),D=U.j(q);K(U)&&(U=x),I=I.add(U),V=ee(V,D)}return new be(I,V)}r.B=function(V){return je(this,V).h},r.and=function(V){const q=Math.max(this.g.length,V.g.length),k=[];for(let z=0;z<q;z++)k[z]=this.i(z)&V.i(z);return new h(k,this.h&V.h)},r.or=function(V){const q=Math.max(this.g.length,V.g.length),k=[];for(let z=0;z<q;z++)k[z]=this.i(z)|V.i(z);return new h(k,this.h|V.h)},r.xor=function(V){const q=Math.max(this.g.length,V.g.length),k=[];for(let z=0;z<q;z++)k[z]=this.i(z)^V.i(z);return new h(k,this.h^V.h)};function we(V){const q=V.g.length+1,k=[];for(let z=0;z<q;z++)k[z]=V.i(z)<<1|V.i(z-1)>>>31;return new h(k,V.h)}function Me(V,q){const k=q>>5;q%=32;const z=V.g.length-k,I=[];for(let U=0;U<z;U++)I[U]=q>0?V.i(U+k)>>>q|V.i(U+k+1)<<32-q:V.i(U+k);return new h(I,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,yb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=A,Io=h}).apply(typeof iw<"u"?iw:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vb,Cc,_b,Af,Fm,wb,Eb,bb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var E=0;E<c.length;++E){var S=c[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(c,E){if(E)e:{var S=s;c=c.split(".");for(var j=0;j<c.length-1;j++){var oe=c[j];if(!(oe in S))break e;S=S[oe]}c=c[c.length-1],j=S[c],E=E(j),E!=j&&E!=null&&e(S,c,{configurable:!0,writable:!0,value:E})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(E){var S=[],j;for(j in E)Object.prototype.hasOwnProperty.call(E,j)&&S.push([j,E[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function y(c){var E=typeof c;return E=="object"&&c!=null||E=="function"}function _(c,E,S){return c.call.apply(c.bind,arguments)}function v(c,E,S){return v=_,v.apply(null,arguments)}function A(c,E){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function N(c,E){function S(){}S.prototype=E.prototype,c.Z=E.prototype,c.prototype=new S,c.prototype.constructor=c,c.Ob=function(j,oe,me){for(var ke=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ke[ct-2]=arguments[ct];return E.prototype[oe].apply(j,ke)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function R(c){const E=c.length;if(E>0){const S=Array(E);for(let j=0;j<E;j++)S[j]=c[j];return S}return[]}function K(c,E){for(let j=1;j<arguments.length;j++){const oe=arguments[j];var S=typeof oe;if(S=S!="object"?S:oe?Array.isArray(oe)?"array":S:"null",S=="array"||S=="object"&&typeof oe.length=="number"){S=c.length||0;const me=oe.length||0;c.length=S+me;for(let ke=0;ke<me;ke++)c[S+ke]=oe[ke]}else c.push(oe)}}class se{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function re(c){h.setTimeout(()=>{throw c},0)}function ee(){var c=V;let E=null;return c.g&&(E=c.g,c.g=c.g.next,c.g||(c.h=null),E.next=null),E}class le{constructor(){this.h=this.g=null}add(E,S){const j=be.get();j.set(E,S),this.h?this.h.next=j:this.g=j,this.h=j}}var be=new se(()=>new je,c=>c.reset());class je{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Me=!1,V=new le,q=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(k)}};function k(){for(var c;c=ee();){try{c.h.call(c.g)}catch(S){re(S)}var E=be;E.j(c),E.h<100&&(E.h++,c.next=E.g,E.g=c)}Me=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,E){this.type=c,this.g=this.target=E,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,E=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function G(c,E){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,E)}N(G,I),G.prototype.init=function(c,E){const S=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=E,E=c.relatedTarget,E||(S=="mouseover"?E=c.fromElement:S=="mouseout"&&(E=c.toElement)),this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),Y=0;function Z(c,E,S,j,oe){this.listener=c,this.proxy=null,this.src=E,this.type=S,this.capture=!!j,this.ha=oe,this.key=++Y,this.da=this.fa=!1}function Ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pe(c,E,S){for(const j in c)E.call(S,c[j],j,c)}function Ne(c,E){for(const S in c)E.call(void 0,c[S],S,c)}function F(c){const E={};for(const S in c)E[S]=c[S];return E}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(c,E){let S,j;for(let oe=1;oe<arguments.length;oe++){j=arguments[oe];for(S in j)c[S]=j[S];for(let me=0;me<ce.length;me++)S=ce[me],Object.prototype.hasOwnProperty.call(j,S)&&(c[S]=j[S])}}function Se(c){this.src=c,this.g={},this.h=0}Se.prototype.add=function(c,E,S,j,oe){const me=c.toString();c=this.g[me],c||(c=this.g[me]=[],this.h++);const ke=Pe(c,E,j,oe);return ke>-1?(E=c[ke],S||(E.fa=!1)):(E=new Z(E,this.src,me,!!j,oe),E.fa=S,c.push(E)),E};function Ue(c,E){const S=E.type;if(S in c.g){var j=c.g[S],oe=Array.prototype.indexOf.call(j,E,void 0),me;(me=oe>=0)&&Array.prototype.splice.call(j,oe,1),me&&(Ae(E),c.g[S].length==0&&(delete c.g[S],c.h--))}}function Pe(c,E,S,j){for(let oe=0;oe<c.length;++oe){const me=c[oe];if(!me.da&&me.listener==E&&me.capture==!!S&&me.ha==j)return oe}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),st={};function gt(c,E,S,j,oe){if(Array.isArray(E)){for(let me=0;me<E.length;me++)gt(c,E[me],S,j,oe);return null}return S=Br(S),c&&c[te]?c.J(E,S,y(j)?!!j.capture:!1,oe):Jt(c,E,S,!1,j,oe)}function Jt(c,E,S,j,oe,me){if(!E)throw Error("Invalid event type");const ke=y(oe)?!!oe.capture:!!oe;let ct=ci(c);if(ct||(c[Ke]=ct=new Se(c)),S=ct.add(E,S,j,ke,me),S.proxy)return S;if(j=nn(),S.proxy=j,j.src=c,j.listener=S,c.addEventListener)U||(oe=ke),oe===void 0&&(oe=!1),c.addEventListener(E.toString(),j,oe);else if(c.attachEvent)c.attachEvent(zt(E.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function nn(){function c(S){return E.call(c.src,c.listener,S)}const E=Ft;return c}function Je(c,E,S,j,oe){if(Array.isArray(E))for(var me=0;me<E.length;me++)Je(c,E[me],S,j,oe);else j=y(j)?!!j.capture:!!j,S=Br(S),c&&c[te]?(c=c.i,me=String(E).toString(),me in c.g&&(E=c.g[me],S=Pe(E,S,j,oe),S>-1&&(Ae(E[S]),Array.prototype.splice.call(E,S,1),E.length==0&&(delete c.g[me],c.h--)))):c&&(c=ci(c))&&(E=c.g[E.toString()],c=-1,E&&(c=Pe(E,S,j,oe)),(S=c>-1?E[c]:null)&&yt(S))}function yt(c){if(typeof c!="number"&&c&&!c.da){var E=c.src;if(E&&E[te])Ue(E.i,c);else{var S=c.type,j=c.proxy;E.removeEventListener?E.removeEventListener(S,j,c.capture):E.detachEvent?E.detachEvent(zt(S),j):E.addListener&&E.removeListener&&E.removeListener(j),(S=ci(E))?(Ue(S,c),S.h==0&&(S.src=null,E[Ke]=null)):Ae(c)}}}function zt(c){return c in st?st[c]:st[c]="on"+c}function Ft(c,E){if(c.da)c=!0;else{E=new G(E,this);const S=c.listener,j=c.ha||c.src;c.fa&&yt(c),c=S.call(j,E)}return c}function ci(c){return c=c[Ke],c instanceof Se?c:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Br(c){return typeof c=="function"?c:(c[hi]||(c[hi]=function(E){return c.handleEvent(E)}),c[hi])}function bt(){z.call(this),this.i=new Se(this),this.M=this,this.G=null}N(bt,z),bt.prototype[te]=!0,bt.prototype.removeEventListener=function(c,E,S,j){Je(this,c,E,S,j)};function pn(c,E){var S,j=c.G;if(j)for(S=[];j;j=j.G)S.push(j);if(c=c.M,j=E.type||E,typeof E=="string")E=new I(E,c);else if(E instanceof I)E.target=E.target||c;else{var oe=E;E=new I(j,c),_e(E,oe)}oe=!0;let me,ke;if(S)for(ke=S.length-1;ke>=0;ke--)me=E.g=S[ke],oe=ki(me,j,!0,E)&&oe;if(me=E.g=c,oe=ki(me,j,!0,E)&&oe,oe=ki(me,j,!1,E)&&oe,S)for(ke=0;ke<S.length;ke++)me=E.g=S[ke],oe=ki(me,j,!1,E)&&oe}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const E in c.g){const S=c.g[E];for(let j=0;j<S.length;j++)Ae(S[j]);delete c.g[E],c.h--}}this.G=null},bt.prototype.J=function(c,E,S,j){return this.i.add(String(c),E,!1,S,j)},bt.prototype.K=function(c,E,S,j){return this.i.add(String(c),E,!0,S,j)};function ki(c,E,S,j){if(E=c.i.g[String(E)],!E)return!0;E=E.concat();let oe=!0;for(let me=0;me<E.length;++me){const ke=E[me];if(ke&&!ke.da&&ke.capture==S){const ct=ke.listener,bn=ke.ha||ke.src;ke.fa&&Ue(c.i,ke),oe=ct.call(bn,j)!==!1&&oe}}return oe&&!j.defaultPrevented}function Zs(c,E){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:h.setTimeout(c,E||0)}function Ci(c){c.g=Zs(()=>{c.g=null,c.i&&(c.i=!1,Ci(c))},c.l);const E=c.h;c.h=null,c.m.apply(null,E)}class O extends z{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ci(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function g(c){z.call(this),this.h=c,this.g={}}N(g,z);var b=[];function B(c){pe(c.g,function(E,S){this.g.hasOwnProperty(S)&&yt(E)},c),c.g={}}g.prototype.N=function(){g.Z.N.call(this),B(this)},g.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var J=h.JSON.stringify,ye=h.JSON.parse,Oe=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function nt(){}function at(){}var qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){I.call(this,"d")}N(Ze,I);function ft(){I.call(this,"c")}N(ft,I);var Tt={},rn=null;function ni(){return rn=rn||new bt}Tt.Ia="serverreachability";function fi(c){I.call(this,Tt.Ia,c)}N(fi,I);function _n(c){const E=ni();pn(E,new fi(E))}Tt.STAT_EVENT="statevent";function On(c,E){I.call(this,Tt.STAT_EVENT,c),this.stat=E}N(On,I);function Ht(c){const E=ni();pn(E,new On(E,c))}Tt.Ja="timingevent";function Jn(c,E){I.call(this,Tt.Ja,c),this.size=E}N(Jn,I);function Zn(c,E){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},E)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function it(c,E,S,j,oe,me){c.info(function(){if(c.g)if(me){var ke="",ct=me.split("&");for(let kt=0;kt<ct.length;kt++){var bn=ct[kt].split("=");if(bn.length>1){const fn=bn[0];bn=bn[1];const Ii=fn.split("_");ke=Ii.length>=2&&Ii[1]=="type"?ke+(fn+"="+bn+"&"):ke+(fn+"=redacted&")}}}else ke=null;else ke=me;return"XMLHTTP REQ ("+j+") [attempt "+oe+"]: "+E+`
`+S+`
`+ke})}function Ct(c,E,S,j,oe,me,ke){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+oe+"]: "+E+`
`+S+`
`+me+" "+ke})}function Vn(c,E,S,j){c.info(function(){return"XMLHTTP TEXT ("+E+"): "+ja(c,S)+(j?" "+j:"")})}function Ss(c,E){c.info(function(){return"TIMEOUT: "+E})}xn.prototype.info=function(){};function ja(c,E){if(!c.g)return E;if(!E)return null;try{const me=JSON.parse(E);if(me){for(c=0;c<me.length;c++)if(Array.isArray(me[c])){var S=me[c];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var oe=j[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let ke=1;ke<j.length;ke++)j[ke]=""}}}}return J(me)}catch{return E}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ua;function He(){}N(He,nt),He.prototype.g=function(){return new XMLHttpRequest},Ua=new He;function wr(c){return encodeURIComponent(String(c))}function zr(c){var E=1;c=c.split(":");const S=[];for(;E>0&&c.length;)S.push(c.shift()),E--;return c.length&&S.push(c.join(":")),S}function Qi(c,E,S,j){this.j=c,this.i=E,this.l=S,this.S=j||1,this.V=new g(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var wn={},Ln={};function Er(c,E,S){c.M=1,c.A=Hn(mn(E)),c.u=S,c.R=!0,as(c,null)}function as(c,E){c.F=Date.now(),Tr(c),c.B=mn(c.A);var S=c.B,j=c.S;Array.isArray(j)||(j=[String(j)]),er(S.i,"t",j),c.C=0,S=c.j.L,c.h=new Xi,c.g=Il(c.j,S?E:null,!c.u),c.P>0&&(c.O=new O(v(c.Y,c,c.g),c.P)),E=c.V,S=c.g,j=c.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(b[0]=oe.toString()),oe=b);for(let me=0;me<oe.length;me++){const ke=gt(S,oe[me],j||E.handleEvent,!1,E.h||E);if(!ke)break;E.g[ke.key]=ke}E=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,E)):(c.v="GET",c.g.ea(c.B,c.v,null,E)),_n(),it(c.i,c.v,c.B,c.l,c.S,c.u)}Qi.prototype.ba=function(c){c=c.target;const E=this.O;E&&Hi(c)==3?E.j():this.Y(c)},Qi.prototype.Y=function(c){try{if(c==this.g)e:{const ct=Hi(this.g),bn=this.g.ya(),kt=this.g.ca();if(!(ct<3)&&(ct!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||ct!=4||bn==7||(bn==8||kt<=0?_n(3):_n(2)),Ji(this);var E=this.g.ca();this.X=E;var S=Al(this);if(this.o=E==200,Ct(this.i,this.v,this.B,this.l,this.S,ct,E),this.o){if(this.U&&!this.L){t:{if(this.g){var j,oe=this.g;if((j=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(j)){var me=j;break t}}me=null}if(c=me)Vn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,c);else{this.o=!1,this.m=3,Ht(12),En(this),ji(this);break e}}if(this.R){c=!0;let fn;for(;!this.K&&this.C<S.length;)if(fn=br(this,S),fn==Ln){ct==4&&(this.m=4,Ht(14),c=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==wn){this.m=4,Ht(15),Vn(this.i,this.l,S,"[Invalid Chunk]"),c=!1;break}else Vn(this.i,this.l,fn,null),Ui(this,fn);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||S.length!=0||this.h.h||(this.m=1,Ht(16),c=!1),this.o=this.o&&c,!c)Vn(this.i,this.l,S,"[Invalid Chunked Response]"),En(this),ji(this);else if(S.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),$a(ke),ke.P=!0,Ht(11))}}else Vn(this.i,this.l,S,null),Ui(this,S);ct==4&&En(this),this.o&&!this.K&&(ct==4?ra(this.j,this):(this.o=!1,Tr(this)))}else Ir(this.g),E==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),En(this),ji(this)}}}catch{}finally{}};function Al(c){if(!Sl(c))return c.g.la();const E=yn(c.g);if(E==="")return"";let S="";const j=E.length,oe=Hi(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),ji(c),"";c.h.i=new h.TextDecoder}for(let me=0;me<j;me++)c.h.h=!0,S+=c.h.i.decode(E[me],{stream:!(oe&&me==j-1)});return E.length=0,c.h.g+=S,c.C=0,c.h.g}function Sl(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function br(c,E){var S=c.C,j=E.indexOf(`
`,S);return j==-1?Ln:(S=Number(E.substring(S,j)),isNaN(S)?wn:(j+=1,j+S>E.length?Ln:(E=E.slice(j,j+S),c.C=j+S,E)))}Qi.prototype.cancel=function(){this.K=!0,En(this)};function Tr(c){c.T=Date.now()+c.H,Ba(c,c.H)}function Ba(c,E){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Zn(v(c.aa,c),E)}function Ji(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qi.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(_n(),Ht(17)),En(this),this.m=2,ji(this)):Ba(this,this.T-c)};function ji(c){c.j.I==0||c.K||ra(c.j,c)}function En(c){Ji(c);var E=c.O;E&&typeof E.dispose=="function"&&E.dispose(),c.O=null,B(c.V),c.g&&(E=c.g,c.g=null,E.abort(),E.dispose())}function Ui(c,E){try{var S=c.j;if(S.I!=0&&(S.g==c||Sr(S.h,c))){if(!c.L&&Sr(S.h,c)&&S.I==3){try{var j=S.Ba.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var oe=j;if(oe[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<c.F)ds(S),Ps(S);else break e;Rn(S),Ht(18)}}else S.xa=oe[1],0<S.xa-S.K&&oe[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Zn(v(S.Va,S),6e3));Ar(S.h)<=1&&S.ta&&(S.ta=void 0)}else rr(S,11)}else if((c.L||S.g==c)&&ds(S),!D(E))for(oe=S.Ba.g.parse(E),E=0;E<oe.length;E++){let kt=oe[E];const fn=kt[0];if(!(fn<=S.K))if(S.K=fn,kt=kt[1],S.I==2)if(kt[0]=="c"){S.M=kt[1],S.ba=kt[2];const Ii=kt[3];Ii!=null&&(S.ka=Ii,S.j.info("VER="+S.ka));const qi=kt[4];qi!=null&&(S.za=qi,S.j.info("SVER="+S.za));const sr=kt[5];sr!=null&&typeof sr=="number"&&sr>0&&(j=1.5*sr,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const ar=c.g;if(ar){const sa=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var me=j.h;me.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(za(me,me.h),me.h=null))}if(j.G){const aa=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(j.wa=aa,$t(j.J,j.G,aa))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-c.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var ke=c;if(j.na=Ya(j,j.L?j.ba:null,j.W),ke.L){os(j.h,ke);var ct=ke,bn=j.O;bn&&(ct.H=bn),ct.D&&(Ji(ct),Tr(ct)),j.g=ke}else Cl(j);S.i.length>0&&Gr(S)}else kt[0]!="stop"&&kt[0]!="close"||rr(S,7);else S.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?rr(S,7):Ds(S):kt[0]!="noop"&&S.l&&S.l.qa(kt),S.A=0)}}_n(4)}catch{}}var Cn=class{constructor(c,E){this.g=c,this.map=E}};function Fo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ar(c){return c.h?1:c.g?c.g.size:0}function Sr(c,E){return c.h?c.h==E:c.g?c.g.has(E):!1}function za(c,E){c.g?c.g.add(E):c.h=E}function os(c,E){c.h&&c.h==E?c.h=null:c.g&&c.g.has(E)&&c.g.delete(E)}Fo.prototype.cancel=function(){if(this.i=ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ta(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let E=c.i;for(const S of c.g.values())E=E.concat(S.G);return E}return R(c.i)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(c,E){if(c){c=c.split("&");for(let S=0;S<c.length;S++){const j=c[S].indexOf("=");let oe,me=null;j>=0?(oe=c[S].substring(0,j),me=c[S].substring(j+1)):oe=c[S],E(oe,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function ii(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;c instanceof ii?(this.l=c.l,on(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,Rs(this,qo(c.i)),this.m=c.m):c&&(E=String(c).match(Fr))?(this.l=!1,on(this,E[1]||"",!0),this.o=di(E[2]||""),this.g=di(E[3]||"",!0),ls(this,E[4]),this.h=di(E[5]||"",!0),Rs(this,E[6]||"",!0),this.m=di(E[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}ii.prototype.toString=function(){const c=[];var E=this.j;E&&c.push(ot(E,ri,!0),":");var S=this.g;return(S||E=="file")&&(c.push("//"),(E=this.o)&&c.push(ot(E,ri,!0),"@"),c.push(wr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&c.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(ot(S,S.charAt(0)=="/"?Fa:Ho,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",ot(S,hn)),c.join("")},ii.prototype.resolve=function(c){const E=mn(this);let S=!!c.j;S?on(E,c.j):S=!!c.o,S?E.o=c.o:S=!!c.g,S?E.g=c.g:S=c.u!=null;var j=c.h;if(S)ls(E,c.u);else if(S=!!c.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var oe=E.h.lastIndexOf("/");oe!=-1&&(j=E.h.slice(0,oe+1)+j)}if(oe=j,oe==".."||oe==".")j="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){j=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const me=[];for(let ke=0;ke<oe.length;){const ct=oe[ke++];ct=="."?j&&ke==oe.length&&me.push(""):ct==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),j&&ke==oe.length&&me.push("")):(me.push(ct),j=!0)}j=me.join("/")}else j=oe}return S?E.h=j:S=c.i.toString()!=="",S?Rs(E,qo(c.i)):S=!!c.m,S&&(E.m=c.m),E};function mn(c){return new ii(c)}function on(c,E,S){c.j=S?di(E,!0):E,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);c.u=E}else c.u=null}function Rs(c,E,S){E instanceof Zi?(c.i=E,cs(c.i,c.l)):(S||(E=ot(E,us)),c.i=new Zi(E,c.l))}function $t(c,E,S){c.i.set(E,S)}function Hn(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,E){return c?E?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ot(c,E,S){return typeof c=="string"?(c=encodeURI(c).replace(E,gn),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ri=/[#\/\?@]/g,Ho=/[#\?:]/g,Fa=/[#\?]/g,us=/[#\?@]/g,hn=/#/g;function Zi(c,E){this.h=this.g=null,this.i=c||null,this.j=!!E}function si(c){c.g||(c.g=new Map,c.h=0,c.i&&Hr(c.i,function(E,S){c.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}r=Zi.prototype,r.add=function(c,E){si(this),this.i=null,c=tr(this,c);let S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(E),this.h+=1,this};function Is(c,E){si(c),E=tr(c,E),c.g.has(E)&&(c.i=null,c.h-=c.g.get(E).length,c.g.delete(E))}function Bi(c,E){return si(c),E=tr(c,E),c.g.has(E)}r.forEach=function(c,E){si(this),this.g.forEach(function(S,j){S.forEach(function(oe){c.call(E,oe,j,this)},this)},this)};function na(c,E){si(c);let S=[];if(typeof E=="string")Bi(c,E)&&(S=S.concat(c.g.get(tr(c,E))));else for(c=Array.from(c.g.values()),E=0;E<c.length;E++)S=S.concat(c[E]);return S}r.set=function(c,E){return si(this),this.i=null,c=tr(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[E]),this.h+=1,this},r.get=function(c,E){return c?(c=na(this,c),c.length>0?String(c[0]):E):E};function er(c,E,S){Is(c,E),S.length>0&&(c.i=null,c.g.set(tr(c,E),R(S)),c.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],E=Array.from(this.g.keys());for(let j=0;j<E.length;j++){var S=E[j];const oe=wr(S);S=na(this,S);for(let me=0;me<S.length;me++){let ke=oe;S[me]!==""&&(ke+="="+wr(S[me])),c.push(ke)}}return this.i=c.join("&")};function qo(c){const E=new Zi;return E.i=c.i,c.g&&(E.g=new Map(c.g),E.h=c.h),E}function tr(c,E){return E=String(E),c.j&&(E=E.toLowerCase()),E}function cs(c,E){E&&!c.j&&(si(c),c.i=null,c.g.forEach(function(S,j){const oe=j.toLowerCase();j!=oe&&(Is(this,j),er(this,oe,S))},c)),c.j=E}function zi(c,E){const S=new xn;if(h.Image){const j=new Image;j.onload=A(Fi,S,"TestLoadImage: loaded",!0,E,j),j.onerror=A(Fi,S,"TestLoadImage: error",!1,E,j),j.onabort=A(Fi,S,"TestLoadImage: abort",!1,E,j),j.ontimeout=A(Fi,S,"TestLoadImage: timeout",!1,E,j),h.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else E(!1)}function Ha(c,E){const S=new xn,j=new AbortController,oe=setTimeout(()=>{j.abort(),Fi(S,"TestPingServer: timeout",!1,E)},1e4);fetch(c,{signal:j.signal}).then(me=>{clearTimeout(oe),me.ok?Fi(S,"TestPingServer: ok",!0,E):Fi(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(oe),Fi(S,"TestPingServer: error",!1,E)})}function Fi(c,E,S,j,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),j(S)}catch{}}function hs(){this.g=new Oe}function qr(c){this.i=c.Sb||null,this.h=c.ab||!1}N(qr,nt),qr.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,E){bt.call(this),this.H=c,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Ns,bt),r=Ns.prototype,r.open=function(c,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=E,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(E.body=c),(this.H||h).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var E=c.value?c.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!c.done}))&&(this.response=this.responseText+=E)}c.done?Cr(this):ai(this),this.readyState==3&&fs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ai(c)}r.setRequestHeader=function(c,E){this.A.append(c,E)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=E.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pi(c){let E="";return pe(c,function(S,j){E+=j,E+=":",E+=S,E+=`\r
`}),E}function Rr(c,E,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=pi(S),typeof c=="string"?S!=null&&wr(S):$t(c,E,S))}function Ut(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Ut,bt);var mi=/^https?$/i,Ms=["POST","PUT"];r=Ut.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,E,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);E=E?E.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ua.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(E,String(c),!0),this.B=!1}catch(me){kn(this,me);return}if(c=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var oe in j)S.set(oe,j[oe]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const me of j.keys())S.set(me,j.get(me));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(me=>me.toLowerCase()=="content-type"),oe=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Ms,E,void 0)>=0)||j||oe||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,ke]of S)this.g.setRequestHeader(me,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(me){kn(this,me)}};function kn(c,E){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=E,c.o=5,Os(c),qn(c)}function Os(c){c.A||(c.A=!0,pn(c,"complete"),pn(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pn(this,"complete"),pn(this,"abort"),qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Ut.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},r.Xa=function(){ia(this)};function ia(c){if(c.h&&typeof u<"u"){if(c.v&&Hi(c)==4)setTimeout(c.Ca.bind(c),0);else if(pn(c,"readystatechange"),Hi(c)==4){c.h=!1;try{const me=c.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var j;if(j=me===0){let ke=String(c.D).match(Fr)[1]||null;!ke&&h.self&&h.self.location&&(ke=h.self.location.protocol.slice(0,-1)),j=!mi.test(ke?ke.toLowerCase():"")}S=j}if(S)pn(c,"complete"),pn(c,"success");else{c.o=6;try{var oe=Hi(c)>2?c.g.statusText:""}catch{oe=""}c.l=oe+" ["+c.ca()+"]",Os(c)}}finally{qn(c)}}}}function qn(c,E){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const S=c.g;c.g=null,E||pn(c,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hi(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var E=this.g.responseText;return c&&E.indexOf(c)==0&&(E=E.substring(c.length)),ye(E)}};function yn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ir(c){const E={};c=(c.g&&Hi(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(D(c[j]))continue;var S=zr(c[j]);const oe=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const me=E[oe]||[];E[oe]=me,me.push(S)}Ne(E,function(j){return j.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(c,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||E}function xs(c){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nr("baseRetryDelayMs",5e3,c),this.Za=nr("retryDelaySeedMs",1e4,c),this.Ta=nr("forwardChannelMaxRetries",2,c),this.va=nr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Ba=new hs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xs.prototype,r.ka=8,r.I=1,r.connect=function(c,E,S,j){Ht(0),this.W=c,this.H=E||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Ya(this,null,this.W),Gr(this)};function Ds(c){if(qa(c),c.I==3){var E=c.V++,S=mn(c.J);if($t(S,"SID",c.M),$t(S,"RID",E),$t(S,"TYPE","terminate"),$r(c,S),E=new Qi(c,c.j,E),E.M=2,E.A=Hn(mn(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.A.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.A,S=!0),S||(E.g=Il(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Tr(E)}Rl(c)}function Ps(c){c.g&&($a(c),c.g.cancel(),c.g=null)}function qa(c){Ps(c),c.v&&(h.clearTimeout(c.v),c.v=null),ds(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Gr(c){if(!Cs(c.h)&&!c.m){c.m=!0;var E=c.Ea;we||q(),Me||(we(),Me=!0),V.add(E,c),c.D=0}}function Ri(c,E){return Ar(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=E.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Zn(v(c.Ea,c,E),$o(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const oe=new Qi(this,this.j,c);let me=this.o;if(this.U&&(me?(me=F(me),_e(me,this.U)):me=this.U),this.u!==null||this.R||(oe.J=me,me=null),this.S)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,E>4096){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=Go(this,oe,E),S=mn(this.J),$t(S,"RID",c),$t(S,"CVER",22),this.G&&$t(S,"X-HTTP-Session-Id",this.G),$r(this,S),me&&(this.R?E="headers="+wr(pi(me))+"&"+E:this.u&&Rr(S,this.u,me)),za(this.h,oe),this.Ra&&$t(S,"TYPE","init"),this.S?($t(S,"$req",E),$t(S,"SID","null"),oe.U=!0,Er(oe,S,null)):Er(oe,S,E),this.I=2}}else this.I==3&&(c?Ga(this,c):this.i.length==0||Cs(this.h)||Ga(this))};function Ga(c,E){var S;E?S=E.l:S=c.V++;const j=mn(c.J);$t(j,"SID",c.M),$t(j,"RID",S),$t(j,"AID",c.K),$r(c,j),c.u&&c.o&&Rr(j,c.u,c.o),S=new Qi(c,c.j,S,c.D+1),c.u===null&&(S.J=c.o),E&&(c.i=E.G.concat(c.i)),E=Go(c,S,1e3),S.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),za(c.h,S),Er(S,j,E)}function $r(c,E){c.H&&pe(c.H,function(S,j){$t(E,j,S)}),c.l&&pe({},function(S,j){$t(E,j,S)})}function Go(c,E,S){S=Math.min(c.i.length,S);const j=c.l?v(c.l.Ka,c.l,c):null;e:{var oe=c.i;let ct=-1;for(;;){const bn=["count="+S];ct==-1?S>0?(ct=oe[0].g,bn.push("ofs="+ct)):ct=0:bn.push("ofs="+ct);let kt=!0;for(let fn=0;fn<S;fn++){var me=oe[fn].g;const Ii=oe[fn].map;if(me-=ct,me<0)ct=Math.max(0,oe[fn].g-100),kt=!1;else try{me="req"+me+"_"||"";try{var ke=Ii instanceof Map?Ii:Object.entries(Ii);for(const[qi,sr]of ke){let ar=sr;y(sr)&&(ar=J(sr)),bn.push(me+qi+"="+encodeURIComponent(ar))}}catch(qi){throw bn.push(me+"type="+encodeURIComponent("_badmap")),qi}}catch{j&&j(Ii)}}if(kt){ke=bn.join("&");break e}}ke=void 0}return c=c.i.splice(0,S),E.G=c,ke}function Cl(c){if(!c.g&&!c.v){c.Y=1;var E=c.Da;we||q(),Me||(we(),Me=!0),V.add(E,c),c.A=0}}function Rn(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Zn(v(c.Da,c),$o(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ir(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Zn(v(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),Ps(this),ir(this))};function $a(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function ir(c){c.g=new Qi(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var E=mn(c.na);$t(E,"RID","rpc"),$t(E,"SID",c.M),$t(E,"AID",c.K),$t(E,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(E,"TO",c.ia),$t(E,"TYPE","xmlhttp"),$r(c,E),c.u&&c.o&&Rr(E,c.u,c.o),c.O&&(c.g.H=c.O);var S=c.g;c=c.ba,S.M=1,S.A=Hn(mn(E)),S.u=null,S.R=!0,as(S,c)}r.Va=function(){this.C!=null&&(this.C=null,Ps(this),Rn(this),Ht(19))};function ds(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ra(c,E){var S=null;if(c.g==E){ds(c),$a(c),c.g=null;var j=2}else if(Sr(c.h,E))S=E.G,os(c.h,E),j=1;else return;if(c.I!=0){if(E.o)if(j==1){S=E.u?E.u.length:0,E=Date.now()-E.F;var oe=c.D;j=ni(),pn(j,new Jn(j,S)),Gr(c)}else Cl(c);else if(oe=E.m,oe==3||oe==0&&E.X>0||!(j==1&&Ri(c,E)||j==2&&Rn(c)))switch(S&&S.length>0&&(E=c.h,E.i=E.i.concat(S)),oe){case 1:rr(c,5);break;case 4:rr(c,10);break;case 3:rr(c,6);break;default:rr(c,2)}}}function $o(c,E){let S=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(S*=2),S*E}function rr(c,E){if(c.j.info("Error code "+E),E==2){var S=v(c.bb,c),j=c.Ua;const oe=!j;j=new ii(j||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||on(j,"https"),Hn(j),oe?zi(j.toString(),S):Ha(j.toString(),S)}else Ht(2);c.I=0,c.l&&c.l.pa(E),Rl(c),qa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Rl(c){if(c.I=0,c.ja=[],c.l){const E=ta(c.h);(E.length!=0||c.i.length!=0)&&(K(c.ja,E),K(c.ja,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.oa()}}function Ya(c,E,S){var j=S instanceof ii?mn(S):new ii(S);if(j.g!="")E&&(j.g=E+"."+j.g),ls(j,j.u);else{var oe=h.location;j=oe.protocol,E=E?E+"."+oe.hostname:oe.hostname,oe=+oe.port;const me=new ii(null);j&&on(me,j),E&&(me.g=E),oe&&ls(me,oe),S&&(me.h=S),j=me}return S=c.G,E=c.wa,S&&E&&$t(j,S,E),$t(j,"VER",c.ka),$r(c,j),j}function Il(c,E,S){if(E&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=c.Aa&&!c.ma?new Ut(new qr({ab:S})):new Ut(c.ma),E.Fa(c.L),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nl(){}r=Nl.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ps(){}ps.prototype.g=function(c,E){return new gi(c,E)};function gi(c,E){bt.call(this),this.g=new xs(E),this.l=c,this.h=E&&E.messageUrlParams||null,c=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(c?c["X-WebChannel-Content-Type"]=E.messageContentType:c={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(c?c["X-WebChannel-Client-Profile"]=E.sa:c={"X-WebChannel-Client-Profile":E.sa}),this.g.U=c,(c=E&&E.Qb)&&!D(c)&&(this.g.u=c),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!D(E)&&(this.g.G=E,c=this.h,c!==null&&E in c&&(c=this.h,E in c&&delete c[E])),this.j=new ms(this)}N(gi,bt),gi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gi.prototype.close=function(){Ds(this.g)},gi.prototype.o=function(c){var E=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.v&&(S={},S.__data__=J(c),c=S);E.i.push(new Cn(E.Ya++,c)),E.I==3&&Gr(E)},gi.prototype.N=function(){this.g.l=null,delete this.j,Ds(this.g),delete this.g,gi.Z.N.call(this)};function Ml(c){Ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var E=c.__sm__;if(E){e:{for(const S in E){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,E=E!==null&&c in E?E[c]:void 0),this.data=E}else this.data=c}N(Ml,Ze);function Ol(){ft.call(this),this.status=1}N(Ol,ft);function ms(c){this.g=c}N(ms,Nl),ms.prototype.ra=function(){pn(this.g,"a")},ms.prototype.qa=function(c){pn(this.g,new Ml(c))},ms.prototype.pa=function(c){pn(this.g,new Ol)},ms.prototype.oa=function(){pn(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,gi.prototype.send=gi.prototype.o,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,bb=function(){return new ps},Eb=function(){return ni()},wb=Tt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Af=ea,ss.COMPLETE="complete",_b=ss,at.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Cc=at,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,vb=Ut}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const rw="@firebase/firestore",sw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new pg("@firebase/firestore");function ou(){return yl.logLevel}function Ye(r,...e){if(yl.logLevel<=Pt.DEBUG){const n=e.map(Sg);yl.debug(`Firestore (${xu}): ${r}`,...n)}}function Va(r,...e){if(yl.logLevel<=Pt.ERROR){const n=e.map(Sg);yl.error(`Firestore (${xu}): ${r}`,...n)}}function vu(r,...e){if(yl.logLevel<=Pt.WARN){const n=e.map(Sg);yl.warn(`Firestore (${xu}): ${r}`,...n)}}function Sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Tb(r,s,n)}function Tb(r,e,n){let s=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Va(s),new Error(s)}function tn(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Tb(e,o,s)}function mt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends ka{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xi.UNAUTHENTICATED)))}shutdown(){}}class fN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dN{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tn(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ma,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ma)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tn(typeof s.accessToken=="string",31837,{l:s}),new Ab(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new xi(e)}}class pN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new pN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,is(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tn(this.o===void 0,3512);const s=u=>{u.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function Hm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Am(o)===Am(u)?Vt(o,u):Am(o)?1:-1}return Vt(r.length,e.length)}const vN=55296,_N=57343;function Am(r){const e=r.charCodeAt(0);return e>=vN&&e<=_N}function _u(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__name__";class Fs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ut(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ut(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Fs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Vt(e.length,n.length)}static compareSegments(e,n){const s=Fs.isNumericId(e),o=Fs.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class vn extends Fs{construct(e,n,s){return new vn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new $e(Re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new vn(n)}static emptyPath(){return new vn([])}}const wN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Fs{construct(e,n,s){return new Ai(e,n,s)}static isValidIdentifier(e){return wN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ow}static keyField(){return new Ai([ow])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new $e(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new $e(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new $e(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else y==="`"?(h=!h,o++):y!=="."||h?(s+=y,o++):(u(),o++)}if(u(),h)throw new $e(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(vn.fromString(e))}static fromName(e){return new tt(vn.fromString(e).popFirst(5))}static empty(){return new tt(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new vn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r,e,n){if(!n)throw new $e(Re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function EN(r,e,n,s){if(e===!0&&s===!0)throw new $e(Re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function lw(r){if(!tt.isDocumentKey(r))throw new $e(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uw(r){if(tt.isDocumentKey(r))throw new $e(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Cb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ut(12329,{type:typeof r})}function Ks(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $e(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(r);throw new $e(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Zc(r,e){if(!Cb(r))throw new $e(Re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new $e(Re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=-62135596800,hw=1e6;class Sn{static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hw);return new Sn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cw)throw new $e(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hw}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Sn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,Sn._jsonSchema))return new Sn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Sn._jsonSchemaVersion="firestore/timestamp/1.0",Sn._jsonSchema={type:Xn("string",Sn._jsonSchemaVersion),seconds:Xn("number"),nanoseconds:Xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{static fromTimestamp(e){return new ht(e)}static min(){return new ht(new Sn(0,0))}static max(){return new ht(new Sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function bN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ht.fromTimestamp(s===1e9?new Sn(n+1,0):new Sn(n,s));return new Mo(o,tt.empty(),e)}function TN(r){return new Mo(r.readTime,r.key,zc)}class Mo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Mo(ht.min(),tt.empty(),zc)}static max(){return new Mo(ht.max(),tt.empty(),zc)}}function AN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=tt.comparator(r.documentKey,e.documentKey),n!==0?n:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(r){if(r.code!==Re.FAILED_PRECONDITION||r.message!==SN)throw r;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ie.reject(n)}static resolve(e){return new Ie(((n,s)=>{n(e)}))}static reject(e){return new Ie(((n,s)=>{s(e)}))}static waitFor(e){return new Ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((y=>{++o,y.next((()=>{++u,h&&u===o&&n()}),(_=>s(_)))})),h=!0,u===o&&n()}))}static or(e){let n=Ie.resolve(!1);for(const s of e)n=n.next((o=>o?Ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Ie(((s,o)=>{const u=e.length,h=new Array(u);let y=0;for(let _=0;_<u;_++){const v=_;n(e[v]).next((A=>{h[v]=A,++y,y===u&&s(h)}),(A=>o(A)))}}))}static doWhile(e,n){return new Ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function RN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function ad(r){return r==null}function Uf(r){return r===0&&1/r==-1/0}function IN(r){return typeof r=="number"&&Number.isInteger(r)&&!Uf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="";function NN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=fw(e)),e=MN(r.get(n),e);return fw(e)}function MN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Rb:n+="";break;default:n+=u}}return n}function fw(r){return r+Rb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Bo(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Ib(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.comparator=e,this.root=n||Ti.EMPTY}insert(e,n){return new Mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ti.RED,this.left=o??Ti.EMPTY,this.right=u??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ti(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ti.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ut(27949);return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pw(this.data.getIterator())}getIteratorFrom(e){return new pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof ti)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ti(this.comparator);return n.data=e,n}}class pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new jr([])}unionWith(e){let n=new ti(Ai.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Nb("Invalid base64 string: "+u):u}})(e);return new Si(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const ON=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(r){if(tn(!!r,39018),typeof r=="string"){let e=0;const n=ON.exec(r);if(tn(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zn(r.seconds),nanos:zn(r.nanos)}}function zn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xo(r){return typeof r=="string"?Si.fromBase64String(r):Si.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="server_timestamp",Ob="__type__",xb="__previous_value__",Db="__local_write_time__";function Ig(r){return(r?.mapValue?.fields||{})[Ob]?.stringValue===Mb}function od(r){const e=r.mapValue.fields[xb];return Ig(e)?od(e):e}function Fc(r){const e=Oo(r.mapValue.fields[Db].timestampValue);return new Sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,s,o,u,h,y,_,v,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Bf="(default)";class Hc{constructor(e,n){this.projectId=e,this.database=n||Bf}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__type__",DN="__max__",pf={mapValue:{}},Vb="__vector__",zf="value";function Do(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ig(r)?4:VN(r)?9007199254740991:PN(r)?10:11:ut(28295,{value:r})}function Qs(r,e){if(r===e)return!0;const n=Do(r);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fc(r).isEqual(Fc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Oo(o.timestampValue),y=Oo(u.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return xo(o.bytesValue).isEqual(xo(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return zn(o.geoPointValue.latitude)===zn(u.geoPointValue.latitude)&&zn(o.geoPointValue.longitude)===zn(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return zn(o.integerValue)===zn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=zn(o.doubleValue),y=zn(u.doubleValue);return h===y?Uf(h)===Uf(y):isNaN(h)&&isNaN(y)}return!1})(r,e);case 9:return _u(r.arrayValue.values||[],e.arrayValue.values||[],Qs);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},y=u.mapValue.fields||{};if(dw(h)!==dw(y))return!1;for(const _ in h)if(h.hasOwnProperty(_)&&(y[_]===void 0||!Qs(h[_],y[_])))return!1;return!0})(r,e);default:return ut(52216,{left:r})}}function qc(r,e){return(r.values||[]).find((n=>Qs(n,e)))!==void 0}function wu(r,e){if(r===e)return 0;const n=Do(r),s=Do(e);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const y=zn(u.integerValue||u.doubleValue),_=zn(h.integerValue||h.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(r,e);case 3:return mw(r.timestampValue,e.timestampValue);case 4:return mw(Fc(r),Fc(e));case 5:return Hm(r.stringValue,e.stringValue);case 6:return(function(u,h){const y=xo(u),_=xo(h);return y.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const y=u.split("/"),_=h.split("/");for(let v=0;v<y.length&&v<_.length;v++){const A=Vt(y[v],_[v]);if(A!==0)return A}return Vt(y.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const y=Vt(zn(u.latitude),zn(h.latitude));return y!==0?y:Vt(zn(u.longitude),zn(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return gw(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const y=u.fields||{},_=h.fields||{},v=y[zf]?.arrayValue,A=_[zf]?.arrayValue,N=Vt(v?.values?.length||0,A?.values?.length||0);return N!==0?N:gw(v,A)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===pf.mapValue&&h===pf.mapValue)return 0;if(u===pf.mapValue)return 1;if(h===pf.mapValue)return-1;const y=u.fields||{},_=Object.keys(y),v=h.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const x=Hm(_[N],A[N]);if(x!==0)return x;const R=wu(y[_[N]],v[A[N]]);if(R!==0)return R}return Vt(_.length,A.length)})(r.mapValue,e.mapValue);default:throw ut(23264,{he:n})}}function mw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const n=Oo(r),s=Oo(e),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function gw(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wu(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function Eu(r){return qm(r)}function qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Oo(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return xo(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return tt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${qm(n.fields[h])}`;return o+"}"})(r.mapValue):ut(61005,{value:r})}function Sf(r){switch(Do(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=od(r);return e?16+Sf(e):16;case 5:return 2*r.stringValue.length;case 6:return xo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Sf(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Bo(s.fields,((u,h)=>{o+=u.length+Sf(h)})),o})(r.mapValue);default:throw ut(13486,{value:r})}}function yw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gm(r){return!!r&&"integerValue"in r}function Ng(r){return!!r&&"arrayValue"in r}function vw(r){return!!r&&"nullValue"in r}function _w(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cf(r){return!!r&&"mapValue"in r}function PN(r){return(r?.mapValue?.fields||{})[Pb]?.stringValue===Vb}function xc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Bo(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xc(r.arrayValue.values[n]);return e}return{...r}}function VN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xc(n)}setAll(e){let n=Ai.emptyPath(),s={},o=[];e.forEach(((h,y)=>{if(!n.isImmediateParentOf(y)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=y.popLast()}h?s[y.lastSegment()]=xc(h):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Cf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Bo(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _r(xc(this.value))}}function Lb(r){const e=[];return Bo(r.fields,((n,s)=>{const o=new Ai([n]);if(Cf(s)){const u=Lb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,s,o,u,h,y){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=y}static newInvalidDocument(e){return new Pi(e,0,ht.min(),ht.min(),ht.min(),_r.empty(),0)}static newFoundDocument(e,n,s,o){return new Pi(e,1,n,ht.min(),s,o,0)}static newNoDocument(e,n){return new Pi(e,2,n,ht.min(),ht.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Pi(e,3,n,ht.min(),ht.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.position=e,this.inclusive=n}}function ww(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=tt.comparator(tt.fromName(h.referenceValue),n.key):s=wu(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ew(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Qs(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n="asc"){this.field=e,this.dir=n}}function LN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{}class Qn extends kb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jN(e,n,s):n==="array-contains"?new zN(e,s):n==="in"?new FN(e,s):n==="not-in"?new HN(e,s):n==="array-contains-any"?new qN(e,s):new Qn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new UN(e,s):new BN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wu(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(wu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends kb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ts(e,n)}matches(e){return jb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jb(r){return r.op==="and"}function Ub(r){return kN(r)&&jb(r)}function kN(r){for(const e of r.filters)if(e instanceof Ts)return!1;return!0}function $m(r){if(r instanceof Qn)return r.field.canonicalString()+r.op.toString()+Eu(r.value);if(Ub(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((n=>$m(n))).join(",");return`${r.op}(${e})`}}function Bb(r,e){return r instanceof Qn?(function(s,o){return o instanceof Qn&&s.op===o.op&&s.field.isEqual(o.field)&&Qs(s.value,o.value)})(r,e):r instanceof Ts?(function(s,o){return o instanceof Ts&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,y)=>u&&Bb(h,o.filters[y])),!0):!1})(r,e):void ut(19439)}function zb(r){return r instanceof Qn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eu(n.value)}`})(r):r instanceof Ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(zb).join(" ,")+"}"})(r):"Filter"}class jN extends Qn{constructor(e,n,s){super(e,n,s),this.key=tt.fromName(s.referenceValue)}matches(e){const n=tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class UN extends Qn{constructor(e,n){super(e,"in",n),this.keys=Fb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BN extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=Fb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Fb(r,e){return(e.arrayValue?.values||[]).map((n=>tt.fromName(n.referenceValue)))}class zN extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ng(n)&&qc(n.arrayValue,this.value)}}class FN extends Qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class HN extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qc(this.value.arrayValue,n)}}class qN extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>qc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n=null,s=[],o=[],u=null,h=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=y,this.Te=null}}function bw(r,e=null,n=[],s=[],o=null,u=null,h=null){return new GN(r,e,n,s,o,u,h)}function Mg(r){const e=mt(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eu(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eu(s))).join(",")),e.Te=n}return e.Te}function Og(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Bb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ew(r.startAt,e.startAt)&&Ew(r.endAt,e.endAt)}function Ym(r){return tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n=null,s=[],o=[],u=null,h="F",y=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $N(r,e,n,s,o,u,h,y){return new eh(r,e,n,s,o,u,h,y)}function xg(r){return new eh(r)}function Tw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Hb(r){return r.collectionGroup!==null}function Dc(r){const e=mt(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let y=new ti(Ai.comparator);return h.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hf(u,s))})),n.has(Ai.keyField().canonicalString())||e.Ie.push(new Hf(Ai.keyField(),s))}return e.Ie}function Gs(r){const e=mt(r);return e.Ee||(e.Ee=YN(e,Dc(r))),e.Ee}function YN(r,e){if(r.limitType==="F")return bw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Hf(o.field,u)}));const n=r.endAt?new Ff(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ff(r.startAt.position,r.startAt.inclusive):null;return bw(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Wm(r,e){const n=r.filters.concat([e]);return new eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Km(r,e,n){return new eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ld(r,e){return Og(Gs(r),Gs(e))&&r.limitType===e.limitType}function qb(r){return`${Mg(Gs(r))}|lt:${r.limitType}`}function lu(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>zb(o))).join(", ")}]`),ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eu(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eu(o))).join(",")),`Target(${s})`})(Gs(r))}; limitType=${r.limitType})`}function ud(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):tt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Dc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,y,_){const v=ww(h,y,_);return h.inclusive?v<=0:v<0})(s.startAt,Dc(s),o)||s.endAt&&!(function(h,y,_){const v=ww(h,y,_);return h.inclusive?v>=0:v>0})(s.endAt,Dc(s),o))})(r,e)}function WN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gb(r){return(e,n)=>{let s=!1;for(const o of Dc(r)){const u=KN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KN(r,e,n){const s=r.field.isKeyField()?tt.comparator(e.key,n.key):(function(u,h,y){const _=h.data.field(u),v=y.data.field(u);return _!==null&&v!==null?wu(_,v):ut(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ut(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Mn(tt.comparator);function La(){return QN}const $b=new Mn(tt.comparator);function Rc(...r){let e=$b;for(const n of r)e=e.insert(n.key,n);return e}function Yb(r){let e=$b;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fl(){return Pc()}function Wb(){return Pc()}function Pc(){return new wl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const XN=new Mn(tt.comparator),JN=new ti(tt.comparator);function Lt(...r){let e=JN;for(const n of r)e=e.add(n);return e}const ZN=new ti(Vt);function eM(){return ZN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function Kb(r){return{integerValue:""+r}}function tM(r,e){return IN(e)?Kb(e):Dg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function nM(r,e,n){return r instanceof qf?(function(o,u){const h={fields:{[Ob]:{stringValue:Mb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ig(u)&&(u=od(u)),u&&(h.fields[xb]=u),{mapValue:h}})(n,e):r instanceof bu?Xb(r,e):r instanceof Tu?Jb(r,e):(function(o,u){const h=Qb(o,u),y=Aw(h)+Aw(o.Ae);return Gm(h)&&Gm(o.Ae)?Kb(y):Dg(o.serializer,y)})(r,e)}function iM(r,e,n){return r instanceof bu?Xb(r,e):r instanceof Tu?Jb(r,e):n}function Qb(r,e){return r instanceof Gf?(function(s){return Gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class qf extends cd{}class bu extends cd{constructor(e){super(),this.elements=e}}function Xb(r,e){const n=Zb(e);for(const s of r.elements)n.some((o=>Qs(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Tu extends cd{constructor(e){super(),this.elements=e}}function Jb(r,e){let n=Zb(e);for(const s of r.elements)n=n.filter((o=>!Qs(o,s)));return{arrayValue:{values:n}}}class Gf extends cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Aw(r){return zn(r.integerValue||r.doubleValue)}function Zb(r){return Ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.field=e,this.transform=n}}function rM(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof bu&&o instanceof bu||s instanceof Tu&&o instanceof Tu?_u(s.elements,o.elements,Qs):s instanceof Gf&&o instanceof Gf?Qs(s.Ae,o.Ae):s instanceof qf&&o instanceof qf})(r.transform,e.transform)}class sM{constructor(e,n){this.version=e,this.transformResults=n}}class ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hd{}function tT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pg(r.key,ws.none()):new th(r.key,r.data,ws.none());{const n=r.data,s=_r.empty();let o=new ti(Ai.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new zo(r.key,s,new jr(o.toArray()),ws.none())}}function aM(r,e,n){r instanceof th?(function(o,u,h){const y=o.value.clone(),_=Cw(o.fieldTransforms,u,h.transformResults);y.setAll(_),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,n):r instanceof zo?(function(o,u,h){if(!Rf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const y=Cw(o.fieldTransforms,u,h.transformResults),_=u.data;_.setAll(nT(o)),_.setAll(y),u.convertToFoundDocument(h.version,_).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Vc(r,e,n,s){return r instanceof th?(function(u,h,y,_){if(!Rf(u.precondition,h))return y;const v=u.value.clone(),A=Rw(u.fieldTransforms,_,h);return v.setAll(A),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,n,s):r instanceof zo?(function(u,h,y,_){if(!Rf(u.precondition,h))return y;const v=Rw(u.fieldTransforms,_,h),A=h.data;return A.setAll(nT(u)),A.setAll(v),h.convertToFoundDocument(h.version,A).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((N=>N.field)))})(r,e,n,s):(function(u,h,y){return Rf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):y})(r,e,n)}function oM(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Qb(s.transform,o||null);u!=null&&(n===null&&(n=_r.empty()),n.set(s.field,u))}return n||null}function Sw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_u(s,o,((u,h)=>rM(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class th extends hd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zo extends hd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Cw(r,e,n){const s=new Map;tn(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,y=e.data.field(u.field);s.set(u.field,iM(h,y,n[o]))}return s}function Rw(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,nM(u,h,e))}return s}class Pg extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lM extends hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aM(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Wb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let y=this.applyToLocalView(h,u.mutatedFields);y=n.has(o.key)?null:y;const _=tT(h,y);_!==null&&s.set(o.key,_),h.isValidDocument()||h.convertToNoDocument(ht.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,((n,s)=>Sw(n,s)))&&_u(this.baseMutations,e.baseMutations,((n,s)=>Sw(n,s)))}}class Vg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){tn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return XN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Vg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Bt;function fM(r){switch(r){case Re.OK:return ut(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return ut(15467,{code:r})}}function iT(r){if(r===void 0)return Va("GRPC error has no .code"),Re.UNKNOWN;switch(r){case Kn.OK:return Re.OK;case Kn.CANCELLED:return Re.CANCELLED;case Kn.UNKNOWN:return Re.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return Re.INTERNAL;case Kn.UNAVAILABLE:return Re.UNAVAILABLE;case Kn.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Kn.NOT_FOUND:return Re.NOT_FOUND;case Kn.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Kn.ABORTED:return Re.ABORTED;case Kn.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Kn.DATA_LOSS:return Re.DATA_LOSS;default:return ut(39323,{code:r})}}(Bt=Kn||(Kn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Io([4294967295,4294967295],0);function Iw(r){const e=dM().encode(r),n=new yb;return n.update(e),new Uint8Array(n.digest())}function Nw(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Io([n,s],0),new Io([o,u],0)]}class Lg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(s<0)throw new Ic(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Io.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Io.fromNumber(s)));return o.compare(pM)===1&&(o=new Io([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Iw(e),[s,o]=Nw(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Lg(u,o,n);return s.forEach((y=>h.insert(y))),h}insert(e){if(this.ge===0)return;const n=Iw(e),[s,o]=Nw(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fd(ht.min(),o,new Mn(Vt),La(),Lt())}}class nh{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nh(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class rT{constructor(e,n){this.targetId=e,this.Ce=n}}class sT{constructor(e,n,s=Si.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Mw{constructor(){this.ve=0,this.Fe=Ow(),this.Me=Si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ut(38017,{changeType:u})}})),new nh(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ow()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mM{constructor(e){this.Ge=e,this.ze=new Map,this.je=La(),this.Je=mf(),this.He=mf(),this.Ye=new Mn(Vt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ut(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ym(u))if(s===0){const h=new tt(u.path);this.et(n,h,Pi.newNoDocument(h,ht.min()))}else tn(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const y=this.ut(e),_=y?this.ct(y,e,h):1;if(_!==0){this.it(n);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,y;try{h=xo(s).toUint8Array()}catch(_){if(_ instanceof Nb)return vu("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Lg(h,o,u)}catch(_){return vu(_ instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),y=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const y=this.ot(h);if(y){if(u.current&&Ym(y.target)){const _=new tt(y.target.path);this.It(_).has(h)||this.Et(h,_)||this.et(h,_,Pi.newNoDocument(_,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Lt();this.He.forEach(((u,h)=>{let y=!0;h.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new fd(e,n,this.Ye,this.je,s);return this.je=La(),this.Je=mf(),this.He=mf(),this.Ye=new Mn(Vt),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Mw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ti(Vt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ti(Vt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mf(){return new Mn(tt.comparator)}function Ow(){return new Mn(tt.comparator)}const gM={asc:"ASCENDING",desc:"DESCENDING"},yM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vM={and:"AND",or:"OR"};class _M{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(r,e){return r.useProto3Json||ad(e)?e:{value:e}}function $f(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wM(r,e){return $f(r,e.toTimestamp())}function $s(r){return tn(!!r,49232),ht.fromTimestamp((function(n){const s=Oo(n);return new Sn(s.seconds,s.nanos)})(r))}function kg(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(o){return new vn(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function oT(r){const e=vn.fromString(r);return tn(fT(e),10190,{key:e.toString()}),e}function Jm(r,e){return kg(r.databaseId,e.path)}function Sm(r,e){const n=oT(e);if(n.get(1)!==r.databaseId.projectId)throw new $e(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new $e(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new tt(uT(n))}function lT(r,e){return kg(r.databaseId,e)}function EM(r){const e=oT(r);return e.length===4?vn.emptyPath():uT(e)}function Zm(r){return new vn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uT(r){return tn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xw(r,e,n){return{name:Jm(r,e),fields:n.value.mapValue.fields}}function bM(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ut(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(v,A){return v.useProto3Json?(tn(A===void 0||typeof A=="string",58123),Si.fromBase64String(A||"")):(tn(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Si.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&(function(v){const A=v.code===void 0?Re.UNKNOWN:iT(v.code);return new $e(A,v.message||"")})(h);n=new sT(s,o,u,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=$s(s.document.updateTime),h=s.document.createTime?$s(s.document.createTime):ht.min(),y=new _r({mapValue:{fields:s.document.fields}}),_=Pi.newFoundDocument(o,u,h,y),v=s.targetIds||[],A=s.removedTargetIds||[];n=new If(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?$s(s.readTime):ht.min(),h=Pi.newNoDocument(o,u),y=s.removedTargetIds||[];n=new If([],y,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new If([],u,o,null)}else{if(!("filter"in e))return ut(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new hM(o,u),y=s.targetId;n=new rT(y,h)}}return n}function TM(r,e){let n;if(e instanceof th)n={update:xw(r,e.key,e.value)};else if(e instanceof Pg)n={delete:Jm(r,e.key)};else if(e instanceof zo)n={update:xw(r,e.key,e.data),updateMask:xM(e.fieldMask)};else{if(!(e instanceof lM))return ut(16599,{Vt:e.type});n={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const y=h.transform;if(y instanceof qf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof bu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Gf)return{fieldPath:h.field.canonicalString(),increment:y.Ae};throw ut(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:wM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ut(27497)})(r,e.precondition)),n}function AM(r,e){return r&&r.length>0?(tn(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?$s(o.updateTime):$s(u);return h.isEqual(ht.min())&&(h=$s(u)),new sM(h,o.transformResults||[])})(n,e)))):[]}function SM(r,e){return{documents:[lT(r,e.path)]}}function CM(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=lT(r,o);const u=(function(v){if(v.length!==0)return hT(Ts.create(v,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(v){if(v.length!==0)return v.map((A=>(function(x){return{field:uu(x.field),direction:NM(x.dir)}})(A)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const y=Qm(r,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:o}}function RM(r){let e=EM(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){tn(s===1,65062);const A=n.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=(function(N){const x=cT(N);return x instanceof Ts&&Ub(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(N){return N.map((x=>(function(K){return new Hf(cu(K.field),(function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(x)))})(n.orderBy));let y=null;n.limit&&(y=(function(N){let x;return x=typeof N=="object"?N.value:N,ad(x)?null:x})(n.limit));let _=null;n.startAt&&(_=(function(N){const x=!!N.before,R=N.values||[];return new Ff(R,x)})(n.startAt));let v=null;return n.endAt&&(v=(function(N){const x=!N.before,R=N.values||[];return new Ff(R,x)})(n.endAt)),$N(e,o,h,u,y,"F",_,v)}function IM(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=cu(n.unaryFilter.field);return Qn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=cu(n.unaryFilter.field);return Qn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=cu(n.unaryFilter.field);return Qn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=cu(n.unaryFilter.field);return Qn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Qn.create(cu(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ts.create(n.compositeFilter.filters.map((s=>cT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(n.compositeFilter.op))})(r):ut(30097,{filter:r})}function NM(r){return gM[r]}function MM(r){return yM[r]}function OM(r){return vM[r]}function uu(r){return{fieldPath:r.canonicalString()}}function cu(r){return Ai.fromServerFormat(r.fieldPath)}function hT(r){return r instanceof Qn?(function(n){if(n.op==="=="){if(_w(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(vw(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_w(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(vw(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:MM(n.op),value:n.value}}})(r):r instanceof Ts?(function(n){const s=n.getFilters().map((o=>hT(o)));return s.length===1?s[0]:{compositeFilter:{op:OM(n.op),filters:s}}})(r):ut(54877,{filter:r})}function xM(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,s,o,u=ht.min(),h=ht.min(),y=Si.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.yt=e}}function PM(r){const e=RM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.Cn=new LM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(Mo.min())}updateCollectionGroup(e,n,s){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class LM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new ti(vn.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ti(vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dT=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(dT,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Au(0)}static cr(){return new Au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="LruGarbageCollector",kM=1048576;function Vw([r,e],[n,s]){const o=Vt(r,n);return o===0?Vt(e,s):o}class jM{constructor(e){this.Ir=e,this.buffer=new ti(Vw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Vw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ye(Pw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pu(n)?Ye(Pw,"Ignoring IndexedDB error during garbage collection: ",n):await Du(n)}await this.Vr(3e5)}))}}class BM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Ie.resolve(sd.ce);const s=new jM(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(Dw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,y,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,h=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(s=N,y=Date.now(),this.removeTargets(e,s,n)))).next((N=>(u=N,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((N=>(v=Date.now(),ou()<=Pt.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-A}ms
	Determined least recently used ${o} in `+(y-h)+`ms
	Removed ${u} targets in `+(_-y)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N}))))}}function zM(r,e){return new BM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.changes=new wl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Vc(s.mutation,o,jr.empty(),Sn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Lt()){const o=fl();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Rc();return u.forEach(((y,_)=>{h=h.insert(y,_.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=fl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Lt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,y)=>{n.set(h,y)}))}))}computeViews(e,n,s,o){let u=La();const h=Pc(),y=(function(){return Pc()})();return n.forEach(((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof zo)?u=u.insert(v.key,v):A!==void 0?(h.set(v.key,A.mutation.getFieldMask()),Vc(A.mutation,v,A.mutation.getFieldMask(),Sn.now())):h.set(v.key,jr.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((v,A)=>h.set(v,A))),n.forEach(((v,A)=>y.set(v,new HM(A,h.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,n){const s=Pc();let o=new Mn(((h,y)=>h-y)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const y of h)y.keys().forEach((_=>{const v=n.get(_);if(v===null)return;let A=s.get(_)||jr.empty();A=y.applyToLocalView(v,A),s.set(_,A);const N=(o.get(y.batchId)||Lt()).add(_);o=o.insert(y.batchId,N)}))})).next((()=>{const h=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,A=_.value,N=Wb();A.forEach((x=>{if(!u.has(x)){const R=tT(n.get(x),s.get(x));R!==null&&N.set(x,R),u=u.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,N))}return Ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return tt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Ie.resolve(fl());let y=zc,_=u;return h.next((v=>Ie.forEach(v,((A,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),u.get(A)?Ie.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,_,v,Lt()))).next((A=>({batchId:y,changes:Yb(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tt(n)).next((s=>{let o=Rc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Rc();return this.indexManager.getCollectionParents(e,u).next((y=>Ie.forEach(y,(_=>{const v=(function(N,x){return new eh(x,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((A=>{A.forEach(((N,x)=>{h=h.insert(N,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((_,v)=>{const A=v.getKey();h.get(A)===null&&(h=h.insert(A,Pi.newInvalidDocument(A)))}));let y=Rc();return h.forEach(((_,v)=>{const A=u.get(_);A!==void 0&&Vc(A.mutation,v,jr.empty(),Sn.now()),ud(n,v)&&(y=y.insert(_,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$s(o.createTime)}})(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:PM(o.bundledQuery),readTime:$s(o.readTime)}})(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.overlays=new Mn(tt.comparator),this.qr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fl();return Ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),Ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Ie.resolve()}getOverlaysForCollection(e,n,s){const o=fl(),u=n.length+1,h=new tt(n.child("")),y=this.overlays.getIteratorFrom(h);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Mn(((v,A)=>v-A));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let A=u.get(v.largestBatchId);A===null&&(A=fl(),u=u.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const y=fl(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>y.set(v,A))),!(y.size()>=o)););return Ie.resolve(y)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new cM(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Qr=new ti(li.$r),this.Ur=new ti(li.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new li(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new li(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new tt(new vn([])),s=new li(n,e),o=new li(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new tt(new vn([])),s=new li(n,e),o=new li(n,e+1);let u=Lt();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new li(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class li{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return tt.comparator(e.key,n.key)||Vt(e.Yr,n.Yr)}static Kr(e,n){return Vt(e.Yr,n.Yr)||tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ti(li.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new uM(u,n,s,o);this.mutationQueue.push(h);for(const y of o)this.Zr=this.Zr.add(new li(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Ie.resolve(h)}lookupMutationBatch(e,n){return Ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?Rg:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new li(n,0),o=new li(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const y=this.Xr(h.Yr);u.push(y)})),Ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ti(Vt);return n.forEach((o=>{const u=new li(o,0),h=new li(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(y=>{s=s.add(y.Yr)}))})),Ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;tt.isDocumentKey(u)||(u=u.child(""));const h=new li(new tt(u),0);let y=new ti(Vt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Yr)),!0)}),h),Ie.resolve(this.ti(y))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){tn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ie.forEach(n.mutations,(o=>{const u=new li(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new li(n,0),o=this.Zr.firstAfterOrEqual(s);return Ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.ri=e,this.docs=(function(){return new Mn(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Ie.resolve(s?s.document.mutableCopy():Pi.newInvalidDocument(n))}getEntries(e,n){let s=La();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Pi.newInvalidDocument(o))})),Ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=La();const h=n.path,y=new tt(h.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||AN(TN(A),s)<=0||(o.has(A.key)||ud(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return Ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ut(9500)}ii(e,n){return Ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new QM(this)}getSize(e){return Ie.resolve(this.size)}}class QM extends FM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.persistence=e,this.si=new wl((n=>Mg(n)),Og),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.oi=0,this._i=new jg,this.targetCount=0,this.ai=Au.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.Pr(n),Ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,y)=>{y.sequenceNumber<=n&&s.get(y.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Ie.waitFor(u).next((()=>o))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Ie.resolve(s)}containsKey(e,n){return Ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new YM,this.referenceDelegate=e(this),this.Pi=new XM(this),this.indexManager=new VM,this.remoteDocumentCache=(function(o){return new KM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DM(n),this.Ii=new GM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $M,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new WM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ye("MemoryPersistence","Starting transaction:",e);const o=new JM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class JM extends CN{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Ri=new jg,this.Vi=null}static mi(e){return new Ug(e)}get fi(){if(this.Vi)return this.Vi;throw ut(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(s=>{const o=tt.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ht.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yf{constructor(e,n){this.persistence=e,this.pi=new wl((s=>NN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=zM(this,n)}static mi(e,n){return new Yf(e,n)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((y=>{y||(s++,u.removeEntry(h,ht.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sf(e.data.value)),n}br(e,n,s){return Ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MC()?8:RN(Vi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new ZM;return this.Ss(e,n,h).next((y=>{if(u.result=y,this.Vs)return this.bs(e,n,h,y.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ou()<=Pt.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(ou()<=Pt.DEBUG&&Ye("QueryEngine","Query:",lu(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ou()<=Pt.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(n))):Ie.resolve())}ys(e,n){if(Tw(n))return Ie.resolve(null);let s=Gs(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),s=Gs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Lt(...u);return this.ps.getDocuments(e,h).next((y=>this.indexManager.getMinOffset(e,s).next((_=>{const v=this.Ds(n,y);return this.Cs(n,v,h,_.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,v,n,_)}))))})))))}ws(e,n,s,o){return Tw(n)||o.isEqual(ht.min())?Ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?Ie.resolve(null):(ou()<=Pt.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lu(n)),this.vs(e,h,n,bN(o,zc)).next((y=>y)))}))}Ds(e,n){let s=new ti(Gb(e));return n.forEach(((o,u)=>{ud(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ou()<=Pt.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",lu(n)),this.ps.getDocumentsMatchingQuery(e,n,Mo.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",tO=3e8;class nO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mn(Vt),this.xs=new wl((u=>Mg(u)),Og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iO(r,e,n,s){return new nO(r,e,n,s)}async function mT(r,e){const n=mt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],y=[];let _=Lt();for(const v of o){h.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of u){y.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return n.localDocuments.getDocuments(s,_).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:y})))}))}))}function rO(r,e){const n=mt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,v,A){const N=v.batch,x=N.keys();let R=Ie.resolve();return x.forEach((K=>{R=R.next((()=>A.getEntry(_,K))).next((se=>{const re=v.docVersions.get(K);tn(re!==null,48541),se.version.compareTo(re)<0&&(N.applyToRemoteDocument(se,v),se.isValidDocument()&&(se.setReadTime(v.commitVersion),A.addEntry(se)))}))})),R.next((()=>y.mutationQueue.removeMutationBatch(_,N)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let _=Lt();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function gT(r){const e=mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sO(r,e){const n=mt(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const y=[];e.targetChanges.forEach(((A,N)=>{const x=o.get(N);if(!x)return;y.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,N).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,N))));let R=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?R=R.withResumeToken(Si.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):A.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(A.resumeToken,s)),o=o.insert(N,R),(function(se,re,ee){return se.resumeToken.approximateByteSize()===0||re.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=tO?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(x,R,A)&&y.push(n.Pi.updateTargetData(u,R))}));let _=La(),v=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),y.push(aO(u,h,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!s.isEqual(ht.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((N=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));y.push(A)}return Ie.waitFor(y).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(n.Ms=o,u)))}function aO(r,e,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=La();return n.forEach(((y,_)=>{const v=u.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(ht.min())?(e.removeEntry(y,_.readTime),h=h.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),h=h.insert(y,_)):Ye(zg,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:h,qs:o}}))}function oO(r,e){const n=mt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lO(r,e){const n=mt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,Ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Ao(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function eg(r,e,n){const s=mt(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Pu(h))throw h;Ye(zg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Lw(r,e,n){const s=mt(r);let o=ht.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(_,v,A){const N=mt(_),x=N.xs.get(A);return x!==void 0?Ie.resolve(N.Ms.get(x)):N.Pi.getTargetData(v,A)})(s,h,Gs(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,y.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:ht.min(),n?u:Lt()))).next((y=>(uO(s,WN(e),y),{documents:y,Qs:u})))))}function uO(r,e,n){let s=r.Os.get(e)||ht.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class kw{constructor(){this.activeTargetIds=eM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cO{constructor(){this.Mo=new kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="ConnectivityMonitor";class Uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ye(jw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ye(jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function tg(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",fO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=tg(),y=this.zo(e,n.toUriEncodedString());Ye(Cm,`Sending RPC '${e}' ${h}:`,y,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,u);const{host:v}=new URL(y),A=Nu(v);return this.Jo(e,y,_,s,A).then((N=>(Ye(Cm,`Received RPC '${e}' ${h}: `,N),N)),(N=>{throw vu(Cm,`RPC '${e}' ${h} failed with error: `,N,"url: ",y,"request:",s),N}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=fO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="WebChannelConnection";class mO extends dO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=tg();return new Promise(((y,_)=>{const v=new vb;v.setWithCredentials(!0),v.listenOnce(_b.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Af.NO_ERROR:const N=v.getResponseJson();Ye(Oi,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(N)),y(N);break;case Af.TIMEOUT:Ye(Oi,`RPC '${e}' ${h} timed out`),_(new $e(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const x=v.getStatus();if(Ye(Oi,`RPC '${e}' ${h} failed with status:`,x,"response text:",v.getResponseText()),x>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const K=R?.error;if(K&&K.status&&K.message){const se=(function(ee){const le=ee.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(le)>=0?le:Re.UNKNOWN})(K.status);_(new $e(se,K.message))}else _(new $e(Re.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new $e(Re.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Ye(Oi,`RPC '${e}' ${h} completed.`)}}));const A=JSON.stringify(o);Ye(Oi,`RPC '${e}' ${h} sending request:`,o),v.send(n,"POST",A,s,15)}))}T_(e,n,s){const o=tg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=bb(),y=Eb(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const A=u.join("");Ye(Oi,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=h.createWebChannel(A,_);this.I_(N);let x=!1,R=!1;const K=new pO({Yo:re=>{R?Ye(Oi,`Not sending because RPC '${e}' stream ${o} is closed:`,re):(x||(Ye(Oi,`Opening RPC '${e}' stream ${o} transport.`),N.open(),x=!0),Ye(Oi,`RPC '${e}' stream ${o} sending:`,re),N.send(re))},Zo:()=>N.close()}),se=(re,ee,le)=>{re.listen(ee,(be=>{try{le(be)}catch(je){setTimeout((()=>{throw je}),0)}}))};return se(N,Cc.EventType.OPEN,(()=>{R||(Ye(Oi,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),se(N,Cc.EventType.CLOSE,(()=>{R||(R=!0,Ye(Oi,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(N))})),se(N,Cc.EventType.ERROR,(re=>{R||(R=!0,vu(Oi,`RPC '${e}' stream ${o} transport errored. Name:`,re.name,"Message:",re.message),K.a_(new $e(Re.UNAVAILABLE,"The operation could not be completed")))})),se(N,Cc.EventType.MESSAGE,(re=>{if(!R){const ee=re.data[0];tn(!!ee,16349);const le=ee,be=le?.error||le[0]?.error;if(be){Ye(Oi,`RPC '${e}' stream ${o} received error:`,be);const je=be.status;let we=(function(q){const k=Kn[q];if(k!==void 0)return iT(k)})(je),Me=be.message;we===void 0&&(we=Re.INTERNAL,Me="Unknown error status: "+je+" with message "+be.message),R=!0,K.a_(new $e(we,Me)),N.close()}else Ye(Oi,`RPC '${e}' stream ${o} received:`,ee),K.u_(ee)}})),se(y,wb.STAT_EVENT,(re=>{re.stat===Fm.PROXY?Ye(Oi,`RPC '${e}' stream ${o} detected buffering proxy`):re.stat===Fm.NOPROXY&&Ye(Oi,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r){return new _M(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="PersistentStream";class vT{constructor(e,n,s,o,u,h,y,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(Va(n.toString()),Va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new $e(Re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ye(Bw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ye(Bw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gO extends vT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bM(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ht.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ht.min():h.readTime?$s(h.readTime):ht.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(u,h){let y;const _=h.target;if(y=Ym(_)?{documents:SM(u,_)}:{query:CM(u,_).ft},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){y.resumeToken=aT(u,h.resumeToken);const v=Qm(u,h.expectedCount);v!==null&&(y.expectedCount=v)}else if(h.snapshotVersion.compareTo(ht.min())>0){y.readTime=$f(u,h.snapshotVersion.toTimestamp());const v=Qm(u,h.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const s=IM(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class yO extends vT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AM(e.writeResults,e.commitTime),s=$s(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>TM(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{}class _O extends vO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new $e(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Xm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(Re.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,y])=>this.connection.Ho(e,Xm(n,s),o,h,y,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new $e(Re.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Va(n),this.aa=!1):Ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class EO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{El(this)&&(Ye(vl,"Restarting streams for network reachability change."),await(async function(_){const v=mt(_);v.Ea.add(4),await ih(v),v.Ra.set("Unknown"),v.Ea.delete(4),await pd(v)})(this))}))})),this.Ra=new wO(s,o)}}async function pd(r){if(El(r))for(const e of r.da)await e(!0)}async function ih(r){for(const e of r.da)await e(!1)}function _T(r,e){const n=mt(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gg(n)?qg(n):Vu(n).O_()&&Hg(n,e))}function Fg(r,e){const n=mt(r),s=Vu(n);n.Ia.delete(e),s.O_()&&wT(n,e),n.Ia.size===0&&(s.O_()?s.L_():El(n)&&n.Ra.set("Unknown"))}function Hg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ht.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vu(r).Y_(e)}function wT(r,e){r.Va.Ue(e),Vu(r).Z_(e)}function qg(r){r.Va=new mM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Vu(r).start(),r.Ra.ua()}function Gg(r){return El(r)&&!Vu(r).x_()&&r.Ia.size>0}function El(r){return mt(r).Ea.size===0}function ET(r){r.Va=void 0}async function bO(r){r.Ra.set("Online")}async function TO(r){r.Ia.forEach(((e,n)=>{Hg(r,e)}))}async function AO(r,e){ET(r),Gg(r)?(r.Ra.ha(e),qg(r)):r.Ra.set("Unknown")}async function SO(r,e,n){if(r.Ra.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,h),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){Ye(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wf(r,s)}else if(e instanceof If?r.Va.Ze(e):e instanceof rT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ht.min()))try{const s=await gT(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const y=u.Va.Tt(h);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=u.Ia.get(v);A&&u.Ia.set(v,A.withResumeToken(_.resumeToken,h))}})),y.targetMismatches.forEach(((_,v)=>{const A=u.Ia.get(_);if(!A)return;u.Ia.set(_,A.withResumeToken(Si.EMPTY_BYTE_STRING,A.snapshotVersion)),wT(u,_);const N=new Ao(A.target,_,v,A.sequenceNumber);Hg(u,N)})),u.remoteSyncer.applyRemoteEvent(y)})(r,n)}catch(s){Ye(vl,"Failed to raise snapshot:",s),await Wf(r,s)}}async function Wf(r,e,n){if(!Pu(e))throw e;r.Ea.add(1),await ih(r),r.Ra.set("Offline"),n||(n=()=>gT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ye(vl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await pd(r)}))}function bT(r,e){return e().catch((n=>Wf(r,n,e)))}async function md(r){const e=mt(r),n=Po(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rg;for(;CO(e);)try{const o=await oO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,RO(e,o)}catch(o){await Wf(e,o)}TT(e)&&AT(e)}function CO(r){return El(r)&&r.Ta.length<10}function RO(r,e){r.Ta.push(e);const n=Po(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TT(r){return El(r)&&!Po(r).x_()&&r.Ta.length>0}function AT(r){Po(r).start()}async function IO(r){Po(r).ra()}async function NO(r){const e=Po(r);for(const n of r.Ta)e.ea(n.mutations)}async function MO(r,e,n){const s=r.Ta.shift(),o=Vg.from(s,e,n);await bT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await md(r)}async function OO(r,e){e&&Po(r).X_&&await(async function(s,o){if((function(h){return fM(h)&&h!==Re.ABORTED})(o.code)){const u=s.Ta.shift();Po(s).B_(),await bT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await md(s)}})(r,e),TT(r)&&AT(r)}async function zw(r,e){const n=mt(r);n.asyncQueue.verifyOperationInProgress(),Ye(vl,"RemoteStore received new credentials");const s=El(n);n.Ea.add(3),await ih(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pd(n)}async function xO(r,e){const n=mt(r);e?(n.Ea.delete(2),await pd(n)):e||(n.Ea.add(2),await ih(n),n.Ra.set("Unknown"))}function Vu(r){return r.ma||(r.ma=(function(n,s,o){const u=mt(n);return u.sa(),new gO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:bO.bind(null,r),t_:TO.bind(null,r),r_:AO.bind(null,r),H_:SO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gg(r)?qg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ET(r))}))),r.ma}function Po(r){return r.fa||(r.fa=(function(n,s,o){const u=mt(n);return u.sa(),new yO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:IO.bind(null,r),r_:OO.bind(null,r),ta:NO.bind(null,r),na:MO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await md(r)):(await r.fa.stop(),r.Ta.length>0&&(Ye(vl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,y=new $g(e,n,h,o,u);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(r,e){if(Va("AsyncQueue",`${e}: ${r}`),Pu(r))return new $e(Re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{static emptySet(e){return new mu(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||tt.comparator(n.key,s.key):(n,s)=>tt.comparator(n.key,s.key),this.keyedMap=Rc(),this.sortedSet=new Mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.ga=new Mn(tt.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ut(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Su{constructor(e,n,s,o,u,h,y,_,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((y=>{h.push({type:0,doc:y})})),new Su(e,n,mu.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PO{constructor(){this.queries=Hw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=mt(n),u=o.queries;o.queries=Hw(),u.forEach(((h,y)=>{for(const _ of y.Sa)_.onError(s)}))})(this,new $e(Re.ABORTED,"Firestore shutting down"))}}function Hw(){return new wl((r=>qb(r)),ld)}async function ST(r,e){const n=mt(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new DO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const y=Yg(h,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Wg(n)}async function CT(r,e){const n=mt(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function VO(r,e){const n=mt(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const y of h.Sa)y.Fa(o)&&(s=!0);h.wa=o}}s&&Wg(n)}function LO(r,e,n){const s=mt(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Wg(r){r.Ca.forEach((e=>{e.next()}))}var ng,qw;(qw=ng||(ng={})).Ma="default",qw.Cache="cache";class RT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Su(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.key=e}}class NT{constructor(e){this.key=e}}class kO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=Gb(e),this.tu=new mu(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Fw,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,N)=>{const x=o.get(A),R=ud(this.query,N)?N:null,K=!!x&&this.mutatedKeys.has(x.key),se=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let re=!1;x&&R?x.data.isEqual(R.data)?K!==se&&(s.track({type:3,doc:R}),re=!0):this.su(x,R)||(s.track({type:2,doc:R}),re=!0,(_&&this.eu(R,_)>0||v&&this.eu(R,v)<0)&&(y=!0)):!x&&R?(s.track({type:0,doc:R}),re=!0):x&&!R&&(s.track({type:1,doc:x}),re=!0,(_||v)&&(y=!0)),re&&(R?(h=h.add(R),u=se?u.add(A):u.delete(A)):(h=h.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const A=this.query.limitType==="F"?h.last():h.first();h=h.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{tu:h,iu:s,Cs:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((A,N)=>(function(R,K){const se=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Rt:re})}};return se(R)-se(K)})(A.type,N.type)||this.eu(A.doc,N.doc))),this.ou(s),o=o??!1;const y=n&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,h.length!==0||v?{snapshot:new Su(this.query,e.tu,u,h,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new NT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new IT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Su.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kg="SyncEngine";class jO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UO{constructor(e){this.key=e,this.hu=!1}}class BO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wl((y=>qb(y)),ld),this.Iu=new Map,this.Eu=new Set,this.du=new Mn(tt.comparator),this.Au=new Map,this.Ru=new jg,this.Vu={},this.mu=new Map,this.fu=Au.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zO(r,e,n=!0){const s=VT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await MT(s,e,n,!0),o}async function FO(r,e){const n=VT(r);await MT(n,e,!0,!1)}async function MT(r,e,n,s){const o=await lO(r.localStore,Gs(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let y;return s&&(y=await HO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&_T(r.remoteStore,o),y}async function HO(r,e,n,s,o){r.pu=(N,x,R)=>(async function(se,re,ee,le){let be=re.view.ru(ee);be.Cs&&(be=await Lw(se.localStore,re.query,!1).then((({documents:V})=>re.view.ru(V,be))));const je=le&&le.targetChanges.get(re.targetId),we=le&&le.targetMismatches.get(re.targetId)!=null,Me=re.view.applyChanges(be,se.isPrimaryClient,je,we);return $w(se,re.targetId,Me.au),Me.snapshot})(r,N,x,R);const u=await Lw(r.localStore,e,!0),h=new kO(e,u.Qs),y=h.ru(u.documents),_=nh.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),v=h.applyChanges(y,r.isPrimaryClient,_);$w(r,n,v.au);const A=new jO(e,n,h);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),v.snapshot}async function qO(r,e,n){const s=mt(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ld(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await eg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fg(s.remoteStore,o.targetId),ig(s,o.targetId)})).catch(Du)):(ig(s,o.targetId),await eg(s.localStore,o.targetId,!0))}async function GO(r,e){const n=mt(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fg(n.remoteStore,s.targetId))}async function $O(r,e,n){const s=ZO(r);try{const o=await(function(h,y){const _=mt(h),v=Sn.now(),A=y.reduce(((R,K)=>R.add(K.key)),Lt());let N,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let K=La(),se=Lt();return _.Ns.getEntries(R,A).next((re=>{K=re,K.forEach(((ee,le)=>{le.isValidDocument()||(se=se.add(ee))}))})).next((()=>_.localDocuments.getOverlayedDocuments(R,K))).next((re=>{N=re;const ee=[];for(const le of y){const be=oM(le,N.get(le.key).overlayedDocument);be!=null&&ee.push(new zo(le.key,be,Lb(be.value.mapValue),ws.exists(!0)))}return _.mutationQueue.addMutationBatch(R,v,ee,y)})).next((re=>{x=re;const ee=re.applyToLocalDocumentSet(N,se);return _.documentOverlayCache.saveOverlays(R,re.batchId,ee)}))})).then((()=>({batchId:x.batchId,changes:Yb(N)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,y,_){let v=h.Vu[h.currentUser.toKey()];v||(v=new Mn(Vt)),v=v.insert(y,_),h.Vu[h.currentUser.toKey()]=v})(s,o.batchId,n),await rh(s,o.changes),await md(s.remoteStore)}catch(o){const u=Yg(o,"Failed to persist write");n.reject(u)}}async function OT(r,e){const n=mt(r);try{const s=await sO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(tn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?tn(h.hu,14607):o.removedDocuments.size>0&&(tn(h.hu,42227),h.hu=!1))})),await rh(n,s,e)}catch(s){await Du(s)}}function Gw(r,e,n){const s=mt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const y=h.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(h,y){const _=mt(h);_.onlineState=y;let v=!1;_.queries.forEach(((A,N)=>{for(const x of N.Sa)x.va(y)&&(v=!0)})),v&&Wg(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YO(r,e,n){const s=mt(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new Mn(tt.comparator);h=h.insert(u,Pi.newNoDocument(u,ht.min()));const y=Lt().add(u),_=new fd(ht.min(),new Map,new Mn(Vt),h,y);await OT(s,_),s.du=s.du.remove(u),s.Au.delete(e),Qg(s)}else await eg(s.localStore,e,!1).then((()=>ig(s,e,n))).catch(Du)}async function WO(r,e){const n=mt(r),s=e.batch.batchId;try{const o=await rO(n.localStore,e);DT(n,s,null),xT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rh(n,o)}catch(o){await Du(o)}}async function KO(r,e,n){const s=mt(r);try{const o=await(function(h,y){const _=mt(h);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,y).next((N=>(tn(N!==null,37113),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,e);DT(s,e,n),xT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await rh(s,o)}catch(o){await Du(o)}}function xT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function DT(r,e,n){const s=mt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ig(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||PT(r,s)}))}function PT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Fg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Qg(r))}function $w(r,e,n){for(const s of n)s instanceof IT?(r.Ru.addReference(s.key,e),QO(r,s)):s instanceof NT?(Ye(Kg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||PT(r,s.key)):ut(19791,{wu:s})}function QO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(Ye(Kg,"New document in limbo: "+n),r.Eu.add(s),Qg(r))}function Qg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new tt(vn.fromString(e)),s=r.fu.next();r.Au.set(s,new UO(n)),r.du=r.du.insert(n,s),_T(r.remoteStore,new Ao(Gs(xg(n.path)),s,"TargetPurposeLimboResolution",sd.ce))}}async function rh(r,e,n){const s=mt(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,_)=>{h.push(s.pu(_,e,n).then((v=>{if((v||n)&&s.isPrimaryClient){const A=v?!v.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=Bg.As(_.targetId,v);u.push(A)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(_,v){const A=mt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Ie.forEach(v,(x=>Ie.forEach(x.Es,(R=>A.persistence.referenceDelegate.addReference(N,x.targetId,R))).next((()=>Ie.forEach(x.ds,(R=>A.persistence.referenceDelegate.removeReference(N,x.targetId,R)))))))))}catch(N){if(!Pu(N))throw N;Ye(zg,"Failed to update sequence numbers: "+N)}for(const N of v){const x=N.targetId;if(!N.fromCache){const R=A.Ms.get(x),K=R.snapshotVersion,se=R.withLastLimboFreeSnapshotVersion(K);A.Ms=A.Ms.insert(x,se)}}})(s.localStore,u))}async function XO(r,e){const n=mt(r);if(!n.currentUser.isEqual(e)){Ye(Kg,"User change. New user:",e.toKey());const s=await mT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((y=>{y.forEach((_=>{_.reject(new $e(Re.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rh(n,s.Ls)}}function JO(r,e){const n=mt(r),s=n.Au.get(e);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const y=n.Tu.get(h);o=o.unionWith(y.view.nu)}return o}}function VT(r){const e=mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YO.bind(null,e),e.Pu.H_=VO.bind(null,e.eventManager),e.Pu.yu=LO.bind(null,e.eventManager),e}function ZO(r){const e=mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,e),e}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iO(this.persistence,new eO,e.initialUser,this.serializer)}Cu(e){return new pT(Ug.mi,this.serializer)}Du(e){return new cO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class ex extends Kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tn(this.persistence.referenceDelegate instanceof Yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new pT((s=>Yf.mi(s,n)),this.serializer)}}class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XO.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PO})()}createDatastore(e){const n=dd(e.databaseInfo.databaseId),s=(function(u){return new mO(u)})(e.databaseInfo);return(function(u,h,y,_){return new _O(u,h,y,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,y){return new EO(s,o,u,h,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>Gw(this.syncEngine,n,0)),(function(){return Uw.v()?new Uw:new hO})())}createSyncEngine(e,n){return(function(o,u,h,y,_,v,A){const N=new BO(o,u,h,y,_,v);return A&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=mt(n);Ye(vl,"RemoteStore shutting down."),s.Ea.add(5),await ih(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Va("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class tx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=xi.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{Ye(Vo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(Ye(Vo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Im(r,e){r.asyncQueue.verifyOperationInProgress(),Ye(Vo,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await mT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Yw(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nx(r);Ye(Vo,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>zw(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>zw(e.remoteStore,o))),r._onlineComponents=e}async function nx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ye(Vo,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Re.FAILED_PRECONDITION||o.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vu("Error using user provided cache. Falling back to memory cache: "+n),await Im(r,new Kf)}}else Ye(Vo,"Using default OfflineComponentProvider"),await Im(r,new ex(void 0));return r._offlineComponents}async function kT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ye(Vo,"Using user provided OnlineComponentProvider"),await Yw(r,r._uninitializedComponentsProvider._online)):(Ye(Vo,"Using default OnlineComponentProvider"),await Yw(r,new rg))),r._onlineComponents}function ix(r){return kT(r).then((e=>e.syncEngine))}async function jT(r){const e=await kT(r),n=e.eventManager;return n.onListen=zO.bind(null,e.syncEngine),n.onUnlisten=qO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GO.bind(null,e.syncEngine),n}function rx(r,e,n={}){const s=new Ma;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,y,_,v){const A=new LT({next:x=>{A.Nu(),h.enqueueAndForget((()=>CT(u,N)));const R=x.docs.has(y);!R&&x.fromCache?v.reject(new $e(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&x.fromCache&&_&&_.source==="server"?v.reject(new $e(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),N=new RT(xg(y.path),A,{includeMetadataChanges:!0,qa:!0});return ST(u,N)})(await jT(r),r.asyncQueue,e,n,s))),s.promise}function sx(r,e,n={}){const s=new Ma;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,y,_,v){const A=new LT({next:x=>{A.Nu(),h.enqueueAndForget((()=>CT(u,N))),x.fromCache&&_.source==="server"?v.reject(new $e(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),N=new RT(y,A,{includeMetadataChanges:!0,qa:!0});return ST(u,N)})(await jT(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firestore.googleapis.com",Kw=!0;class Qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BT,this.ssl=Kw}else this.host=e.host,this.ssl=e.ssl??Kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kM)throw new $e(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hN;switch(s.type){case"firstParty":return new mN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new $e(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Ww.get(n);s&&(Ye("ComponentProvider","Removing Datastore"),Ww.delete(n),s.terminate())})(this),Promise.resolve()}}function ax(r,e,n,s={}){r=Ks(r,gd);const o=Nu(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${n}`;o&&(NE(`https://${y}`),ME("Firestore",!0)),u.host!==BT&&u.host!==y&&vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:y,ssl:o,emulatorOptions:s};if(!xa(_,h)&&(r._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=xi.MOCK_USER;else{v=EC(s.mockUserToken,r._app?.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new $e(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new xi(N)}r._authCredentials=new fN(new Ab(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Fn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}toJSON(){return{type:Fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Zc(n,Fn._jsonSchema))return new Fn(e,s||null,new tt(vn.fromString(n.referencePath)))}}Fn._jsonSchemaVersion="firestore/documentReference/1.0",Fn._jsonSchema={type:Xn("string",Fn._jsonSchemaVersion),referencePath:Xn("string")};class No extends Lu{constructor(e,n,s){super(e,n,xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new tt(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function Lo(r,e,...n){if(r=ui(r),Sb("collection","path",e),r instanceof gd){const s=vn.fromString(e,...n);return uw(s),new No(r,null,s)}{if(!(r instanceof Fn||r instanceof No))throw new $e(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vn.fromString(e,...n));return uw(s),new No(r.firestore,null,s)}}function bl(r,e,...n){if(r=ui(r),arguments.length===1&&(e=Cg.newId()),Sb("doc","path",e),r instanceof gd){const s=vn.fromString(e,...n);return lw(s),new Fn(r,null,new tt(s))}{if(!(r instanceof Fn||r instanceof No))throw new $e(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vn.fromString(e,...n));return lw(s),new Fn(r.firestore,r instanceof No?r.converter:null,new tt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="AsyncQueue";class Jw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yT(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&Ye(Xw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pu(e))throw e;Ye(Xw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Va("INTERNAL UNHANDLED ERROR: ",Zw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$g.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ut(47125,{Pc:Zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zw(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ku extends gd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Jw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jw(e),this._firestoreClient=void 0,await e}}}function ox(r,e){const n=typeof r=="object"?r:PE(),s=typeof r=="string"?r:Bf,o=gg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_C("firestore");u&&ax(o,...u)}return o}function Xg(r){if(r._terminated)throw new $e(Re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lx(r),r._firestoreClient}function lx(r){const e=r._freezeSettings(),n=(function(o,u,h,y){return new xN(o,u,h,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,UT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(Si.fromBase64String(e))}catch(n){throw new $e(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,rs._jsonSchema))return rs.fromBase64String(e.bytes)}}rs._jsonSchemaVersion="firestore/bytes/1.0",rs._jsonSchema={type:Xn("string",rs._jsonSchemaVersion),bytes:Xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:Xn("string",Ys._jsonSchemaVersion),latitude:Xn("number"),longitude:Xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,Ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ws(e.vectorValues);throw new $e(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ws._jsonSchemaVersion="firestore/vectorValue/1.0",Ws._jsonSchema={type:Xn("string",Ws._jsonSchemaVersion),vectorValues:Xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^__.*__$/;class cx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}class zT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{Ac:r})}}class vd{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FT(this.Ac)&&ux.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||dd(e)}Cc(e,n,s,o=!1){return new vd({Ac:e,methodName:n,Dc:s,path:Ai.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jg(r){const e=r._freezeSettings(),n=dd(r._databaseId);return new hx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function fx(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);ty("Data must be an object, but it was:",h,s);const y=qT(s,h);let _,v;if(u.merge)_=new jr(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const A=[];for(const N of u.mergeFields){const x=sg(e,N,n);if(!h.contains(x))throw new $e(Re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);$T(A,x)||A.push(x)}_=new jr(A),v=h.fieldTransforms.filter((N=>_.covers(N.field)))}else _=null,v=h.fieldTransforms;return new cx(new _r(y),_,v)}class _d extends sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function HT(r,e,n){return new vd({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zg extends sh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HT(this,e,!0),s=this.vc.map((u=>Tl(u,n))),o=new bu(s);return new eT(e.path,o)}isEqual(e){return e instanceof Zg&&xa(this.vc,e.vc)}}class ey extends sh{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HT(this,e,!0),s=this.vc.map((u=>Tl(u,n))),o=new Tu(s);return new eT(e.path,o)}isEqual(e){return e instanceof ey&&xa(this.vc,e.vc)}}function dx(r,e,n,s){const o=r.Cc(1,e,n);ty("Data must be an object, but it was:",o,s);const u=[],h=_r.empty();Bo(s,((_,v)=>{const A=ny(e,_,n);v=ui(v);const N=o.yc(A);if(v instanceof _d)u.push(A);else{const x=Tl(v,N);x!=null&&(u.push(A),h.set(A,x))}}));const y=new jr(u);return new zT(h,y,o.fieldTransforms)}function px(r,e,n,s,o,u){const h=r.Cc(1,e,n),y=[sg(e,s,n)],_=[o];if(u.length%2!=0)throw new $e(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)y.push(sg(e,u[x])),_.push(u[x+1]);const v=[],A=_r.empty();for(let x=y.length-1;x>=0;--x)if(!$T(v,y[x])){const R=y[x];let K=_[x];K=ui(K);const se=h.yc(R);if(K instanceof _d)v.push(R);else{const re=Tl(K,se);re!=null&&(v.push(R),A.set(R,re))}}const N=new jr(v);return new zT(A,N,h.fieldTransforms)}function mx(r,e,n,s=!1){return Tl(n,r.Cc(s?4:3,e))}function Tl(r,e){if(GT(r=ui(r)))return ty("Unsupported field value:",e,r),qT(r,e);if(r instanceof sh)return(function(s,o){if(!FT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const y of s){let _=Tl(y,o.wc(h));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ui(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Sn.fromDate(s);return{timestampValue:$f(o.serializer,u)}}if(s instanceof Sn){const u=new Sn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$f(o.serializer,u)}}if(s instanceof Ys)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof rs)return{bytesValue:aT(o.serializer,s._byteString)};if(s instanceof Fn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ws)return(function(h,y){return{mapValue:{fields:{[Pb]:{stringValue:Vb},[zf]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Dg(y.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${rd(s)}`)})(r,e)}function qT(r,e){const n={};return Ib(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(r,((s,o)=>{const u=Tl(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function GT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Sn||r instanceof Ys||r instanceof rs||r instanceof Fn||r instanceof sh||r instanceof Ws)}function ty(r,e,n){if(!GT(n)||!Cb(n)){const s=rd(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sg(r,e,n){if((e=ui(e))instanceof yd)return e._internalPath;if(typeof e=="string")return ny(r,e);throw Qf("Field path arguments must be of type string or ",r,!1,void 0,n)}const gx=new RegExp("[~\\*/\\[\\]]");function ny(r,e,n){if(e.search(gx)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new yd(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qf(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(u||h)&&(_+=" (found",u&&(_+=` in field ${s}`),h&&(_+=` in document ${o}`),_+=")"),new $e(Re.INVALID_ARGUMENT,y+r+_)}function $T(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yx extends YT{data(){return super.data()}}function iy(r,e){return typeof e=="string"?ny(r,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new $e(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class _x extends ry{}function eE(r,e,...n){let s=[];e instanceof ry&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((_=>_ instanceof sy)).length,y=u.filter((_=>_ instanceof wd)).length;if(h>1||h>0&&y>0)throw new $e(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class wd extends _x{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new wd(e,n,s)}_apply(e){const n=this._parse(e);return WT(e._query,n),new Lu(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=Jg(e.firestore);return(function(u,h,y,_,v,A,N){let x;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new $e(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){iE(N,A);const K=[];for(const se of N)K.push(nE(_,u,se));x={arrayValue:{values:K}}}else x=nE(_,u,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||iE(N,A),x=mx(y,h,N,A==="in"||A==="not-in");return Qn.create(v,A,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tE(r,e,n){const s=e,o=iy("where",r);return wd._create(o,s,n)}class sy extends ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const y=u.getFlattenedFilters();for(const _ of y)WT(h,_),h=Wm(h,_)})(e._query,n),new Lu(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(r,e,n){if(typeof(n=ui(n))=="string"){if(n==="")throw new $e(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hb(e)&&n.indexOf("/")!==-1)throw new $e(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(vn.fromString(n));if(!tt.isDocumentKey(s))throw new $e(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yw(r,new tt(s))}if(n instanceof Fn)return yw(r,n._key);throw new $e(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(n)}.`)}function iE(r,e){if(!Array.isArray(r)||r.length===0)throw new $e(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WT(r,e){const n=(function(o,u){for(const h of o)for(const y of h.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new $e(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wx{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ut(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bo(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[zf].arrayValue?.values?.map((s=>zn(s.doubleValue)));return new Ws(n)}convertGeoPoint(e){return new Ys(zn(e.latitude),zn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=od(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=Oo(e);return new Sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vn.fromString(e);tn(fT(s),9688,{name:e});const o=new Hc(s.get(1),s.get(3)),u=new tt(s.popFirst(5));return o.isEqual(n)||Va(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends YT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(iy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",dl._jsonSchema={type:Xn("string",dl._jsonSchemaVersion),bundleSource:Xn("string","DocumentSnapshot"),bundleName:Xn("string"),bundle:Xn("string")};class Nf extends dl{data(e={}){return super.data(e)}}class gu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nf(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((y=>{const _=new Nf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Nc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const _=new Nf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Nc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return y.type!==0&&(v=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),y.type!==1&&(h=h.add(y.doc),A=h.indexOf(y.doc.key)),{type:bx(y.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(r){r=Ks(r,Fn);const e=Ks(r.firestore,ku);return rx(Xg(e),r._key).then((n=>Cx(e,r,n)))}gu._jsonSchemaVersion="firestore/querySnapshot/1.0",gu._jsonSchema={type:Xn("string",gu._jsonSchemaVersion),bundleSource:Xn("string","QuerySnapshot"),bundleName:Xn("string"),bundle:Xn("string")};class KT extends wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function ko(r){r=Ks(r,Lu);const e=Ks(r.firestore,ku),n=Xg(e),s=new KT(e);return vx(r._query),sx(n,r._query).then((o=>new gu(e,s,r,o)))}function Ax(r,e,n){r=Ks(r,Fn);const s=Ks(r.firestore,ku),o=Ex(r.converter,e);return ay(s,[fx(Jg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ws.none())])}function Ed(r,e,n,...s){r=Ks(r,Fn);const o=Ks(r.firestore,ku),u=Jg(o);let h;return h=typeof(e=ui(e))=="string"||e instanceof yd?px(u,"updateDoc",r._key,e,n,s):dx(u,"updateDoc",r._key,e),ay(o,[h.toMutation(r._key,ws.exists(!0))])}function Sx(r){return ay(Ks(r.firestore,ku),[new Pg(r._key,ws.none())])}function ay(r,e){return(function(s,o){const u=new Ma;return s.asyncQueue.enqueueAndForget((async()=>$O(await ix(s),o,u))),u.promise})(Xg(r),e)}function Cx(r,e,n){const s=n.docs.get(e._key),o=new KT(r);return new dl(r,o,e._key,s,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}function Rx(...r){return new Zg("arrayUnion",r)}function Ix(...r){return new ey("arrayRemove",r)}(function(e,n=!0){(function(o){xu=o})(Mu),yu(new pl("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),y=new ku(new dN(s.getProvider("auth-internal")),new gN(h,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new $e(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(v.options.projectId,A)})(h,o),h);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),Ro(rw,sw,e),Ro(rw,sw,"esm2020")})();const rE={apiKey:"AIzaSyDVv2A230kO4rfrWyUpocZonZQ37cEdv6k",authDomain:"streamaware-app-3093a.firebaseapp.com",projectId:"streamaware-app-3093a",storageBucket:"streamaware-app-3093a.firebasestorage.app",messagingSenderId:"229925050973",appId:"1:229925050973:web:b31b592120302a8d3c0bb4"};let oy;try{oy=DE(rE),console.log(" Firebase initialized successfully with new project:",rE.projectId)}catch(r){throw console.error(" Firebase initialization error:",r),new Error("Failed to initialize Firebase: "+r.message)}const kr=uN(oy),Ki=ox(oy),Nx=async(r,e,n,s)=>{try{console.log(" Attempting to register user:",r);const u=(await YI(kr,r,e)).user;return await Ax(bl(Ki,"users",u.uid),{username:n,email:r,country:s,favorites:[],profileImage:"/images/cat-profile.svg"}),console.log(" Bruger oprettet:",u.uid),u}catch(o){throw console.error(" Fejl ved oprettelse:",o),console.error(" Error code:",o.code),console.error(" Error message:",o.message),o}},Mx=async(r,e)=>{try{console.log(" Attempting to log in user:",r);const n=await WI(kr,r,e);return console.log(" Logget ind som:",n.user.uid),n.user}catch(n){throw console.error(" Fejl ved login:",n),console.error(" Error code:",n.code),console.error(" Error message:",n.message),n}},Ox=async()=>{try{await XI(kr),console.log(" Bruger logget ud")}catch(r){throw console.error(" Fejl ved logout:",r.message),r}},bd=async r=>{try{const e=bl(Ki,"users",r),n=await Tx(e);return n.exists()?(console.log(" User data loaded:",r),n.data()):(console.log(" No user data found"),null)}catch(e){throw console.error(" Error loading user data:",e),e}},xx=async(r,e,n)=>{try{const s=bl(Ki,"users",r);return await Ed(s,{favorites:Rx({id:e,type:n,addedAt:new Date})}),console.log(" Added to favorites:",e),!0}catch(s){throw console.error(" Error adding to favorites:",s),s}},Dx=async(r,e)=>{try{const n=bl(Ki,"users",r),s=await bd(r);if(s&&s.favorites){const o=s.favorites.find(u=>u.id===e);if(o)return await Ed(n,{favorites:Ix(o)}),console.log(" Removed from favorites:",e),!0}return!1}catch(n){throw console.error(" Error removing from favorites:",n),n}},QT=async r=>{try{return(await bd(r))?.favorites||[]}catch(e){throw console.error(" Error loading user favorites:",e),e}},Px=async(r,e)=>{try{const n=bl(Ki,"users",r);return await Ed(n,{profileImage:e}),console.log(" Profile image updated:",e),!0}catch(n){throw console.error(" Error updating profile image:",n),n}},Vx=async(r,e)=>{try{const n=bl(Ki,"users",r);await Ed(n,{country:e,updatedAt:new Date}),console.log(" User country updated successfully")}catch(n){throw console.error(" Error updating user country:",n),n}},Lx="_container_1r3uj_1",kx="_form_1r3uj_22",jx="_inputWrapper_1r3uj_33",Ux="_selectField_1r3uj_41",Bx="_selected_1r3uj_60",zx="_signUpButton_1r3uj_100",Fx="_helpIcon_1r3uj_106",Hx="_fieldError_1r3uj_131",pr={container:Lx,form:kx,inputWrapper:jx,selectField:Ux,selected:Bx,signUpButton:zx,helpIcon:Fx,fieldError:Hx},qx="_input_1h0ea_1",Gx={input:qx};function Lc({type:r="text",placeholder:e,value:n,onChange:s,autoComplete:o}){return M.jsx("input",{type:r,placeholder:e,value:n,onChange:s,className:Gx.input,autoComplete:o})}const $x="_overlay_1ayg8_1",Yx="_popup_1ayg8_15",Wx="_title_1ayg8_28",Kx="_countryList_1ayg8_35",Qx="_countryItem_1ayg8_40",Tc={overlay:$x,popup:Yx,title:Wx,countryList:Kx,countryItem:Qx},Xx=["Albania","Andorra","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Hungary","Iceland","Ireland","Italy","Kazakhstan","Kosovo","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Moldova","Monaco","Montenegro","Netherlands","North Macedonia","Norway","Poland","Portugal","Romania","San Marino","Serbia","Slovakia","Slovenia","Spain","Sweden","Switzerland","Turkey","Ukraine","United Kingdom","Vatican City"];function ag({isOpen:r,onClose:e,onSelect:n,title:s="Select Country"}){return r?M.jsx("div",{className:Tc.overlay,onClick:e,children:M.jsxs("div",{className:Tc.popup,onClick:o=>o.stopPropagation(),children:[M.jsx("h2",{className:Tc.title,children:s}),M.jsx("div",{className:Tc.countryList,children:Xx.map(o=>M.jsx("div",{className:Tc.countryItem,onClick:()=>n(o),children:o},o))})]})}):null}const Jx="_backButton_1mc4h_1",Zx={backButton:Jx};function XT(){const r=Li();return M.jsxs("button",{onClick:()=>r("/"),className:Zx.backButton,children:[M.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{d:"M15 18L9 12L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),M.jsx("span",{children:"Back"})]})}function eD(){const r=Li(),[e,n]=X.useState(""),[s,o]=X.useState(""),[u,h]=X.useState(""),[y,_]=X.useState(""),[v,A]=X.useState(!1),[N,x]=X.useState(!1),[R,K]=X.useState({username:!1,email:!1,country:!1,password:!1}),[se,re]=X.useState(!1),[ee,le]=X.useState(!1),[be,je]=X.useState(0),[we,Me]=X.useState(0),V=G=>{je(G.targetTouches[0].clientX)},q=G=>{Me(G.targetTouches[0].clientX)},k=()=>{be-we<-100&&r("/")},z=G=>{h(G),A(!1)},I=G=>/^[a-zA-Z0-9_]+$/.test(G),U=G=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G),D=async()=>{re(!0);const G={username:!1,email:!1,country:!1,password:!1};if(e.trim()&&I(e)||(G.username=!0),s.trim()&&U(s)||(G.email=!0),u||(G.country=!0),y.trim()?y.length<6&&(G.password=!0):G.password=!0,K(G),!Object.values(G).some(te=>te)){le(!0);try{await Nx(s,y,e,u),r("/login")}catch(te){console.error(" Registration error:",te.message),te.code==="auth/email-already-in-use"?(K(Y=>({...Y,email:!0})),alert("This email is already registered. Please use a different email or try logging in.")):te.code==="auth/weak-password"?(K(Y=>({...Y,password:!0})),alert("Password is too weak. Please choose a stronger password.")):alert("Registration failed: "+te.message)}finally{le(!1)}}};return M.jsxs("div",{className:pr.container,onTouchStart:V,onTouchMove:q,onTouchEnd:k,children:[M.jsx(XT,{}),M.jsx("h1",{children:"Sign up"}),M.jsxs("div",{className:pr.form,children:[M.jsxs("div",{className:pr.inputWrapper,children:[M.jsx(Lc,{name:"username",type:"text",placeholder:"Username",autoComplete:"username",value:e,onChange:G=>{n(G.target.value),R.username&&G.target.value.trim()&&I(G.target.value)&&K(te=>({...te,username:!1}))}}),R.username&&e&&se&&M.jsx("span",{className:pr.fieldError,children:"Only letters, numbers and _ allowed"})]}),M.jsxs("div",{className:pr.inputWrapper,children:[M.jsx(Lc,{name:"email",type:"email",placeholder:"E-mail",autoComplete:"email",value:s,onChange:G=>{o(G.target.value),R.email&&G.target.value.trim()&&U(G.target.value)&&K(te=>({...te,email:!1}))}}),R.email&&s&&se&&M.jsx("span",{className:pr.fieldError,children:"Please enter a valid email address"})]}),M.jsxs("div",{className:pr.inputWrapper,children:[M.jsx(Lc,{name:"password",type:"password",placeholder:"Password",autoComplete:"new-password",value:y,onChange:G=>{_(G.target.value),R.password&&G.target.value.trim()&&G.target.value.length>=6&&K(te=>({...te,password:!1}))}}),R.password&&y&&se&&M.jsx("span",{className:pr.fieldError,children:"Password must be at least 6 characters"})]}),M.jsxs("div",{className:pr.inputWrapper,children:[M.jsx("div",{className:`${pr.selectField} ${u?pr.selected:""}`,onClick:()=>A(!0),children:u||"Select Country"}),M.jsx("button",{onClick:()=>x(!0),className:pr.helpIcon,children:"?"}),R.country&&se&&M.jsx("span",{className:pr.fieldError,children:"Please select a country"})]}),M.jsx(Di,{className:pr.signUpButton,onClick:D,disabled:ee,children:ee?"Creating Account...":"Sign Up"})]}),v&&M.jsx(ag,{isOpen:v,onClose:()=>A(!1),onSelect:z}),N&&M.jsxs(bE,{isOpen:N,onClose:()=>x(!1),children:[M.jsx("p",{children:"Choose the country you live in, but dont worry, you can always change it in your profile."}),M.jsx("p",{children:"This wont affect the language of the app"})]})]})}const tD="_container_1nszc_1",nD="_form_1nszc_22",iD="_inputWrapper_1nszc_33",rD="_logInButton_1nszc_100",sD="_fieldError_1nszc_131",ll={container:tD,form:nD,inputWrapper:iD,logInButton:rD,fieldError:sD};function aD(){const r=Li(),[e,n]=X.useState(0),[s,o]=X.useState(0),[u,h]=X.useState(""),[y,_]=X.useState(""),[v,A]=X.useState({usernameOrEmail:!1,password:!1}),[N,x]=X.useState(!1),[R,K]=X.useState(!1),se=we=>{n(we.targetTouches[0].clientX)},re=we=>{o(we.targetTouches[0].clientX)},ee=()=>{e-s<-100&&r("/")},le=we=>{const Me=/^[a-zA-Z0-9_]+$/,V=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return Me.test(we)||V.test(we)},be=we=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(we),je=async()=>{x(!0);const we={usernameOrEmail:!1,password:!1};if(u.trim()&&le(u)||(we.usernameOrEmail=!0),y.trim()||(we.password=!0),A(we),!Object.values(we).some(Me=>Me)){if(!be(u)){A(Me=>({...Me,usernameOrEmail:!0})),alert("Please use your email address to log in. Firebase Authentication requires email, not username.");return}K(!0);try{await Mx(u,y),typeof window<"u"&&window.localStorage&&localStorage.removeItem("isGuest");const Me=typeof window<"u"&&window.sessionStorage&&sessionStorage.getItem("postLoginRedirect")||"/homepage";typeof window<"u"&&window.sessionStorage&&sessionStorage.removeItem("postLoginRedirect"),r(Me)}catch(Me){console.error(" Login error:",Me.message),Me.code==="auth/user-not-found"?(A(V=>({...V,usernameOrEmail:!0})),alert("No account found with this email. Please check your email or sign up.")):Me.code==="auth/wrong-password"?(A(V=>({...V,password:!0})),alert("Incorrect password. Please try again.")):Me.code==="auth/invalid-email"?(A(V=>({...V,usernameOrEmail:!0})),alert("Invalid email format. Please enter a valid email address.")):Me.code==="auth/too-many-requests"?alert("Too many failed login attempts. Please try again later."):alert("Login failed: "+Me.message)}finally{K(!1)}}};return M.jsxs("div",{className:ll.container,onTouchStart:se,onTouchMove:re,onTouchEnd:ee,children:[M.jsx(XT,{}),M.jsx("h1",{children:"Log In"}),M.jsxs("div",{className:ll.form,children:[M.jsxs("div",{className:ll.inputWrapper,children:[M.jsx(Lc,{name:"usernameOrEmail",type:"email",placeholder:"Email",autoComplete:"email",value:u,onChange:we=>{h(we.target.value),v.usernameOrEmail&&we.target.value.trim()&&le(we.target.value)&&A(Me=>({...Me,usernameOrEmail:!1}))}}),v.usernameOrEmail&&u&&N&&M.jsx("span",{className:ll.fieldError,children:"Please enter a valid email address"})]}),M.jsxs("div",{className:ll.inputWrapper,children:[M.jsx(Lc,{name:"password",type:"password",placeholder:"Password",autoComplete:"current-password",value:y,onChange:we=>{_(we.target.value),v.password&&we.target.value.trim()&&A(Me=>({...Me,password:!1}))}}),v.password&&y&&N&&M.jsx("span",{className:ll.fieldError,children:"Please enter your password"})]}),M.jsx(Di,{className:ll.logInButton,onClick:je,disabled:R,children:R?"Logging In...":"Log In"})]})]})}const oD="_container_62v0j_1",lD="_header_62v0j_14",uD="_loading_62v0j_22",cD="_filterContainer_62v0j_31",hD="_filterButton_62v0j_45",fD="_content_62v0j_63",dD="_featuredSection_62v0j_75",pD="_featuredCarousel_62v0j_82",mD="_featuredItem_62v0j_98",gD="_section_62v0j_130",yD="_sectionTitle_62v0j_137",vD="_servicesGrid_62v0j_145",_D="_serviceCard_62v0j_161",wD="_hboMaxLogo_62v0j_217",ED="_horizontalScroll_62v0j_222",bD="_contentCard_62v0j_235",wt={container:oD,header:lD,loading:uD,filterContainer:cD,filterButton:hD,content:fD,featuredSection:dD,featuredCarousel:pD,featuredItem:mD,section:gD,sectionTitle:yD,servicesGrid:vD,serviceCard:_D,hboMaxLogo:wD,horizontalScroll:ED,contentCard:bD},TD="_logoWrapper_1qs2y_1",AD="_logo_1qs2y_1",sE={logoWrapper:TD,logo:AD};function ju(){return M.jsx("div",{className:sE.logoWrapper,children:M.jsx("a",{href:"/homepage",children:M.jsx("img",{src:"images/streamaware-logo.svg",alt:"StreamAware Logo",className:sE.logo})})})}const SD="_bottomNav_18snz_1",CD="_navButton_18snz_17",RD="_profileImage_18snz_37",ID="_profileImageActive_18snz_45",ul={bottomNav:SD,navButton:CD,profileImage:RD,profileImageActive:ID},ND="_popup_2ei30_1",MD="_content_2ei30_14",OD="_title_2ei30_27",xD="_message_2ei30_34",DD="_actions_2ei30_40",PD="_primaryButton_2ei30_51",VD="_cancelButton_2ei30_59",cl={popup:ND,content:MD,title:OD,message:xD,actions:DD,primaryButton:PD,cancelButton:VD};function ly({isOpen:r,onClose:e,onLogin:n,primaryClassName:s,cancelClassName:o}){return r?M.jsx("div",{className:cl.popup,onClick:e,children:M.jsxs("div",{className:cl.content,onClick:u=>u.stopPropagation(),children:[M.jsx("h3",{className:cl.title,children:"Login required"}),M.jsx("p",{className:cl.message,children:"You need to be logged in to access this feature. Would you like to log in or sign up?"}),M.jsxs("div",{className:cl.actions,children:[M.jsx(Di,{onClick:n,className:s||cl.primaryButton,children:"Log in / Sign up"}),M.jsx(Di,{onClick:e,className:o||cl.cancelButton,children:"Cancel"})]})]})}):null}function Nm(){return typeof window<"u"&&window.localStorage&&localStorage.getItem("isGuest")==="1"}function Xs(){const r=Li(),e=Ur(),[n,s]=X.useState(!1),[o,u]=X.useState("/images/profile-opacity.svg");X.useEffect(()=>{(async()=>{if(!Nm())try{const v=kr?.currentUser?.uid;if(v){const A=await bd(v);A&&A.profileImage&&u(A.profileImage)}}catch(v){console.error("Error loading user profile image:",v)}})();const _=v=>{u(v.detail.profileImage)};return window.addEventListener("profileImageUpdated",_),()=>{window.removeEventListener("profileImageUpdated",_)}},[]);const h=y=>{if(y==="/favorites"&&Nm()){typeof window<"u"&&window.sessionStorage&&sessionStorage.setItem("guestOrigin",e.pathname),s(!0);return}r(y)};return M.jsxs(M.Fragment,{children:[M.jsxs("nav",{className:ul.bottomNav,children:[M.jsx("button",{className:ul.navButton,onClick:()=>h("/homepage"),children:M.jsx("img",{src:e.pathname==="/homepage"?"/images/home-full.svg":"/images/home-opacity.svg",alt:"Home"})}),M.jsx("button",{className:ul.navButton,onClick:()=>h("/search"),children:M.jsx("img",{src:e.pathname==="/search"?"/images/search-full.svg":"/images/search-opacity.svg",alt:"Search"})}),M.jsx("button",{className:ul.navButton,onClick:()=>h("/favorites"),children:M.jsx("img",{src:e.pathname==="/favorites"?"/images/heart-full.svg":"/images/heart-opacity.svg",alt:"Favorites"})}),M.jsx("button",{className:ul.navButton,onClick:()=>h("/profile"),children:Nm()?M.jsx("img",{src:e.pathname==="/profile"?"/images/profile-full.svg":"/images/profile-opacity.svg",alt:"Profile"}):M.jsx("img",{src:o,alt:"Profile",className:e.pathname==="/profile"?ul.profileImageActive:ul.profileImage})})]}),M.jsx(ly,{isOpen:n,onClose:()=>{s(!1);const y=typeof window<"u"&&window.sessionStorage&&sessionStorage.getItem("guestOrigin")||"/homepage";typeof window<"u"&&window.sessionStorage&&sessionStorage.removeItem("guestOrigin"),r(y)},onLogin:()=>{const y=typeof window<"u"&&window.sessionStorage&&sessionStorage.getItem("guestOrigin")||"/homepage";typeof window<"u"&&window.sessionStorage&&(sessionStorage.setItem("postLoginRedirect",y),sessionStorage.removeItem("guestOrigin")),r("/login")}})]})}const ah=async()=>{try{const r=Lo(Ki,"movies"),n=(await ko(r)).docs.map(s=>{const o=s.data();return{id:s.id,type:"movie",title:o.title||"",year:o.year||"",image:o.image||"/images/placeholder.png",description:o.description||"",genres:o.genres||[],platforms:o.platforms||[],country:o.country||[],language:o.language||[],subtitles:o.subtitles||[],...o}});return console.log(" Movies loaded:",n.length),n}catch(r){throw console.error(" Error loading movies:",r),r}},oh=async()=>{try{const r=Lo(Ki,"series"),n=(await ko(r)).docs.map(s=>{const o=s.data();return{id:s.id,type:"series",title:o.title||"",year:o.year||"",image:o.image||"/images/placeholder.png",description:o.description||"",genres:o.genres||[],platforms:o.platforms||[],country:o.country||[],language:o.language||[],subtitles:o.subtitles||[],seasons:o.seasons||"",episodes:o.episodes||"",status:o.status||"",...o}});return console.log(" Series loaded:",n.length),n}catch(r){throw console.error(" Error loading series:",r),r}},LD=async r=>{try{const e=Lo(Ki,"movies"),o=(await ko(e)).docs.map(u=>{const h=u.data();return{id:u.id,type:"movie",title:h.title||"",year:h.year||"",image:h.image||"/images/placeholder.png",description:h.description||"",genres:h.genres||[],platforms:h.platforms||[],country:h.country||[],language:h.language||[],subtitles:h.subtitles||[],...h}}).filter(u=>!u.platforms||u.platforms.length===0?!1:u.platforms.some(h=>(typeof h=="string"?h:h?.name||"").toLowerCase().includes(r.toLowerCase())));return console.log(` Movies loaded for ${r}:`,o.length),o}catch(e){throw console.error(` Error loading movies for ${r}:`,e),e}},kD=async r=>{try{const e=Lo(Ki,"series"),o=(await ko(e)).docs.map(u=>{const h=u.data();return{id:u.id,type:"series",title:h.title||"",year:h.year||"",image:h.image||"/images/placeholder.png",description:h.description||"",genres:h.genres||[],platforms:h.platforms||[],country:h.country||[],language:h.language||[],subtitles:h.subtitles||[],seasons:h.seasons||"",episodes:h.episodes||"",status:h.status||"",...h}}).filter(u=>!u.platforms||u.platforms.length===0?!1:u.platforms.some(h=>(typeof h=="string"?h:h?.name||"").toLowerCase().includes(r.toLowerCase())));return console.log(` Series loaded for ${r}:`,o.length),o}catch(e){throw console.error(` Error loading series for ${r}:`,e),e}},jD=async r=>{try{console.log(" Progressive search for:",r);const e=r.toLowerCase().trim();if(!e)return[];const n=Lo(Ki,"movies"),s=await ko(n),o=Lo(Ki,"series"),u=await ko(o),h=[];s.docs.forEach(_=>{const v=_.data();v.title&&h.push({id:_.id,type:"movie",title:v.title,year:v.year||"",image:v.image||"/images/placeholder.png",description:v.description||"",genres:v.genres||[],platforms:v.platforms||[],...v})}),u.docs.forEach(_=>{const v=_.data();v.title&&h.push({id:_.id,type:"series",title:v.title,year:v.year||"",image:v.image||"/images/placeholder.png",description:v.description||"",genres:v.genres||[],platforms:v.platforms||[],...v})}),console.log(" Total content items available:",h.length);const y=h.filter(_=>_.title.toLowerCase().startsWith(e));return y.sort((_,v)=>_.title.localeCompare(v.title)),console.log(` Progressive search results for "${r}":`,y.length),y.length>0&&console.log(" Matching titles:",y.map(_=>_.title)),y}catch(e){throw console.error(` Error in progressive search for "${r}":`,e),e}},Mm=async r=>{try{const e=Lo(Ki,"movies"),n=eE(e,tE("genres","array-contains",r)),o=(await ko(n)).docs.map(A=>({id:A.id,...A.data(),type:"movie"})),u=Lo(Ki,"series"),h=eE(u,tE("genres","array-contains",r)),_=(await ko(h)).docs.map(A=>({id:A.id,...A.data(),type:"series"})),v=[...o,..._];return console.log(` Content loaded for genre "${r}":`,v.length),v}catch(e){throw console.error(` Error loading content for genre "${r}":`,e),e}};function UD(){const[r,e]=X.useState([]),[n,s]=X.useState([]),[o,u]=X.useState([]),[h,y]=X.useState([]),[_,v]=X.useState([]),[A,N]=X.useState([]),[x,R]=X.useState([]),[K,se]=X.useState([]),[re,ee]=X.useState(!0),le=X.useRef(null),be=["Movies","Series"],je=[{name:"Netflix",logo:"/images/netflix.webp"},{name:"Prime Video",logo:"/images/primevideo.svg"},{name:"Disney+",logo:"/images/disneyplus.svg"},{name:"HBO Max",logo:"/images/hbomax.webp"},{name:"Viaplay",logo:"/images/viaplay.webp"},{name:"Apple TV",logo:"/images/apple-tv.webp"}];X.useEffect(()=>{(async()=>{try{ee(!0);const[q,k,z,I,U]=await Promise.all([ah(),oh(),Mm("Comedy"),Mm("Drama"),Mm("Action")]),D=[...q,...k],G=[...D].sort(()=>Math.random()-.5),te=46;if(G.length<te){const Pe=[];for(;Pe.length<te;)Pe.push(...G);G.splice(0,G.length,...Pe.sort(()=>Math.random()-.5))}let Y=0;const Z=Pe=>{const Ke=G.slice(Y,Y+Pe);return Y+=Pe,Ke},Ae=Z(Math.min(6,D.length)),pe=Z(10),Ne=Z(10),F=Z(10),ce=D.filter(Pe=>{const Ke=Pe.releaseYear||Pe.year||Pe.released;return Ke&&parseInt(Ke)>=2024}),_e=z,Se=I,Ue=U;e(Ae),s(pe),u(Ne),y(F),v(ce),N(_e),R(Se),se(Ue)}catch(q){console.error("Error loading content:",q),e([]),s([]),u([]),y([]),v([]),N([]),R([]),se([])}finally{ee(!1)}})()},[]);const we=[...r,...r,...r,...r,...r];X.useEffect(()=>{const V=le.current;if(!V)return;const k=setTimeout(()=>{if(!V)return;const D=V.scrollWidth/we.length*(r.length*2);V.style.scrollBehavior="auto",V.scrollLeft=D,requestAnimationFrame(()=>{V.style.scrollBehavior="smooth"})},300);let z;const I=()=>{clearTimeout(z),z=setTimeout(()=>{const U=V.scrollWidth/we.length,D=V.scrollLeft,G=Math.round(D/U);if(G>=r.length*4){const te=G%r.length;V.style.scrollBehavior="auto",V.scrollLeft=U*(r.length*2+te),requestAnimationFrame(()=>{V.style.scrollBehavior="smooth"})}else if(G<r.length){const te=G%r.length;V.style.scrollBehavior="auto",V.scrollLeft=U*(r.length*2+te),requestAnimationFrame(()=>{V.style.scrollBehavior="smooth"})}},150)};return V.addEventListener("scroll",I),()=>{V.removeEventListener("scroll",I),clearTimeout(z),clearTimeout(k)}},[r.length,we.length]);const Me=Li();return M.jsxs("div",{className:wt.container,children:[M.jsx("div",{className:wt.header,children:M.jsx(ju,{})}),M.jsx("div",{className:wt.filterContainer,children:be.map(V=>M.jsx("button",{className:wt.filterButton,onClick:()=>Me("/content-type-results",{state:{contentType:V}}),children:V},V))}),M.jsx("div",{className:wt.content,children:re?M.jsx("div",{className:wt.loading,children:"Loading content..."}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:wt.featuredSection,children:M.jsx("div",{className:wt.featuredCarousel,ref:le,children:we.map((V,q)=>M.jsx("div",{className:wt.featuredItem,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},`${V.id}-${q}`))})}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Explore content from these services"}),M.jsx("div",{className:wt.servicesGrid,children:je.map(V=>M.jsx("div",{className:wt.serviceCard,onClick:()=>Me("/platform-results",{state:{platform:V.name}}),children:M.jsx("img",{src:V.logo,alt:V.name,className:V.name==="HBO Max"?wt.hboMaxLogo:""})},V.name))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Recommended"}),M.jsx("div",{className:wt.horizontalScroll,children:n.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Most searched"}),M.jsx("div",{className:wt.horizontalScroll,children:o.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Trending Now"}),M.jsx("div",{className:wt.horizontalScroll,children:h.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"New Releases"}),M.jsx("div",{className:wt.horizontalScroll,children:_.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Comedies"}),M.jsx("div",{className:wt.horizontalScroll,children:A.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Dramas"}),M.jsx("div",{className:wt.horizontalScroll,children:x.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]}),M.jsxs("div",{className:wt.section,children:[M.jsx("h2",{className:wt.sectionTitle,children:"Action & Adventure"}),M.jsx("div",{className:wt.horizontalScroll,children:K.map(V=>M.jsx("div",{className:wt.contentCard,onClick:()=>Me("/details",{state:{item:V}}),children:M.jsx("img",{src:V.image,alt:V.title})},V.id))})]})]})}),M.jsx(Xs,{})]})}const BD="_overlay_1pibr_1",zD="_popup_1pibr_20",FD="_header_1pibr_31",HD="_cancelButton_1pibr_39",qD="_searchContainer_1pibr_48",GD="_searchBar_1pibr_53",$D="_searchIcon_1pibr_62",YD="_searchInput_1pibr_70",WD="_resultsContainer_1pibr_83",KD="_loading_1pibr_93",QD="_noResults_1pibr_100",XD="_results_1pibr_83",JD="_resultItem_1pibr_113",ZD="_resultImage_1pibr_128",e4="_resultInfo_1pibr_136",t4="_resultTitle_1pibr_140",n4="_resultType_1pibr_147",bi={overlay:BD,popup:zD,header:FD,cancelButton:HD,searchContainer:qD,searchBar:GD,searchIcon:$D,searchInput:YD,resultsContainer:WD,loading:KD,noResults:QD,results:XD,resultItem:JD,resultImage:ZD,resultInfo:e4,resultTitle:t4,resultType:n4};function i4({isOpen:r,onClose:e}){const n=Li(),[s,o]=X.useState(""),[u,h]=X.useState([]),[y,_]=X.useState(!1);X.useEffect(()=>{if(r){const N=window.scrollY,x={overflow:document.body.style.overflow,position:document.body.style.position,width:document.body.style.width,height:document.body.style.height,top:document.body.style.top};document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.height="100%",document.body.style.top=`-${N}px`,document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%";const R=K=>{const se=K.target.closest('[class*="resultsContainer"]'),re=K.target.closest('[class*="searchInput"]'),ee=K.target.closest('[class*="searchBar"]');se||re||ee||K.preventDefault()};return document.addEventListener("touchmove",R,{passive:!1}),()=>{document.body.style.overflow=x.overflow,document.body.style.position=x.position,document.body.style.width=x.width,document.body.style.height=x.height,document.body.style.top=x.top,document.documentElement.style.overflow="",document.documentElement.style.height="",document.removeEventListener("touchmove",R),window.scrollTo(0,N)}}},[r]);const v=async N=>{if(!N.trim()){h([]);return}_(!0);try{const x=await jD(N);h(x)}catch(x){console.error("Search error:",x),h([])}finally{_(!1)}};X.useEffect(()=>{const N=setTimeout(()=>{v(s)},300);return()=>clearTimeout(N)},[s]);const A=()=>{o(""),h([]),e()};return r?M.jsx("div",{className:bi.overlay,children:M.jsxs("div",{className:bi.popup,children:[M.jsx("div",{className:bi.header,children:M.jsx("button",{className:bi.cancelButton,onClick:A,children:"Cancel"})}),M.jsx("div",{className:bi.searchContainer,children:M.jsxs("div",{className:bi.searchBar,children:[M.jsx("img",{src:"/images/search-full.svg",alt:"Search",className:bi.searchIcon}),M.jsx("input",{type:"text",placeholder:"Search after title..",value:s,onChange:N=>o(N.target.value),className:bi.searchInput,autoFocus:!0})]})}),M.jsxs("div",{className:bi.resultsContainer,onTouchStart:()=>{document.activeElement&&document.activeElement.blur()},onScroll:()=>{document.activeElement&&document.activeElement.blur()},children:[y&&M.jsx("div",{className:bi.loading,children:"Searching..."}),!y&&u.length===0&&s&&M.jsxs("div",{className:bi.noResults,children:['No results found for "',s,'"',M.jsx("br",{}),M.jsx("small",{style:{opacity:.7,fontSize:"12px"},children:"Try typing the beginning of a movie or series title"})]}),!y&&u.length>0&&M.jsxs("div",{className:bi.results,children:[M.jsxs("div",{style:{color:"white",padding:"10px 20px",fontSize:"14px",opacity:.8,borderBottom:"1px solid rgba(255,255,255,0.1)",marginBottom:"10px"},children:["Found ",u.length,' result(s) starting with "',s,'"']}),u.sort((N,x)=>N.title.localeCompare(x.title)).map(N=>M.jsxs("div",{className:bi.resultItem,role:"button",tabIndex:0,onClick:()=>{e(),n("/details",{state:{item:N}})},onKeyDown:x=>{x.key==="Enter"&&(e(),n("/details",{state:{item:N}}))},children:[M.jsx("img",{src:N.image,alt:N.title,className:bi.resultImage,onError:x=>{x.target.src="/images/placeholder.png"}}),M.jsxs("div",{className:bi.resultInfo,children:[M.jsx("h3",{className:bi.resultTitle,children:N.title}),M.jsxs("p",{className:bi.resultType,children:[N.type==="movie"?"Movie":"Series","  ",N.year]})]})]},N.id))]})]})]})}):null}const r4="_overlay_177ax_1",s4="_popup_177ax_19",a4="_header_177ax_30",o4="_cancelButton_177ax_45",l4="_applyButton_177ax_55",u4="_title_177ax_67",c4="_content_177ax_74",h4="_filterSection_177ax_88",f4="_sectionTitle_177ax_92",d4="_filterGrid_177ax_101",p4="_filterButton_177ax_107",m4="_active_177ax_129",Xt={overlay:r4,popup:s4,header:a4,cancelButton:o4,applyButton:l4,title:u4,content:c4,filterSection:h4,sectionTitle:f4,filterGrid:d4,filterButton:p4,active:m4};function g4({isOpen:r,onClose:e,onApplyFilters:n}){const[s,o]=X.useState([]),[u,h]=X.useState([]),[y,_]=X.useState([]),[v,A]=X.useState([]),[N,x]=X.useState([]),R=["Action","Drama","Comedy","Thriller","Horror","Romance","Adventure","Sci-Fi","Fantasy","Animation"],K=["Netflix","HBO Max","Disney+","Prime Video","Apple TV","Paramount+"],se=["Movies","Series"],re=["English","Spanish","French","German","Italian","Portuguese","Russian","Danish","Swedish","Norwegian"],ee=["English","Spanish","French","German","Italian","Portuguese","Russian","Danish","Swedish","Norwegian"];X.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]);const le=(we,Me,V)=>{we.includes(V)?Me(we.filter(q=>q!==V)):Me([...we,V])},be=()=>{n&&n({genres:s,platforms:u,contentType:y,languages:v,subtitles:N}),e()},je=()=>{e()};return r?M.jsx("div",{className:Xt.overlay,onClick:je,children:M.jsxs("div",{className:Xt.popup,onClick:we=>we.stopPropagation(),children:[M.jsxs("div",{className:Xt.header,children:[M.jsx("button",{className:Xt.cancelButton,onClick:je,children:"Cancel"}),M.jsx("h2",{className:Xt.title,children:"Filters"}),M.jsx("button",{className:Xt.applyButton,onClick:be,children:"Apply"})]}),M.jsxs("div",{className:Xt.content,children:[M.jsxs("div",{className:Xt.filterSection,children:[M.jsx("h3",{className:Xt.sectionTitle,children:"Genres"}),M.jsx("div",{className:Xt.filterGrid,children:R.map((we,Me)=>M.jsx("button",{className:`${Xt.filterButton} ${s.includes(we)?Xt.active:""}`,onClick:()=>le(s,o,we),children:we},`genre-${Me}-${we}`))})]}),M.jsxs("div",{className:Xt.filterSection,children:[M.jsx("h3",{className:Xt.sectionTitle,children:"Platforms"}),M.jsx("div",{className:Xt.filterGrid,children:K.map((we,Me)=>M.jsx("button",{className:`${Xt.filterButton} ${u.includes(we)?Xt.active:""}`,onClick:()=>le(u,h,we),children:we},`platform-${Me}-${we}`))})]}),M.jsxs("div",{className:Xt.filterSection,children:[M.jsx("h3",{className:Xt.sectionTitle,children:"Content Type"}),M.jsx("div",{className:Xt.filterGrid,children:se.map((we,Me)=>M.jsx("button",{className:`${Xt.filterButton} ${y.includes(we)?Xt.active:""}`,onClick:()=>le(y,_,we),children:we},`contentType-${Me}-${we}`))})]}),M.jsxs("div",{className:Xt.filterSection,children:[M.jsx("h3",{className:Xt.sectionTitle,children:"Languages"}),M.jsx("div",{className:Xt.filterGrid,children:re.map((we,Me)=>M.jsx("button",{className:`${Xt.filterButton} ${v.includes(we)?Xt.active:""}`,onClick:()=>le(v,A,we),children:we},`language-${Me}-${we}`))})]}),M.jsxs("div",{className:Xt.filterSection,children:[M.jsx("h3",{className:Xt.sectionTitle,children:"Subtitles"}),M.jsx("div",{className:Xt.filterGrid,children:ee.map((we,Me)=>M.jsx("button",{className:`${Xt.filterButton} ${N.includes(we)?Xt.active:""}`,onClick:()=>le(N,x,we),children:we},`subtitle-${Me}-${we}`))})]})]})]})}):null}const y4="_container_18fg0_1",v4="_header_18fg0_14",_4="_logo_18fg0_22",w4="_searchContainer_18fg0_26",E4="_searchBar_18fg0_30",b4="_searchIcon_18fg0_44",T4="_searchPlaceholder_18fg0_52",A4="_filterIcon_18fg0_59",S4="_content_18fg0_64",C4="_loading_18fg0_71",R4="_contentGrid_18fg0_78",I4="_contentItem_18fg0_83",N4="_contentImage_18fg0_97",M4="_contentInfo_18fg0_106",O4="_contentTitle_18fg0_111",Yi={container:y4,header:v4,logo:_4,searchContainer:w4,searchBar:E4,searchIcon:b4,searchPlaceholder:T4,filterIcon:A4,content:S4,loading:C4,contentGrid:R4,contentItem:I4,contentImage:N4,contentInfo:M4,contentTitle:O4};function x4(){const r=Li(),[e,n]=X.useState(!1),[s,o]=X.useState(!1),[u,h]=X.useState([]),[y,_]=X.useState([]),[v,A]=X.useState(!0);X.useEffect(()=>{(async()=>{try{const[le,be]=await Promise.all([ah(),oh()]);h(le),_(be)}catch(le){console.error("Error loading content:",le)}finally{A(!1)}})()},[]);const N=()=>{n(!0)},x=()=>{n(!1)},R=ee=>{ee.stopPropagation(),o(!0)},K=()=>{o(!1)},se=ee=>{r("/filter-results",{state:{filters:ee}}),o(!1)},re=[...u,...y];return M.jsxs("div",{className:Yi.container,children:[M.jsx("div",{className:Yi.header,children:M.jsx(ju,{className:Yi.logo})}),M.jsx("div",{className:Yi.searchContainer,children:M.jsxs("div",{className:Yi.searchBar,onClick:N,children:[M.jsx("img",{src:"/images/search-full.svg",alt:"Search",className:Yi.searchIcon}),M.jsx("span",{className:Yi.searchPlaceholder,children:"Search for movie or series.."}),M.jsx("img",{src:"/images/filter-icon.svg",alt:"Filter",className:Yi.filterIcon,onClick:R})]})}),M.jsx("div",{className:Yi.content,children:v?M.jsx("div",{className:Yi.loading,children:"Loading content..."}):M.jsx("div",{className:Yi.contentGrid,children:re.map(ee=>M.jsxs("div",{className:Yi.contentItem,onClick:()=>r("/details",{state:{item:ee}}),role:"button",tabIndex:0,onKeyDown:le=>{le.key==="Enter"&&r("/details",{state:{item:ee}})},children:[M.jsx("img",{src:ee.image,alt:ee.title,className:Yi.contentImage,onError:le=>{le.target.src="/images/placeholder.png"}}),M.jsx("div",{className:Yi.contentInfo,children:M.jsx("h3",{className:Yi.contentTitle,children:ee.title})})]},ee.id))})}),M.jsx(i4,{isOpen:e,onClose:x}),M.jsx(g4,{isOpen:s,onClose:K,onApplyFilters:se}),M.jsx(Xs,{})]})}const D4="_container_3crfi_1",P4="_header_3crfi_11",V4="_backButton_3crfi_20",L4="_logo_3crfi_49",k4="_contentTypeInfo_3crfi_53",j4="_resultCount_3crfi_65",U4="_content_3crfi_53",B4="_loading_3crfi_77",z4="_noResults_3crfi_84",F4="_contentGrid_3crfi_90",H4="_contentCard_3crfi_96",q4="_contentInfo_3crfi_121",G4="_contentTitle_3crfi_125",$4="_contentType_3crfi_53",mr={container:D4,header:P4,backButton:V4,logo:L4,contentTypeInfo:k4,resultCount:j4,content:U4,loading:B4,noResults:z4,contentGrid:F4,contentCard:H4,contentInfo:q4,contentTitle:G4,contentType:$4};function Y4(){const{state:r}=Ur(),e=Li(),[n,s]=X.useState([]),[o,u]=X.useState(!0);X.useEffect(()=>{const v=r?.filters||{};(async()=>{try{u(!0);const[N,x]=await Promise.all([ah(),oh()]),R=[...N,...x],K=h(R,v);s(K)}catch(N){console.error("Error loading and filtering content:",N),s([])}finally{u(!1)}})()},[r?.filters]);const h=(v,A)=>{let N=[...v];return A.genres&&A.genres.length>0&&(N=N.filter(x=>x.genres&&x.genres.some(R=>A.genres.includes(R)))),A.platforms&&A.platforms.length>0&&(N=N.filter(x=>!x.platforms||x.platforms.length===0?!1:x.platforms.some(R=>{const K=typeof R=="string"?R:R?.name||"";return A.platforms.some(se=>K.toLowerCase().includes(se.toLowerCase()))}))),A.contentType&&A.contentType.length>0&&(N=N.filter(x=>{const R=x.type==="movie"?"Movies":"Series";return A.contentType.includes(R)})),A.languages&&A.languages.length>0&&(N=N.filter(x=>{if(!x.language&&!x.languages)return!1;const R=x.languages||x.language||[];return(Array.isArray(R)?R:[R]).some(se=>{const re=typeof se=="string"?se:se?.name||"";return A.languages.some(ee=>re.toLowerCase().includes(ee.toLowerCase()))})})),A.subtitles&&A.subtitles.length>0&&(N=N.filter(x=>x.subtitles?(Array.isArray(x.subtitles)?x.subtitles:[x.subtitles]).some(K=>{const se=typeof K=="string"?K:K?.name||"";return A.subtitles.some(re=>se.toLowerCase().includes(re.toLowerCase()))}):!1)),N},y=v=>{e("/details",{state:{item:v}})},_=()=>{e(-1)};return M.jsxs("div",{className:mr.container,children:[M.jsxs("div",{className:mr.header,children:[M.jsxs("button",{className:mr.backButton,onClick:_,children:[M.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{d:"M15 18L9 12L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),M.jsx("span",{children:"Back"})]}),M.jsx(ju,{className:mr.logo})]}),M.jsxs("div",{className:mr.contentTypeInfo,children:[M.jsx("h2",{children:"Filter Results"}),M.jsx("p",{className:mr.resultCount,children:o?"Loading...":`${n.length} results found`})]}),M.jsx("div",{className:mr.content,children:o?M.jsx("div",{className:mr.loading,children:"Loading content..."}):n.length===0?M.jsx("div",{className:mr.noResults,children:M.jsx("p",{children:"No content matches your filters"})}):M.jsx("div",{className:mr.contentGrid,children:n.map((v,A)=>M.jsxs("div",{className:mr.contentCard,onClick:()=>y(v),children:[M.jsx("img",{src:v.image||v.posterUrl||"/images/placeholder.png",alt:v.title,onError:N=>{N.target.src="/images/placeholder.png"}}),M.jsxs("div",{className:mr.contentInfo,children:[M.jsx("h3",{className:mr.contentTitle,children:v.title}),M.jsxs("p",{className:mr.contentType,children:[v.type||(v.seasons?"Series":"Movie"),"  ",v.year]})]})]},`filter-result-${v.id}-${A}`))})}),M.jsx(Xs,{})]})}const W4="_container_p5ow7_1",K4="_header_p5ow7_11",Q4="_backButton_p5ow7_20",X4="_logo_p5ow7_49",J4="_contentTypeInfo_p5ow7_64",Z4="_resultCount_p5ow7_76",eP="_content_p5ow7_64",tP="_loading_p5ow7_88",nP="_noResults_p5ow7_95",iP="_contentGrid_p5ow7_101",rP="_contentCard_p5ow7_107",sP="_contentInfo_p5ow7_132",aP="_contentTitle_p5ow7_136",oP="_contentType_p5ow7_64",gr={container:W4,header:K4,backButton:Q4,logo:X4,contentTypeInfo:J4,resultCount:Z4,content:eP,loading:tP,noResults:nP,contentGrid:iP,contentCard:rP,contentInfo:sP,contentTitle:aP,contentType:oP};function lP(){const{state:r}=Ur(),e=Li(),n=r?.platform,[s,o]=X.useState([]),[u,h]=X.useState(!0);X.useEffect(()=>{(async()=>{if(!n){e("/");return}try{h(!0);const[A,N]=await Promise.all([LD(n),kD(n)]),x=[...A,...N];o(x)}catch(A){console.error("Error loading platform content:",A),o([])}finally{h(!1)}})()},[n,e]);const y=v=>{e("/details",{state:{item:v}})},_=()=>{e(-1)};return n?M.jsxs("div",{className:gr.container,children:[M.jsxs("div",{className:gr.header,children:[M.jsxs("button",{className:gr.backButton,onClick:_,children:[M.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{d:"M15 18L9 12L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),M.jsx("span",{children:"Back"})]}),M.jsx(ju,{className:gr.logo})]}),M.jsxs("div",{className:gr.contentTypeInfo,children:[M.jsx("h2",{children:n}),M.jsx("p",{className:gr.resultCount,children:u?"Loading...":`${s.length} titles available`})]}),M.jsx("div",{className:gr.content,children:u?M.jsx("div",{className:gr.loading,children:"Loading content..."}):s.length===0?M.jsx("div",{className:gr.noResults,children:M.jsxs("p",{children:["No content found for ",n]})}):M.jsx("div",{className:gr.contentGrid,children:s.map((v,A)=>M.jsxs("div",{className:gr.contentCard,onClick:()=>y(v),children:[M.jsx("img",{src:v.image||v.posterUrl||"/images/placeholder.png",alt:v.title,onError:N=>{N.target.src="/images/placeholder.png"}}),M.jsxs("div",{className:gr.contentInfo,children:[M.jsx("h3",{className:gr.contentTitle,children:v.title}),M.jsxs("p",{className:gr.contentType,children:[v.type==="movie"?"Movie":v.type==="series"||v.seasons?"Series":"Movie","  ",v.year]})]})]},`platform-content-${v.id}-${A}`))})}),M.jsx(Xs,{})]}):null}const uP="_container_1pm47_1",cP="_header_1pm47_11",hP="_backButton_1pm47_20",fP="_logo_1pm47_49",dP="_contentTypeInfo_1pm47_53",pP="_resultCount_1pm47_64",mP="_content_1pm47_53",gP="_loading_1pm47_76",yP="_noResults_1pm47_83",vP="_contentGrid_1pm47_89",_P="_contentCard_1pm47_95",wP="_contentInfo_1pm47_120",EP="_contentTitle_1pm47_124",bP="_contentType_1pm47_53",yr={container:uP,header:cP,backButton:hP,logo:fP,contentTypeInfo:dP,resultCount:pP,content:mP,loading:gP,noResults:yP,contentGrid:vP,contentCard:_P,contentInfo:wP,contentTitle:EP,contentType:bP};function TP(){const r=Li(),n=Ur().state?.contentType||"Movies",[s,o]=X.useState([]),[u,h]=X.useState(!0),y=X.useMemo(()=>s.filter(A=>n==="Movies"?!A.seasons&&(!A.type||A.type.toLowerCase()==="movie"):n==="Series"?A.seasons||A.type&&A.type.toLowerCase()==="series":!1),[s,n]);X.useEffect(()=>{(async()=>{try{h(!0);const[N,x]=await Promise.all([ah(),oh()]),R=[...N,...x];o(R)}catch(N){console.error("Error loading content:",N)}finally{h(!1)}})()},[]);const _=A=>{r("/details",{state:{item:A}})},v=()=>{r(-1)};return M.jsxs("div",{className:yr.container,children:[M.jsxs("div",{className:yr.header,children:[M.jsxs("button",{className:yr.backButton,onClick:v,children:[M.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{d:"M15 18L9 12L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),M.jsx("span",{children:"Back"})]}),M.jsx(ju,{className:yr.logo})]}),M.jsxs("div",{className:yr.contentTypeInfo,children:[M.jsx("h2",{children:n}),M.jsx("p",{className:yr.resultCount,children:u?"Loading...":`${y.length} ${n.toLowerCase()} available`})]}),M.jsx("div",{className:yr.content,children:u?M.jsx("div",{className:yr.loading,children:"Loading content..."}):y.length===0?M.jsx("div",{className:yr.noResults,children:M.jsxs("p",{children:["No ",n.toLowerCase()," found"]})}):M.jsx("div",{className:yr.contentGrid,children:y.map((A,N)=>M.jsxs("div",{className:yr.contentCard,onClick:()=>_(A),children:[M.jsx("img",{src:A.image||A.posterUrl||"/images/placeholder.png",alt:A.title,onError:x=>{x.target.src="/images/placeholder.png"}}),M.jsxs("div",{className:yr.contentInfo,children:[M.jsx("h3",{className:yr.contentTitle,children:A.title}),M.jsxs("p",{className:yr.contentType,children:[A.type||(A.seasons?"Series":"Movie"),"  ",A.year]})]})]},`content-${A.id}-${N}`))})}),M.jsx(Xs,{})]})}const AP="_container_y2vo8_1",SP="_header_y2vo8_11",CP="_logo_y2vo8_19",RP="_titleContainer_y2vo8_23",IP="_content_y2vo8_73",NP="_loading_y2vo8_80",MP="_empty_y2vo8_80",OP="_grid_y2vo8_86",xP="_card_y2vo8_94",zs={container:AP,header:SP,logo:CP,titleContainer:RP,content:IP,loading:NP,empty:MP,grid:OP,card:xP};function DP(){return typeof window<"u"&&window.localStorage&&localStorage.getItem("isGuest")==="1"}function PP(){const r=Li(),[e,n]=X.useState(!1),[s,o]=X.useState([]),[u,h]=X.useState(!0);return X.useEffect(()=>{DP()&&(typeof window<"u"&&window.sessionStorage&&!sessionStorage.getItem("guestOrigin")&&sessionStorage.setItem("guestOrigin","/homepage"),n(!0),h(!1));const y=kr?.currentUser?.uid;if(!y){h(!1);return}(async()=>{try{const _=await QT(y),[v,A]=await Promise.all([ah(),oh()]),N=new Map;v.forEach(R=>N.set(R.id,{...R,type:"movie"})),A.forEach(R=>N.set(R.id,{...R,type:"series"}));const x=_.map(R=>{const K=N.get(R.id);return K||{id:R.id,title:R.id,image:"/images/placeholder.png",type:R.type||"unknown"}});o(x)}catch(_){console.error("Failed to load favorites",_)}finally{h(!1)}})()},[]),e?M.jsxs("div",{className:zs.container,children:[M.jsx(ly,{isOpen:e,onClose:()=>{n(!1);const y=typeof window<"u"&&window.sessionStorage&&sessionStorage.getItem("guestOrigin")||"/homepage";typeof window<"u"&&window.sessionStorage&&sessionStorage.removeItem("guestOrigin"),r(y)},onLogin:()=>{const y=typeof window<"u"&&window.sessionStorage&&sessionStorage.getItem("guestOrigin")||"/homepage";typeof window<"u"&&window.sessionStorage&&sessionStorage.setItem("postLoginRedirect",y),r("/login")}}),M.jsx(Xs,{})]}):M.jsxs("div",{className:zs.container,children:[M.jsx("header",{className:zs.header,children:M.jsx(ju,{className:zs.logo})}),M.jsx("div",{className:zs.titleContainer,children:M.jsx("h1",{children:"Favorites"})}),M.jsx("main",{className:zs.content,children:u?M.jsx("div",{className:zs.loading,children:"Loading favorites..."}):s.length===0?M.jsx("div",{className:zs.empty,children:"You haven't added any favorites yet."}):M.jsx("div",{className:zs.grid,children:s.map(y=>M.jsx("div",{className:zs.card,onClick:()=>r("/details",{state:{item:y}}),role:"button",tabIndex:0,children:M.jsx("img",{src:y.image||"/images/placeholder.png",alt:y.title})},y.id))})}),M.jsx(Xs,{})]})}const VP="_container_l1oxb_1",LP="_greeting_l1oxb_22",kP="_profileImageContainer_l1oxb_39",jP="_profileImage_l1oxb_39",UP="_main_l1oxb_63",BP="_guestMessage_l1oxb_78",zP="_stackButtons_l1oxb_82",FP="_countryButtonWrapper_l1oxb_91",HP="_currentCountryText_l1oxb_98",qP="_deleteButton_l1oxb_106",Wi={container:VP,greeting:LP,profileImageContainer:kP,profileImage:jP,main:UP,guestMessage:BP,stackButtons:zP,countryButtonWrapper:FP,currentCountryText:HP,deleteButton:qP},GP="_popup_ljy4w_1",$P="_content_ljy4w_14",YP="_title_ljy4w_27",WP="_message_ljy4w_34",KP="_actions_ljy4w_40",QP="_deleteButton_ljy4w_50",au={popup:GP,content:$P,title:YP,message:WP,actions:KP,deleteButton:QP};function XP({isOpen:r,onClose:e,onConfirm:n,title:s="Delete Profile",message:o="Are you sure you want to delete your profile? This action cannot be undone and all your data will be permanently removed.",confirmText:u="Delete",cancelText:h="Cancel"}){return r?M.jsx("div",{className:au.popup,onClick:e,children:M.jsxs("div",{className:au.content,onClick:y=>y.stopPropagation(),children:[M.jsx("h3",{className:au.title,children:s}),M.jsx("p",{className:au.message,children:o}),M.jsxs("div",{className:au.actions,children:[M.jsx(Di,{onClick:n,className:au.deleteButton,children:u}),M.jsx(Di,{onClick:e,children:h})]})]})}):null}const JP="_overlay_dr07s_1",ZP="_popup_dr07s_15",eV="_header_dr07s_25",tV="_title_dr07s_32",nV="_closeButton_dr07s_39",iV="_imageGrid_dr07s_59",rV="_imageOption_dr07s_66",sV="_selected_dr07s_84",aV="_profileImage_dr07s_89",oV="_selectedIndicator_dr07s_95",lV="_actions_dr07s_111",uV="_cancelButton_dr07s_117",cV="_selectButton_dr07s_118",Vr={overlay:JP,popup:ZP,header:eV,title:tV,closeButton:nV,imageGrid:iV,imageOption:rV,selected:sV,profileImage:aV,selectedIndicator:oV,actions:lV,cancelButton:uV,selectButton:cV},hV=["/images/cat-profile.svg","/images/dog-profile.svg","/images/lion-profile.svg","/images/rabbit-profile.svg"];function fV({isOpen:r,currentImage:e,onClose:n,onSelect:s}){const[o,u]=X.useState(e),h=()=>{s(o),n()};return r?M.jsx("div",{className:Vr.overlay,onClick:n,children:M.jsxs("div",{className:Vr.popup,onClick:y=>y.stopPropagation(),children:[M.jsxs("div",{className:Vr.header,children:[M.jsx("h2",{className:Vr.title,children:"Choose Profile Image"}),M.jsx("button",{className:Vr.closeButton,onClick:n,children:""})]}),M.jsx("div",{className:Vr.imageGrid,children:hV.map(y=>M.jsxs("div",{className:`${Vr.imageOption} ${o===y?Vr.selected:""}`,onClick:()=>u(y),children:[M.jsx("img",{src:y,alt:"Profile option",className:Vr.profileImage}),o===y&&M.jsx("div",{className:Vr.selectedIndicator,children:""})]},y))}),M.jsxs("div",{className:Vr.actions,children:[M.jsx("button",{className:Vr.cancelButton,onClick:n,children:"Cancel"}),M.jsx("button",{className:Vr.selectButton,onClick:h,children:"Select"})]})]})}):null}function aE(){return typeof window<"u"&&window.localStorage&&localStorage.getItem("isGuest")==="1"}function dV(){const r=Li(),[e,n]=X.useState(!1),[s,o]=X.useState(!1),[u,h]=X.useState(null),[y,_]=X.useState(!1),[v,A]=X.useState(!1),[N,x]=X.useState(null);X.useEffect(()=>{if(n(aE()),aE()&&typeof window<"u"&&window.localStorage){const le=localStorage.getItem("guestCountry");x(le)}const ee=kr?.currentUser?.uid;ee&&bd(ee).then(le=>h(le)).catch(()=>{})},[]);const R=async()=>{try{await Ox(),typeof window<"u"&&window.localStorage&&localStorage.removeItem("isGuest"),r("/")}catch(ee){alert("Logout failed: "+ee.message)}},K=async()=>{try{const ee=kr.currentUser;ee&&(await Sx(bl(Ki,"users",ee.uid)),await JI(ee)),typeof window<"u"&&window.localStorage&&localStorage.removeItem("isGuest"),r("/")}catch(ee){console.error("Delete failed",ee),alert("Could not delete account: "+(ee.message||ee))}},se=async ee=>{try{const le=kr?.currentUser?.uid;if(!le){console.error("No user logged in");return}await Px(le,ee),h(be=>be?{...be,profileImage:ee}:null),_(!1),window.dispatchEvent(new CustomEvent("profileImageUpdated",{detail:{profileImage:ee}}))}catch(le){console.error("Error updating profile image:",le)}},re=async ee=>{if(e)typeof window<"u"&&window.localStorage&&localStorage.setItem("guestCountry",ee),x(ee);else try{const le=kr?.currentUser?.uid;le&&(await Vx(le,ee),h(be=>be?{...be,country:ee}:null))}catch(le){console.error(" Error updating country:",le),alert("Failed to update country. Please try again.");return}A(!1)};return e?M.jsxs("div",{className:Wi.container,children:[M.jsxs("div",{className:Wi.main,children:[M.jsxs("div",{className:Wi.guestMessage,children:[M.jsx("h1",{children:"Hi Guest"}),M.jsx("p",{children:"You are browsing as a guest. Some features (like Favorites) are locked."})]}),M.jsxs("div",{className:Wi.stackButtons,children:[M.jsx(Di,{onClick:()=>r("/signup"),children:"Sign Up"}),M.jsx(Di,{onClick:()=>r("/login"),children:"Log In"}),M.jsxs("div",{className:Wi.countryButtonWrapper,children:[M.jsx(Di,{onClick:()=>A(!0),children:"Change country"}),M.jsxs("p",{className:Wi.currentCountryText,children:["Current country: ",N||"Not selected"]})]})]})]}),v&&M.jsx(ag,{isOpen:v,onClose:()=>A(!1),onSelect:re,title:"Change country"}),M.jsx(Xs,{})]}):M.jsxs("div",{className:Wi.container,children:[M.jsxs("div",{className:Wi.main,children:[M.jsxs("h1",{className:Wi.greeting,children:["Hi ",u?.username||kr.currentUser?.displayName]}),M.jsx("div",{className:Wi.profileImageContainer,children:M.jsx("img",{src:u?.profileImage||"/images/cat-profile.svg",alt:"Profile",className:Wi.profileImage,onClick:()=>_(!0)})}),M.jsxs("div",{className:Wi.stackButtons,children:[M.jsx(Di,{onClick:R,children:"Log out"}),M.jsxs("div",{className:Wi.countryButtonWrapper,children:[M.jsx(Di,{onClick:()=>A(!0),children:"Change country"}),M.jsxs("p",{className:Wi.currentCountryText,children:["Current country: ",u?.country||"Not selected"]})]}),M.jsx(Di,{onClick:()=>o(!0),className:Wi.deleteButton,children:"Delete profile"})]})]}),s&&M.jsx(XP,{isOpen:s,onClose:()=>o(!1),onConfirm:K}),y&&M.jsx(fV,{isOpen:y,currentImage:u?.profileImage||"/images/cat-profile.svg",onClose:()=>_(!1),onSelect:se}),v&&M.jsx(ag,{isOpen:v,onClose:()=>A(!1),onSelect:re,title:"Change country"}),M.jsx(Xs,{})]})}const pV="_container_cyalp_1",mV="_hero_cyalp_15",gV="_back_cyalp_63",yV="_fav_cyalp_96",vV="_body_cyalp_121",_V="_title_cyalp_129",wV="_pills_cyalp_135",EV="_pill_cyalp_135",bV="_description_cyalp_150",TV="_services_cyalp_160",AV="_serviceCard_cyalp_167",SV="_serviceLeft_cyalp_176",CV="_logoWrap_cyalp_182",RV="_logoPlaceholder_cyalp_189",IV="_serviceRight_cyalp_200",NV="_serviceMeta_cyalp_207",MV="_watchButton_cyalp_214",OV="_platformLogo_cyalp_230",xV="_clickablePill_cyalp_238",DV="_popupOverlay_cyalp_253",PV="_popup_cyalp_253",VV="_popupHeader_cyalp_279",LV="_closeButton_cyalp_294",kV="_popupContent_cyalp_314",jV="_popupPill_cyalp_323",UV="_availableLabel_cyalp_337",At={container:pV,hero:mV,back:gV,fav:yV,body:vV,title:_V,pills:wV,pill:EV,description:bV,services:TV,serviceCard:AV,serviceLeft:SV,logoWrap:CV,logoPlaceholder:RV,serviceRight:IV,serviceMeta:NV,watchButton:MV,platformLogo:OV,clickablePill:xV,popupOverlay:DV,popup:PV,popupHeader:VV,closeButton:LV,popupContent:kV,popupPill:jV,availableLabel:UV};function BV(){const r=Li(),{state:e}=Ur(),n=e?.item,[s,o]=X.useState(!1),[u,h]=X.useState(!1),[y,_]=X.useState(!1),[v,A]=X.useState(!1),[N,x]=X.useState(!1);function R(){return typeof window<"u"&&window.localStorage&&localStorage.getItem("isGuest")==="1"}return X.useEffect(()=>{if(!n)return;const K=kr?.currentUser?.uid;K&&QT(K).then(se=>{const re=n.id||n.title,ee=se.some(le=>le.id===re);o(ee)}).catch(se=>{console.error("Failed to load favorites",se)})},[n]),n?M.jsxs("div",{className:At.container,children:[M.jsxs("div",{className:At.hero,style:{backgroundImage:`url(${n.image||"/images/hero-placeholder.png"})`},children:[M.jsxs("button",{className:At.back,onClick:()=>r(-1),children:[M.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{d:"M15 18L9 12L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),M.jsx("span",{children:"Back"})]}),M.jsx("button",{className:At.fav,"aria-label":"Favorite",onClick:async()=>{if(R()||!kr?.currentUser){if(typeof window<"u"&&window.sessionStorage){sessionStorage.setItem("guestOrigin",window.location.pathname+window.location.search);try{sessionStorage.setItem("guestOriginItem",JSON.stringify(n))}catch(re){console.warn("Could not save guestOriginItem",re)}sessionStorage.setItem("postLoginRedirect","/details")}_(!0);return}if(u)return;h(!0);const K=kr.currentUser.uid,se=n.id||n.title;try{s?(await Dx(K,se),o(!1)):(await xx(K,se,n.type||"unknown"),o(!0))}catch(re){console.error("Favorite toggle failed",re),alert("Could not update favorites: "+(re.message||re))}finally{h(!1)}},children:M.jsx("img",{src:s?"/images/heart-full.svg":"/images/heart-opacity.svg",alt:s?"Favorited":"Add to favorites"})})]}),y&&M.jsx(ly,{isOpen:y,onClose:()=>{_(!1),typeof window<"u"&&window.sessionStorage&&(sessionStorage.removeItem("postLoginRedirect"),sessionStorage.removeItem("guestOriginItem"))},onLogin:()=>{typeof window<"u"&&window.sessionStorage&&sessionStorage.setItem("postLoginRedirect","/details"),r("/login")}}),M.jsxs("div",{className:At.body,children:[M.jsx("h1",{className:At.title,children:n?.title||"Unknown Title"}),M.jsxs("div",{className:At.pills,children:[M.jsx("span",{className:At.pill,children:n?.year||"Unknown Year"}),M.jsx("span",{className:At.pill,children:n?.type==="movie"?"Movie":n?.type==="series"?"Series":"Content"}),n?.genres&&Array.isArray(n.genres)&&n.genres.length>0&&M.jsx("span",{className:At.pill,children:n.genres[0]})]}),M.jsx("p",{className:At.availableLabel,children:"Available:"}),M.jsxs("div",{className:At.pills,children:[n?.language&&Array.isArray(n.language)&&n.language.length>0&&M.jsx("span",{className:`${At.pill} ${At.clickablePill}`,onClick:()=>A(!0),children:"Languages"}),n?.subtitles&&Array.isArray(n.subtitles)&&n.subtitles.length>0&&M.jsx("span",{className:`${At.pill} ${At.clickablePill}`,onClick:()=>x(!0),children:"Subtitles"})]}),"        ",M.jsx("p",{className:At.description,children:n?.description||"No description available."}),M.jsx("div",{className:At.services,children:(()=>{const K=n.platforms||n.platform||n.services||[];let se=[];Array.isArray(K)?se=K:K&&typeof K=="string"?se=[K]:K&&typeof K=="object"&&(se=[K]),console.log("Platform data found:",se);const re=ee=>{if(!ee||typeof ee!="string")return null;const le=ee.toLowerCase();return{netflix:"/images/netflix.webp","prime video":"/images/primevideo.svg","amazon prime":"/images/primevideo.svg","disney+":"/images/disneyplus.svg","disney plus":"/images/disneyplus.svg","hbo max":"/images/hbomax.webp",hbo:"/images/hbomax.webp",viaplay:"/images/viaplay-white.webp","apple tv":"/images/apple-tv.webp","apple tv+":"/images/apple-tv.webp",skyshowtime:"https://d21buns5ku92am.cloudfront.net/69678/background_image/large-1734104572.png","yousee play":"https://www.flatpanels.dk/pictures/youseeplay2022_4.jpg",blockbuster:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Blockbuster_logo.svg/2560px-Blockbuster_logo.svg.png","google play":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Google_Play_2012-2016_icon.svg/1921px-Google_Play_2012-2016_icon.svg.png",filmstriben:"https://play-lh.googleusercontent.com/U6R-EOFB6iPfrES9gMIpu9Iwm1RHYt4g_WyOiGoqFGFw01vLt6BuPBwG3v2WaoiLOnA",youtube:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/2560px-YouTube_full-color_icon_%282017%29.svg.png","sf anytime":"https://img-cdn.sfanytime.com/APP/LOGO_HORIZ_SF_587bf34c3e68af3b0577acbddac02d77.svg?bg=141414&fill-color=141414&pad=171&h=512&w=910&fit=fill&fm=svg&s=302e546fa8511684046dc2cbe68a39ef",dr:"https://storage.tweak.dk/smart%20home/Et_kig_p%C3%A5_DR_TV_anno_2020/Et_kig_p%C3%A5_DR_TV_anno_2020_.jpg","tv2 play":"https://cdn-play-prismic.tv2i.dk/playlandingpages/96cabc75-acf2-47c0-bbe4-24b140d0d5ee_Web+Channels-4.png?auto=compress,format"}[le]||null};return se.length>0?se.map((ee,le)=>{const be=typeof ee=="string"?ee:ee?.name||"Unknown Platform",je=typeof ee=="object"?ee?.url:null,we=re(be),Me=()=>{if(je)window.open(je,"_blank","noopener,noreferrer");else{const V=encodeURIComponent(n.title),q={netflix:`https://www.netflix.com/search?q=${V}`,"prime video":`https://www.amazon.com/s?k=${V}&i=prime-instant-video`,"amazon prime":`https://www.amazon.com/s?k=${V}&i=prime-instant-video`,"disney+":`https://www.disneyplus.com/search/${V}`,"disney plus":`https://www.disneyplus.com/search/${V}`,"hbo max":`https://www.max.com/search?q=${V}`,hbo:`https://www.max.com/search?q=${V}`,viaplay:`https://viaplay.dk/search?query=${V}`,"apple tv":`https://tv.apple.com/search?term=${V}`,"apple tv+":`https://tv.apple.com/search?term=${V}`,youtube:`https://www.youtube.com/results?search_query=${V}`},k=be.toLowerCase(),z=q[k];z?window.open(z,"_blank","noopener,noreferrer"):alert(`Please visit ${be} to watch ${n.title}`)}};return M.jsxs("div",{className:At.serviceCard,children:[M.jsx("div",{className:At.serviceLeft,children:M.jsx("div",{className:At.logoWrap,children:we?M.jsx("img",{src:we,alt:be,className:At.platformLogo}):M.jsx("div",{className:At.logoPlaceholder,children:be[0]?.toUpperCase()||"P"})})}),M.jsxs("div",{className:At.serviceRight,children:[M.jsxs("div",{className:At.serviceMeta,children:["Available on",M.jsx("br",{}),M.jsx("span",{className:At.platformName,children:be})]}),M.jsx(Di,{className:At.watchButton,onClick:Me,children:"Watch now"})]})]},le)}):M.jsx("div",{className:At.noServices,children:M.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[M.jsx("p",{style:{marginBottom:"10px",opacity:.8},children:" This content is available to watch"}),M.jsx("small",{style:{opacity:.6},children:"Platform information will be added soon"})]})})})()})]}),v&&M.jsx("div",{className:At.popupOverlay,onClick:()=>A(!1),children:M.jsxs("div",{className:At.popup,onClick:K=>K.stopPropagation(),children:[M.jsxs("div",{className:At.popupHeader,children:[M.jsx("h3",{children:"Available Languages"}),M.jsx("button",{className:At.closeButton,onClick:()=>A(!1),children:""})]}),M.jsx("div",{className:At.popupContent,children:n?.language?.map((K,se)=>M.jsx("span",{className:At.popupPill,children:K},se))})]})}),N&&M.jsx("div",{className:At.popupOverlay,onClick:()=>x(!1),children:M.jsxs("div",{className:At.popup,onClick:K=>K.stopPropagation(),children:[M.jsxs("div",{className:At.popupHeader,children:[M.jsx("h3",{children:"Available Subtitles"}),M.jsx("button",{className:At.closeButton,onClick:()=>x(!1),children:""})]}),M.jsx("div",{className:At.popupContent,children:n?.subtitles?.map((K,se)=>M.jsx("span",{className:At.popupPill,children:K},se))})]})}),M.jsx(Xs,{})]}):(console.warn("No item data found, redirecting to search"),r("/search"),null)}function zV(){const[r,e]=X.useState(!0),n=()=>{e(!1)};return r?M.jsx(eC,{onComplete:n}):M.jsx(jS,{children:M.jsxs(mS,{children:[M.jsx(Lr,{path:"/",element:M.jsx(cC,{})}),M.jsx(Lr,{path:"/signup",element:M.jsx(eD,{})}),M.jsx(Lr,{path:"/login",element:M.jsx(aD,{})}),M.jsx(Lr,{path:"/homepage",element:M.jsx(UD,{})}),M.jsx(Lr,{path:"/search",element:M.jsx(x4,{})}),M.jsx(Lr,{path:"/filter-results",element:M.jsx(Y4,{})}),M.jsx(Lr,{path:"/platform-results",element:M.jsx(lP,{})}),M.jsx(Lr,{path:"/content-type-results",element:M.jsx(TP,{})}),M.jsx(Lr,{path:"/favorites",element:M.jsx(PP,{})}),M.jsx(Lr,{path:"/profile",element:M.jsx(dV,{})}),M.jsx(Lr,{path:"/details",element:M.jsx(BV,{})}),M.jsx(Lr,{path:"*",element:M.jsx(dS,{to:"/",replace:!0})})]})})}AA.createRoot(document.getElementById("root")).render(M.jsx(X.StrictMode,{children:M.jsx(zV,{})}));
